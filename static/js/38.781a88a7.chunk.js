/*! For license information please see 38.781a88a7.chunk.js.LICENSE.txt */
(this.webpackJsonpeverything=this.webpackJsonpeverything||[]).push([[38,10],{1e3:function(e,t,n){var r=n(897),i=n(959),o=n(790),a=n(1415),s=n(1416),u=n(1243),c=n(1244),l=n(1419),f=n(1420),h=n(1421),d=n(1366),p=n(724),m=n(1422),E=n(1423),v=n(1246),g=n(585),y=n(791),b=n(1428),S=n(608),T=n(1430),x=n(723),O=n(686),R="[object Arguments]",A="[object Function]",_="[object Object]",N={};N[R]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[_]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[A]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,C,L,I,w){var M,j=1&n,P=2&n,k=4&n;if(C&&(M=I?C(t,L,I,w):C(t)),void 0!==M)return M;if(!S(t))return t;var D=g(t);if(D){if(M=m(t),!j)return c(t,M)}else{var U=p(t),F=U==A||"[object GeneratorFunction]"==U;if(y(t))return u(t,j);if(U==_||U==R||F&&!I){if(M=P||F?{}:v(t),!j)return P?f(t,s(M,t)):l(t,a(M,t))}else{if(!N[U])return I?t:{};M=E(t,U,j)}}w||(w=new r);var B=w.get(t);if(B)return B;w.set(t,M),T(t)?t.forEach((function(r){M.add(e(r,n,C,r,t,w))})):b(t)&&t.forEach((function(r,i){M.set(i,e(r,n,C,i,t,w))}));var G=D?void 0:(k?P?d:h:P?O:x)(t);return i(G||t,(function(r,i){G&&(r=t[i=r]),o(M,i,e(r,n,C,i,t,w))})),M}},1004:function(e,t,n){var r=n(1589),i=n(1252);e.exports=function(e,t){return null!=e&&i(e,t,r)}},1005:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},1006:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return o})),n.d(t,"fromValues",(function(){return a})),n.d(t,"copy",(function(){return s})),n.d(t,"set",(function(){return u})),n.d(t,"add",(function(){return c})),n.d(t,"subtract",(function(){return l})),n.d(t,"multiply",(function(){return f})),n.d(t,"divide",(function(){return h})),n.d(t,"ceil",(function(){return d})),n.d(t,"floor",(function(){return p})),n.d(t,"min",(function(){return m})),n.d(t,"max",(function(){return E})),n.d(t,"round",(function(){return v})),n.d(t,"scale",(function(){return g})),n.d(t,"scaleAndAdd",(function(){return y})),n.d(t,"distance",(function(){return b})),n.d(t,"squaredDistance",(function(){return S})),n.d(t,"length",(function(){return T})),n.d(t,"squaredLength",(function(){return x})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return R})),n.d(t,"normalize",(function(){return A})),n.d(t,"dot",(function(){return _})),n.d(t,"cross",(function(){return N})),n.d(t,"lerp",(function(){return C})),n.d(t,"random",(function(){return L})),n.d(t,"transformMat2",(function(){return I})),n.d(t,"transformMat2d",(function(){return w})),n.d(t,"transformMat3",(function(){return M})),n.d(t,"transformMat4",(function(){return j})),n.d(t,"rotate",(function(){return P})),n.d(t,"angle",(function(){return k})),n.d(t,"zero",(function(){return D})),n.d(t,"str",(function(){return U})),n.d(t,"exactEquals",(function(){return F})),n.d(t,"equals",(function(){return B})),n.d(t,"len",(function(){return G})),n.d(t,"sub",(function(){return V})),n.d(t,"mul",(function(){return H})),n.d(t,"div",(function(){return z})),n.d(t,"dist",(function(){return W})),n.d(t,"sqrDist",(function(){return Y})),n.d(t,"sqrLen",(function(){return X})),n.d(t,"forEach",(function(){return q}));var r=n(644);function i(){var e=new r.a(2);return r.a!=Float32Array&&(e[0]=0,e[1]=0),e}function o(e){var t=new r.a(2);return t[0]=e[0],t[1]=e[1],t}function a(e,t){var n=new r.a(2);return n[0]=e,n[1]=t,n}function s(e,t){return e[0]=t[0],e[1]=t[1],e}function u(e,t,n){return e[0]=t,e[1]=n,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function h(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function d(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function p(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function m(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function E(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function y(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function b(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function S(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function T(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function x(e){var t=e[0],n=e[1];return t*t+n*n}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function A(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function _(e,t){return e[0]*t[0]+e[1]*t[1]}function N(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function C(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function L(e,t){t=t||1;var n=2*r.c()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function I(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function w(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function M(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function j(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function P(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=Math.sin(r),s=Math.cos(r);return e[0]=i*s-o*a+n[0],e[1]=i*a+o*s+n[1],e}function k(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function D(e){return e[0]=0,e[1]=0,e}function U(e){return"vec2("+e[0]+", "+e[1]+")"}function F(e,t){return e[0]===t[0]&&e[1]===t[1]}function B(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.b*Math.max(1,Math.abs(i),Math.abs(a))}var G=T,V=l,H=f,z=h,W=b,Y=S,X=x,q=function(){var e=i();return function(t,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}()},1017:function(e,t,n){var r=n(1590)();e.exports=r},1018:function(e,t,n){var r=n(1593),i=n(730);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},1019:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},1021:function(e,t,n){var r=n(772),i=n(1896),o=n(1897);e.exports=function(e,t){return o(i(e,t,r),e+"")}},1022:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"History");t.default=a},1231:function(e,t,n){"use strict";var r=n(3),i=n(13),o=n(2),a=n(1),s=(n(10),n(134)),u=n(242),c=n(253),l=n(15),f=n(42),h=n(0),d=Object(f.a)(Object(h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=Object(f.a)(Object(h.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),m=n(8),E=Object(m.a)("span")({position:"relative",display:"flex"}),v=Object(m.a)(d)({transform:"scale(1)"}),g=Object(m.a)(p)((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var y=function(e){var t=e.checked,n=void 0!==t&&t,r=e.classes,i=void 0===r?{}:r,a=e.fontSize,s=Object(o.a)({},e,{checked:n});return Object(h.jsxs)(E,{className:i.root,ownerState:s,children:[Object(h.jsx)(v,{fontSize:a,className:i.background,ownerState:s}),Object(h.jsx)(g,{fontSize:a,className:i.dot,ownerState:s})]})},b=n(17),S=n(256),T=n(661);var x=n(69),O=n(78);function R(e){return Object(x.a)("MuiRadio",e)}var A=Object(O.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),_=["checked","checkedIcon","color","icon","name","onChange","size"],N=Object(m.a)(c.a,{shouldForwardProp:function(e){return Object(m.b)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat(Object(b.a)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({color:t.palette.text.secondary,"&:hover":{backgroundColor:Object(u.a)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&Object(r.a)({},"&.".concat(A.checked),{color:t.palette[n.color].main}),Object(r.a)({},"&.".concat(A.disabled),{color:t.palette.action.disabled}))}));var C=Object(h.jsx)(y,{checked:!0}),L=Object(h.jsx)(y,{}),I=a.forwardRef((function(e,t){var n,r,u,c,f=Object(l.a)({props:e,name:"MuiRadio"}),d=f.checked,p=f.checkedIcon,m=void 0===p?C:p,E=f.color,v=void 0===E?"primary":E,g=f.icon,y=void 0===g?L:g,x=f.name,O=f.onChange,A=f.size,I=void 0===A?"medium":A,w=Object(i.a)(f,_),M=Object(o.a)({},f,{color:v,size:I}),j=function(e){var t=e.classes,n=e.color,r={root:["root","color".concat(Object(b.a)(n))]};return Object(o.a)({},t,Object(s.a)(r,R,t))}(M),P=a.useContext(T.a),k=d,D=Object(S.a)(O,P&&P.onChange),U=x;return P&&("undefined"===typeof k&&(u=P.value,k="object"===typeof(c=f.value)&&null!==c?u===c:String(u)===String(c)),"undefined"===typeof U&&(U=P.name)),Object(h.jsx)(N,Object(o.a)({type:"radio",icon:a.cloneElement(y,{fontSize:null!=(n=L.props.fontSize)?n:I}),checkedIcon:a.cloneElement(m,{fontSize:null!=(r=C.props.fontSize)?r:I}),ownerState:M,classes:j,name:U,checked:k,onChange:D,ref:t},w))}));t.a=I},1243:function(e,t,n){(function(e){var r=n(845),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(1012)(e))},1244:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1245:function(e,t,n){var r=n(824);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1246:function(e,t,n){var r=n(1247),i=n(823),o=n(898);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},1247:function(e,t,n){var r=n(608),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1252:function(e,t,n){var r=n(1014),i=n(943),o=n(585),a=n(1332),s=n(1999),u=n(857);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(o(e)||i(e))}},1253:function(e,t,n){var r=n(1342),i=n(1596),o=n(1343);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,m=!0,E=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var v=e[p],g=t[p];if(a)var y=c?a(g,v,p,t,e,u):a(v,g,p,e,t,u);if(void 0!==y){if(y)continue;m=!1;break}if(E){if(!i(t,(function(e,t){if(!o(E,t)&&(v===e||s(v,e,n,a,u)))return E.push(t)}))){m=!1;break}}else if(v!==g&&!s(v,g,n,a,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},1254:function(e,t,n){var r=n(608);e.exports=function(e){return e===e&&!r(e)}},1255:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1295:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.default=a},1296:function(e,t,n){var r=n(964),i=n(2563)(r);e.exports=i},1297:function(e,t,n){var r=n(855),i=n(728),o=n(1332),a=n(608);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},1298:function(e,t,n){"use strict";var r=n(556);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),(function n(i){var o=e.node(i);if(r.has(t,i))return o.rank;t[i]=!0;var a=r.min(r.map(e.outEdges(i),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),o.rank=a}))},longestPathWithLayer:function(e){var t={},n=0;function i(t,n){var o=e.node(t),a=isNaN(o.layer)?n:o.layer;(void 0===o.rank||o.rank<a)&&(o.rank=a),r.map(e.outEdges(t),(function(t){i(t.w,a+e.edge(t).minlen)}))}r.forEach(e.sources(),(function i(o){var a=e.node(o);if(r.has(t,o))return a.rank;t[o]=!0;var s=r.min(r.map(e.outEdges(o),(function(t){return i(t.w)-e.edge(t).minlen})));return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),a.rank=s,n=Math.min(a.rank,n),a.rank})),n+=1,e.nodes().forEach((function(t){var r=e.node(t);isNaN(r.layer)?r.rank-=n:i(t,r.layer)}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},1299:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(244),i=n.n(r),o=n(245),a=n.n(o),s=n(558),u=function(){function e(t,n){i()(this,e),this.center=void 0,this.halfExtents=void 0,this.min=s.e.create(),this.max=s.e.create(),this.update(t,n)}return a()(e,[{key:"update",value:function(e,t){this.center=e||s.e.create(),this.halfExtents=t||s.e.fromValues(.5,.5,.5),this.min=s.e.sub(this.min,this.center,this.halfExtents),this.max=s.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){s.e.add(this.center,t,e),s.e.scale(this.center,this.center,.5),s.e.sub(this.halfExtents,t,e),s.e.scale(this.halfExtents,this.halfExtents,.5),s.e.copy(this.min,e),s.e.copy(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var t=this.center,n=t[0],r=t[1],i=t[2],o=this.halfExtents,a=o[0],s=o[1],u=o[2],c=n-a,l=n+a,f=r-s,h=r+s,d=i-u,p=i+u,m=e.center,E=m[0],v=m[1],g=m[2],y=e.halfExtents,b=y[0],S=y[1],T=y[2],x=E-b,O=E+b,R=v-S,A=v+S,_=g-T,N=g+T;x<c&&(c=x),O>l&&(l=O),R<f&&(f=R),A>h&&(h=A),_<d&&(d=_),N>p&&(p=N),t[0]=.5*(c+l),t[1]=.5*(f+h),t[2]=.5*(d+p),o[0]=.5*(l-c),o[1]=.5*(h-f),o[2]=.5*(p-d),this.min[0]=c,this.min[1]=f,this.min[2]=d,this.max[0]=l,this.max[1]=h,this.max[2]=p}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"containsPoint",value:function(e){var t=this.getMin(),n=this.getMax();return!(e[0]<t[0]||e[0]>n[0]||e[1]<t[1]||e[1]>n[1]||e[2]<t[2]||e[2]>n[2])}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?s.e.copy(s.e.create(),this.min):272===e.pnVertexFlag?s.e.fromValues(this.min[0],this.min[1],this.max[2]):257===e.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.min[2]):256===e.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.max[2]):17===e.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.min[2]):16===e.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.max[2]):1===e.pnVertexFlag?s.e.fromValues(this.max[0],this.max[1],this.min[2]):s.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?s.e.copy(s.e.create(),this.max):272===e.pnVertexFlag?s.e.fromValues(this.max[0],this.max[1],this.min[2]):257===e.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.max[2]):256===e.pnVertexFlag?s.e.fromValues(this.max[0],this.min[1],this.min[2]):17===e.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.max[2]):16===e.pnVertexFlag?s.e.fromValues(this.min[0],this.max[1],this.min[2]):1===e.pnVertexFlag?s.e.fromValues(this.min[0],this.min[1],this.max[2]):s.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),e}()},1300:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r,i,o,a,s,u,c,l,f,h,d,p,m,E=n(587),v=n.n(E),g=n(588),y=n.n(g),b=n(562),S=n.n(b),T=n(244),x=n.n(T),O=n(245),R=n.n(O),A=n(563),_=n.n(A),N=(n(564),n(530)),C=n(653),L=n(1969),I=n(1301);function w(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=1,P=2,k=(r=Object(N.injectable)(),i=Object(N.inject)(C.a.RenderEngine),o=Object(N.inject)(C.a.ResourcePool),a=Object(N.inject)(C.a.RenderPassFactory),s=Object(N.inject)(C.a.MeshComponentManager),r((m=p=function(){function e(){var t=this;x()(this,e),S()(this,"engine",l,this),S()(this,"resourcePool",f,this),S()(this,"renderPassFactory",h,this),S()(this,"mesh",d,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,t,n){var r=e.createRenderTarget(t,"picking fbo",{width:1,height:1});n.data={output:t.write(e,r)},t.hasSideEffect=!0},this.execute=function(){var e=y()(v.a.mark((function e(n,r,i){var o,a,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.views=i,!t.alreadyInRendering){e.next=3;break}return e.abrupt("return");case 3:o=w(i);try{for(s=function(){var e=a.value,i=e.getViewport(),o=i.width,s=i.height;t.alreadyInRendering=!0;var u=n.getResourceNode(r.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(u.resource),t.pickingFBO.resize({width:o,height:s}),t.engine.useFramebuffer(t.pickingFBO,(function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=t.renderPassFactory(I.a.IDENTIFIER),i=[],o=w(e.getScene().getEntities());try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",j),i.push(s)}}catch(u){o.e(u)}finally{o.f()}r.renderView(e),i.forEach((function(e){e.material.setUniform("u_PickingStage",P)})),t.alreadyInRendering=!1}))},o.s();!(a=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.pick=function(e,n){var r,i,o=e.x,a=e.y,s=t.engine,u=s.readPixels,c=s.useFramebuffer,l=n.getViewport(),f=l.width,h=l.height,d=o*window.devicePixelRatio,p=a*window.devicePixelRatio;if(!(d>f||d<0||p>h||p<0))return c(t.pickingFBO,(function(){0===(r=u({x:Math.round(d),y:Math.round(h-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(i=Object(L.a)(r),t.highlightEnabled&&t.highlightPickedFeature(r,n))})),i}}return R()(e,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,t){if(e){var n,r=w(t.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.mesh.getComponentByEntity(i).material;o.setUniform("u_PickingStage",P),o.setUniform("u_PickingColor",[e[0],e[1],e[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(a){r.e(a)}finally{r.f()}}}}]),e}(),p.IDENTIFIER="PixelPicking Pass",c=m,l=_()(c.prototype,"engine",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_()(c.prototype,"resourcePool",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=_()(c.prototype,"renderPassFactory",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=_()(c.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u)},1301:function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r,i,o,a,s,u,c,l,f,h,d,p,m,E,v,g,y,b,S,T,x,O,R,A,_=n(587),N=n.n(_),C=n(588),L=n.n(C),I=n(562),w=n.n(I),M=n(244),j=n.n(M),P=n(245),k=n.n(P),D=n(563),U=n.n(D),F=(n(564),n(558)),B=n(530),G=n(653),V=n(878);function H(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=(r=Object(B.injectable)(),i=Object(B.inject)(G.a.MeshComponentManager),o=Object(B.inject)(G.a.GeometryComponentManager),a=Object(B.inject)(G.a.MaterialComponentManager),s=Object(B.inject)(G.a.CullableComponentManager),u=Object(B.inject)(G.a.TransformComponentManager),c=Object(B.inject)(G.a.HierarchyComponentManager),l=Object(B.inject)(G.a.Systems),f=Object(B.named)(G.a.FrameGraphSystem),h=Object(B.inject)(G.a.RenderEngine),d=Object(B.inject)(G.a.ResourcePool),r((A=R=function(){function e(){var t=this;j()(this,e),w()(this,"mesh",E,this),w()(this,"geometry",v,this),w()(this,"material",g,this),w()(this,"cullable",y,this),w()(this,"transform",b,this),w()(this,"hierarchy",S,this),w()(this,"frameGraphSystem",T,this),w()(this,"engine",x,this),w()(this,"resourcePool",O,this),this.modelCache={},this.setup=function(e,t,n){var r=e.createRenderTarget(t,"color buffer",{width:1,height:1,usage:V.a.RENDER_ATTACHMENT|V.a.SAMPLED|V.a.COPY_SRC});n.data={output:t.write(e,r)}},this.execute=function(){var e=L()(N.a.mark((function e(n,r,i){var o,a,s,u,c,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getResourceNode(r.data.output),a=t.resourcePool.getOrCreateResource(o.resource),s=H(i),e.prev=3,s.s();case 5:if((u=s.n()).done){e.next=11;break}return c=u.value,e.next=9,t.initView(c);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:l=t.engine.getCanvas(),a.resize({width:l.width,height:l.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:a,color:i[0].getClearColor(),depth:1}),t.engine.useFramebuffer(a,(function(){var e,n=H(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.renderView(r)}}catch(o){n.e(o)}finally{n.f()}}));case 24:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()}return k()(e,[{key:"renderView",value:function(e){var t=e.getScene(),n=e.getCamera(),r=n.getViewTransform(),i=F.b.multiply(F.b.create(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var o=e.getViewport(),a=o.x,s=o.y,u=o.width,c=o.height;this.engine.viewport({x:a,y:s,width:u,height:c});var l,f=H(t.getEntities());try{for(f.s();!(l=f.n()).done;){var h=l.value;this.renderMesh(h,{camera:n,view:e,viewMatrix:r})}}catch(d){f.e(d)}finally{f.f()}}},{key:"renderMesh",value:function(e,t){var n=t.camera,r=t.view,i=t.viewMatrix,o=this.mesh.getComponentByEntity(e);if(o&&o.visible){var a=o.material,s=o.geometry;if(s&&!s.dirty&&a){var u=this.transform.getComponentByEntity(e),c=F.b.multiply(F.b.create(),i,u.worldTransform),l=r.getViewport(),f=l.width,h=l.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:c,modelMatrix:u.worldTransform,viewMatrix:i,cameraPosition:n.getPosition(),u_viewport:[f,h]}),o.model&&(o.model.draw({uniforms:a.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{})}),a.uniforms.forEach((function(e){e.dirty=!1})),a.dirty=!1)}}}},{key:"initMesh",value:function(){var e=L()(N.a.mark((function e(t,n){var r,i,o,a,s,u,c,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.mesh.getComponentByEntity(t)){e.next=3;break}return e.abrupt("return");case 3:if(i=r.material,(o=r.geometry)&&!o.dirty&&i){e.next=7;break}return e.abrupt("return");case 7:if(r.model){e.next=24;break}if(a="m-".concat(i.entity,"-g-").concat(o.entity),!this.modelCache[a]){e.next=12;break}return r.model=this.modelCache[a],e.abrupt("return");case 12:return i.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,u=s.createModel,c=s.createAttribute,l={vs:i.vertexShaderGLSL,fs:i.fragmentShaderGLSL,defines:i.defines,attributes:o.attributes.reduce((function(e,t){return t.data&&t.buffer&&(e[t.name]=c({buffer:t.buffer,attributes:t.attributes,arrayStride:t.arrayStride,stepMode:t.stepMode,divisor:"vertex"===t.stepMode?0:1})),e}),{}),uniforms:i.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},i.cull&&(l.cull=i.cull),i.depth&&(l.depth=i.depth),i.blend&&(l.blend=i.blend),o.indicesBuffer&&(l.elements=o.indicesBuffer),o.maxInstancedCount&&(l.instances=o.maxInstancedCount,l.count=o.vertexCount||3),e.next=22,u(l);case 22:r.model=e.sent,this.modelCache[a]=r.model;case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initView",value:function(){var e=L()(N.a.mark((function e(t){var n,r,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getScene(),r=H(n.getEntities()),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,this.initMesh(o,t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),R.IDENTIFIER="Render Pass",m=A,E=U()(m.prototype,"mesh",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=U()(m.prototype,"geometry",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=U()(m.prototype,"material",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=U()(m.prototype,"cullable",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=U()(m.prototype,"transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=U()(m.prototype,"hierarchy",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=U()(m.prototype,"frameGraphSystem",[l,f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=U()(m.prototype,"engine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=U()(m.prototype,"resourcePool",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p)},1302:function(e,t,n){"use strict";var r=n(878);n.d(t,"gl",(function(){return r.a}));n(1921),n(1922),n(1923),n(1924),n(1925),n(1926),n(1927),n(1928),n(1929),n(1930),n(1931)},1316:function(e,t,n){"use strict";var r=n(13),i=n(2),o=n(1),a=(n(10),n(14)),s=n(134),u=n(54),c=n(8),l=n(15),f=n(69),h=n(78);function d(e){return Object(f.a)("MuiListItemAvatar",e)}Object(h.a)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var p=n(0),m=["className"],E=Object(c.a)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.ownerState;return Object(i.a)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),v=o.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiListItemAvatar"}),c=n.className,f=Object(r.a)(n,m),h=o.useContext(u.a),v=Object(i.a)({},n,{alignItems:h.alignItems}),g=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return Object(s.a)(r,d,n)}(v);return Object(p.jsx)(E,Object(i.a)({className:Object(a.default)(g.root,c),ownerState:v,ref:t},f))}));t.a=v},1331:function(e,t,n){var r=n(1e3);e.exports=function(e){return r(e,5)}},1341:function(e,t,n){var r=n(838),i=n(964),o=n(687);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1342:function(e,t,n){var r=n(1997),i=n(1594),o=n(1595);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},1343:function(e,t){e.exports=function(e,t){return e.has(t)}},1345:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},1346:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},1366:function(e,t,n){var r=n(2002),i=n(961),o=n(686);e.exports=function(e){return r(e,o,i)}},1369:function(e,t,n){var r=n(1602),i=n(1252);e.exports=function(e,t){return null!=e&&i(e,t,r)}},1370:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},1375:function(e,t,n){var r=n(1537),i=n(2573);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},1385:function(e,t,n){"use strict";var r=n(3),i=n(13),o=n(2),a=n(1),s=(n(10),n(14)),u=n(134),c=n(227),l=n(15),f=n(8),h=n(69),d=n(78);function p(e){return Object(h.a)("MuiCardHeader",e)}var m=Object(d.a)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),E=n(0),v=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=Object(f.a)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var n;return Object(o.a)((n={},Object(r.a)(n,"& .".concat(m.title),t.title),Object(r.a)(n,"& .".concat(m.subheader),t.subheader),n),t.root)}})({display:"flex",alignItems:"center",padding:16}),y=Object(f.a)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),b=Object(f.a)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),S=Object(f.a)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),T=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiCardHeader"}),r=n.action,a=n.avatar,f=n.className,h=n.component,d=void 0===h?"div":h,m=n.disableTypography,T=void 0!==m&&m,x=n.subheader,O=n.subheaderTypographyProps,R=n.title,A=n.titleTypographyProps,_=Object(i.a)(n,v),N=Object(o.a)({},n,{component:d,disableTypography:T}),C=function(e){var t=e.classes;return Object(u.a)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,t)}(N),L=R;null==L||L.type===c.a||T||(L=Object(E.jsx)(c.a,Object(o.a)({variant:a?"body2":"h5",className:C.title,component:"span",display:"block"},A,{children:L})));var I=x;return null==I||I.type===c.a||T||(I=Object(E.jsx)(c.a,Object(o.a)({variant:a?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},O,{children:I}))),Object(E.jsxs)(g,Object(o.a)({className:Object(s.default)(C.root,f),as:d,ref:t,ownerState:N},_,{children:[a&&Object(E.jsx)(y,{className:C.avatar,ownerState:N,children:a}),Object(E.jsxs)(S,{className:C.content,ownerState:N,children:[L,I]}),r&&Object(E.jsx)(b,{className:C.action,ownerState:N,children:r})]}))}));t.a=T},1399:function(e,t,n){var r=n(1979);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},1400:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},1402:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},1406:function(e,t,n){var r=n(845);e.exports=function(){return r.Date.now()}},1407:function(e,t,n){var r=n(1408),i=n(608),o=n(1013),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1408:function(e,t,n){var r=n(1409),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1409:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},1415:function(e,t,n){var r=n(715),i=n(723);e.exports=function(e,t){return e&&r(t,i(t),e)}},1416:function(e,t,n){var r=n(715),i=n(686);e.exports=function(e,t){return e&&r(t,i(t),e)}},1417:function(e,t,n){var r=n(608),i=n(898),o=n(1418),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},1418:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1419:function(e,t,n){var r=n(715),i=n(1334);e.exports=function(e,t){return r(e,i(e),t)}},1420:function(e,t,n){var r=n(715),i=n(961);e.exports=function(e,t){return r(e,i(e),t)}},1422:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},1423:function(e,t,n){var r=n(824),i=n(1425),o=n(1426),a=n(1427),s=n(1245);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},1425:function(e,t,n){var r=n(824);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},1426:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},1427:function(e,t,n){var r=n(957),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1428:function(e,t,n){var r=n(1429),i=n(960),o=n(1333),a=o&&o.isMap,s=a?i(a):r;e.exports=s},1429:function(e,t,n){var r=n(724),i=n(730);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},1430:function(e,t,n){var r=n(1431),i=n(960),o=n(1333),a=o&&o.isSet,s=a?i(a):r;e.exports=s},1431:function(e,t,n){var r=n(724),i=n(730);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},1433:function(e,t,n){var r=n(1536),i=n(724),o=n(943),a=n(585),s=n(728),u=n(791),c=n(898),l=n(944),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},1443:function(e,t,n){"use strict";var r=n(679);e.exports=o;var i="\0";function o(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,i){var o=""+t,a=""+n;if(!e&&o>a){var s=o;o=a,a=s}return o+"\x01"+a+"\x01"+(r.isUndefined(i)?"\0":i)}function c(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function l(e,t){return u(e,t.v,t.w,t.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._in[t])}))},o.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._out[t])}))},o.prototype.setNodes=function(e,t){var n=arguments,i=this;return r.each(e,(function(e){n.length>1?i.setNode(e,t):i.setNode(e)})),this},o.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return r.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},o.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},o.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),r.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var i={};function o(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(i[e]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,o(e))})),t},o.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,(function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},o.prototype.setEdge=function(){var e,t,n,i,o=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var l=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,l))return o&&(this._edgeLabels[l]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[l]=o?i:this._defaultEdgeLabelFn(e,t,n);var f=c(this._isDirected,e,t,n);return e=f.v,t=f.w,Object.freeze(f),this._edgeObjs[l]=f,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][l]=f,this._out[e][l]=f,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.v===t})):i}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.w===t})):i}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},1444:function(e,t){e.exports=function(e){return function(){return e}}},1445:function(e,t,n){var r=n(1013);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===u?s===s&&!r(s):n(s,u)))var u=s,c=a}return c}},1446:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=-1,i=1;function o(){return i++}},1447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(1448),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},1448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(1447),i=n(1917),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},1449:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,i,o,a,s,u,c,l,f=n(587),h=n.n(f),d=n(588),p=n.n(d),m=n(562),E=n.n(m),v=n(244),g=n.n(v),y=n(245),b=n.n(y),S=n(563),T=n.n(S),x=(n(564),n(530)),O=n(534),R=n(653),A=n(878),_=(r=Object(x.injectable)(),i=Object(x.inject)(R.a.GeometryComponentManager),o=Object(x.inject)(R.a.RenderEngine),r((l=function(){function e(){g()(this,e),E()(this,"geometry",u,this),E()(this,"engine",c,this)}return b()(e,[{key:"execute",value:function(){var e=p()(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.geometry.forEach((function(e,n){n.dirty&&(n.attributes.forEach((function(e){if(e.dirty&&e.data){var n;if(e.buffer)null===(n=e.buffer)||void 0===n||n.subData({data:e.data,offset:0});else e.buffer=t.engine.createBuffer({data:e.data,type:A.a.FLOAT});e.dirty=!1}})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=t.engine.createElements({data:n.indices,count:n.indices.length,type:A.a.UNSIGNED_INT,usage:A.a.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach((function(e,t){t.indicesBuffer&&t.indicesBuffer.destroy(),t.attributes.forEach((function(e){e.buffer&&e.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},t=e.vertexCount,n=Object(O.createEntity)();return this.geometry.create(n,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(e){var t=e.maxInstancedCount,n=e.vertexCount,r=Object(O.createEntity)();return this.geometry.create(r,{maxInstancedCount:t,vertexCount:n})}}]),e}(),s=l,u=T()(s.prototype,"geometry",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=T()(s.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)},1450:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(250),i=n.n(r),o=n(244),a=n.n(o),s=n(245),u=n.n(s),c=n(691),l=n.n(c),f=n(616),h=n.n(f),d=n(617),p=n.n(d),m=n(618),E=n.n(m),v=n(534);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var S=function(e){h()(n,e);var t=b(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.defines={},r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:v.gl.BACK},r.depth={enable:!0},r.blend=void 0,r.entity=void 0,r.type=void 0,Object.assign(l()(r),e),r}return u()(n,[{key:"setDefines",value:function(e){return this.defines=y(y({},this.defines),e),this}},{key:"setCull",value:function(e){return this.cull=e,this}},{key:"setDepth",value:function(e){return this.depth=e,this}},{key:"setBlend",value:function(e){return this.blend=e,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!==typeof e)return Object.keys(e).forEach((function(t){return n.setUniform(t,e[t])})),this;var r=this.uniforms.find((function(t){return t.name===e}));return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),n}(n(651).a)},1451:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r,i,o,a,s,u,c,l,f,h,d=n(250),p=n.n(d),m=n(587),E=n.n(m),v=n(588),g=n.n(v),y=n(562),b=n.n(y),S=n(244),T=n.n(S),x=n(245),O=n.n(x),R=n(563),A=n.n(R),_=(n(564),n(530)),N=n(534),C=n(653);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(r=Object(_.injectable)(),i=Object(_.inject)(C.a.MaterialComponentManager),o=Object(_.inject)(C.a.RenderEngine),a=Object(_.inject)(C.a.ShaderModuleService),r((h=function(){function e(){T()(this,e),b()(this,"material",c,this),b()(this,"engine",l,this),b()(this,"shaderModule",f,this)}return O()(e,[{key:"execute",value:function(){var e=g()(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var t=Object(N.createEntity)(),n=e.vertexShader,r=e.fragmentShader,i=[];if(!this.engine.supportWebGPU){var o="material-".concat(t);this.shaderModule.registerModule(o,{vs:e.vertexShader,fs:e.fragmentShader});var a=this.shaderModule.getModule(o);n=a.vs,r=a.fs,a.uniforms&&(i=Object.keys(a.uniforms).map((function(e){return{dirty:!0,name:e,data:a.uniforms[e]}})))}return this.material.create(t,I(I({vertexShaderGLSL:n,fragmentShaderGLSL:r},e),{},{uniforms:i}))}}]),e}(),u=h,c=A()(u.prototype,"material",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=A()(u.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=A()(u.prototype,"shaderModule",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u))||s)},1452:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r,i=n(244),o=n.n(i),a=n(691),s=n.n(a),u=n(616),c=n.n(u),l=n(617),f=n.n(l),h=n(618),d=n.n(h),p=n(651);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}!function(e){e[e.Standard=0]="Standard"}(r||(r={}));var E=function(e){c()(n,e);var t=m(n);function n(e){var i;return o()(this,n),(i=t.call(this,e)).strategy=r.Standard,i.visibilityPlaneMask=0,i.visible=!1,Object.assign(s()(i),e),i}return n}(p.a)},1453:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(244),i=n.n(r),o=n(691),a=n.n(o),s=n(616),u=n.n(s),c=n(617),l=n.n(c),f=n(618),h=n.n(f),d=n(651),p=n(1299);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var E=function(e){u()(n,e);var t=m(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).material=void 0,r.geometry=void 0,r.aabb=new p.a,r.aabbDirty=!0,r.model=void 0,r.visible=!0,r.children=[],Object.assign(a()(r),e),r}return n}(d.a)},1454:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r,i,o,a,s,u,c,l,f,h,d,p,m,E,v=n(587),g=n.n(v),y=n(588),b=n.n(y),S=n(562),T=n.n(S),x=n(244),O=n.n(x),R=n(245),A=n.n(R),_=n(563),N=n.n(_),C=(n(564),n(558)),L=n(530),I=n(653),w=n(1455),M=n(1969);function j(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=(r=Object(L.injectable)(),i=Object(L.inject)(I.a.MeshComponentManager),o=Object(L.inject)(I.a.CullableComponentManager),a=Object(L.inject)(I.a.GeometryComponentManager),s=Object(L.inject)(I.a.HierarchyComponentManager),u=Object(L.inject)(I.a.TransformComponentManager),r((E=function(){function e(){O()(this,e),T()(this,"mesh",f,this),T()(this,"cullable",h,this),T()(this,"geometry",d,this),T()(this,"hierarchy",p,this),T()(this,"transform",m,this),this.planes=void 0}return A()(e,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var e=b()(g.a.mark((function e(t){var n,r,i,o,a,s,u,c,l,f,h,d,p,m,E,v,y,b,S,T,x;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=j(t);try{for(n.s();!(r=n.n()).done;){i=r.value,o=i.getScene(),a=i.getCamera(),s=j(o.getEntities());try{for(s.s();!(u=s.n()).done;)c=u.value,(l=this.mesh.getComponentByEntity(c))&&(f=this.hierarchy.getComponentByEntity(c),h=this.cullable.getComponentByEntity(c),d=l.geometry,p=this.transform.getComponentByEntity(c),d&&d.aabb&&p&&l.aabbDirty&&(m=p.worldTransform,E=d.aabb,v=E.center,y=E.halfExtents,b=C.e.transformMat4(C.e.create(),v,m),S=Object(M.b)(m,C.a.create()),T=C.e.transformMat3(C.e.create(),y,S),l.aabb.update(b,T),l.aabbDirty=!1),h&&d&&(x=this.cullable.getComponentByEntity((null===f||void 0===f?void 0:f.parentID)||-1),h.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(l.aabb,(null===x||void 0===x?void 0:x.visibilityPlaneMask)||w.b.INDETERMINATE,this.planes||a.getFrustum().planes),h.visible=h.visibilityPlaneMask!==w.b.OUTSIDE))}catch(g){s.e(g)}finally{s.f()}}}catch(g){n.e(g)}finally{n.f()}case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n){if(t===w.b.OUTSIDE||t===w.b.INSIDE)return t;for(var r=w.b.INSIDE,i=0,o=n.length;i<o;++i){var a=i<31?1<<i:0;if(!(i<31&&0===(t&a))){var s=n[i],u=s.normal,c=s.distance;if(C.e.dot(u,e.getNegativeFarPoint(n[i]))+c>0)return w.b.OUTSIDE;C.e.dot(u,e.getPositiveFarPoint(n[i]))+c>0&&(r|=a)}}return r}}]),e}(),l=E,f=N()(l.prototype,"mesh",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=N()(l.prototype,"cullable",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=N()(l.prototype,"geometry",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=N()(l.prototype,"hierarchy",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=N()(l.prototype,"transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=l))||c)},1455:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return h}));var r,i=n(948),o=n.n(i),a=n(244),s=n.n(a),u=n(245),c=n.n(u),l=n(558),f=n(1456);!function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"}(r||(r={}));var h=function(){function e(t){if(s()(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new f.a)}return c()(e,[{key:"extractFromVPMatrix",value:function(e){var t=o()(e,16),n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],h=t[8],d=t[9],p=t[10],m=t[11],E=t[12],v=t[13],g=t[14],y=t[15];l.e.set(this.planes[0].normal,a-n,f-s,m-h),this.planes[0].distance=-(y-E),l.e.set(this.planes[1].normal,a+n,f+s,m+h),this.planes[1].distance=-(y+E),l.e.set(this.planes[2].normal,a+r,f+u,m+d),this.planes[2].distance=-(y+v),l.e.set(this.planes[3].normal,a-r,f-u,m-d),this.planes[3].distance=-(y-v),l.e.set(this.planes[4].normal,a-i,f-c,m-p),this.planes[4].distance=-(y-g),l.e.set(this.planes[5].normal,a+i,f+c,m+p),this.planes[5].distance=-(y+g),this.planes.forEach((function(e){e.normalize(),e.updatePNVertexFlag()}))}}]),e}()},1456:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(244),i=n.n(r),o=n(245),a=n.n(o),s=n(558),u=function(){function e(t,n){i()(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||s.e.fromValues(0,1,0),this.updatePNVertexFlag()}return a()(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return s.e.dot(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/s.e.len(this.normal);s.e.scale(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&s.e.lerp(n,e,t,i),o}}]),e}()},1457:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r,i,o,a,s,u,c,l,f,h,d,p,m,E=n(587),v=n.n(E),g=n(588),y=n.n(g),b=n(562),S=n.n(b),T=n(244),x=n.n(T),O=n(245),R=n.n(O),A=n(563),_=n.n(A),N=(n(564),n(530)),C=n(653),L=n(1918),I=n(1300),w=n(1301),M=(r=Object(N.injectable)(),i=Object(N.inject)(C.a.Systems),o=Object(N.named)(C.a.FrameGraphSystem),a=Object(N.inject)(C.a.RenderPassFactory),s=Object(N.inject)(C.a.ConfigService),u=Object(N.inject)(C.a.ResourcePool),r((m=function(){function e(){x()(this,e),S()(this,"frameGraphSystem",f,this),S()(this,"renderPassFactory",h,this),S()(this,"configService",d,this),S()(this,"resourcePool",p,this)}return R()(e,[{key:"execute",value:function(){var e=y()(v.a.mark((function e(t){var n,r,i,o,a,s,u,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.renderPassFactory(w.a.IDENTIFIER),r=n.setup,i=n.execute,this.frameGraphSystem.addPass(w.a.IDENTIFIER,r,i),o=this.renderPassFactory(L.a.IDENTIFIER),a=o.setup,s=o.execute,u=o.tearDown,c=this.frameGraphSystem.addPass(L.a.IDENTIFIER,a,s,u),this.frameGraphSystem.present(c.data.output);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,t){return this.renderPassFactory(I.a.IDENTIFIER).pick(e,t)}}]),e}(),l=m,f=_()(l.prototype,"frameGraphSystem",[i,o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=_()(l.prototype,"renderPassFactory",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=_()(l.prototype,"configService",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=_()(l.prototype,"resourcePool",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=l))||c)},1458:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(244),i=n.n(r),o=n(691),a=n.n(o),s=n(616),u=n.n(s),c=n(617),l=n.n(c),f=n(618),h=n.n(f);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var p=function(e){u()(n,e);var t=d(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).parentID=void 0,Object.assign(a()(r),e),r}return n}(n(651).a)},1459:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,i,o,a,s,u,c,l,f,h,d=n(587),p=n.n(d),m=n(588),E=n.n(m),v=n(562),g=n.n(v),y=n(244),b=n.n(y),S=n(245),T=n.n(S),x=n(563),O=n.n(x),R=(n(564),n(558)),A=n(530),_=n(653),N=(r=Object(A.injectable)(),i=Object(A.inject)(_.a.HierarchyComponentManager),o=Object(A.inject)(_.a.TransformComponentManager),a=Object(A.inject)(_.a.MeshComponentManager),r((h=function(){function e(){b()(this,e),g()(this,"hierarchy",c,this),g()(this,"transform",l,this),g()(this,"mesh",f,this)}return T()(e,[{key:"execute",value:function(){var e=E()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach((function(t,n){(n.isDirty()||n.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(t)),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach((function(t,n){var r=e.transform.getComponentByEntity(t),i=e.transform.getComponentByEntity(n.parentID);null!==r&&null!==i&&r.updateTransformWithParent(i)}))}},{key:"attach",value:function(e,t,n){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:t});var r=this.mesh.getComponentByEntity(t);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(e)&&r.children.push(e),this.hierarchy.getCount()>1)for(var i=this.hierarchy.getCount()-1;i>0;--i)for(var o=this.hierarchy.getEntity(i),a=0;a<i;++a){if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(i,a),++i;break}}this.hierarchy.getComponentByEntity(e);var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t));var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e),s=this.transform.getComponentByEntity(t)),u.parent=s,!n&&s&&(u.matrixTransform(R.b.invert(R.b.create(),s.worldTransform)),u.updateTransform()),s&&u.updateTransformWithParent(s)}},{key:"detach",value:function(e){var t=this.hierarchy.getComponentByEntity(e);if(null!==t){var n=this.transform.getComponentByEntity(e);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(e);var r=this.mesh.getComponentByEntity(t.parentID);if(r){var i=r.children.indexOf(e);r.children.splice(i,1)}this.setMeshAABBDirty(r)}}},{key:"detachChildren",value:function(e){var t=this.mesh.getComponentByEntity(e);t&&(t.children=[]);for(var n=0;n<this.hierarchy.getCount();){var r;if((null===(r=this.hierarchy.getComponent(n))||void 0===r?void 0:r.parentID)===e){var i=this.hierarchy.getEntity(n);this.detach(i)}else++n}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),e}(),u=h,c=O()(u.prototype,"hierarchy",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=O()(u.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=O()(u.prototype,"mesh",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u))||s)},1460:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(244),i=n.n(r),o=n(245),a=n.n(o),s=n(691),u=n.n(s),c=n(616),l=n.n(c),f=n(617),h=n.n(f),d=n(618),p=n.n(d),m=n(558);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var v=function(e){l()(n,e);var t=E(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=m.e.fromValues(0,0,0),r.localRotation=m.c.fromValues(0,0,0,1),r.localScale=m.e.fromValues(1,1,1),r.localTransform=m.b.create(),r.position=m.e.fromValues(0,0,0),r.rotation=m.c.fromValues(0,0,0,1),r.scaling=m.e.fromValues(1,1,1),r.worldTransform=m.b.create(),r.matrixTransform=function(){var e=m.b.create();return function(t){m.b.multiply(e,r.getLocalTransform(),t),m.b.getScaling(r.localScale,e),m.b.getTranslation(r.localPosition,e),m.b.getRotation(r.localRotation,e)}}(),r.rotateRollPitchYaw=function(){var e=m.c.create(),t=m.c.create(),n=m.c.create();return function(i,o,a){r.setDirty(),m.c.fromEuler(e,i,0,0),m.c.fromEuler(t,0,o,0),m.c.fromEuler(n,0,0,a),m.c.multiply(r.localRotation,e,r.localRotation),m.c.multiply(r.localRotation,r.localRotation,t),m.c.multiply(r.localRotation,n,r.localRotation),m.c.normalize(r.localRotation,r.localRotation)}}(),r.lerp=function(){var e=m.e.create(),t=m.c.create(),n=m.e.create(),i=m.e.create(),o=m.c.create(),a=m.e.create();return function(s,u,c){r.setDirty(),m.b.getScaling(e,s.worldTransform),m.b.getTranslation(n,s.worldTransform),m.b.getRotation(t,s.worldTransform),m.b.getScaling(i,u.worldTransform),m.b.getTranslation(a,u.worldTransform),m.b.getRotation(o,u.worldTransform),m.e.lerp(r.localScale,e,i,c),m.c.slerp(r.localRotation,t,o,c),m.e.lerp(r.localPosition,n,a,c)}}(),r.translate=function(){var e=m.e.create();return function(t){return m.e.add(e,r.getPosition(),t),r.setPosition(e),r.setDirty(!0),u()(r)}}(),r.translateLocal=function(e){return m.e.transformQuat(e,e,r.localRotation),m.e.add(r.localPosition,r.localPosition,e),r.setLocalDirty(!0),u()(r)},r.setPosition=function(){var e=m.b.create();return function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?m.e.copy(r.localPosition,t):(m.b.copy(e,r.parent.worldTransform),m.b.invert(e,e),m.e.transformMat4(r.localPosition,t,e)),u()(r)}}(),r.rotate=function(){var e=m.c.create();return function(t){if(null===r.parent)m.c.multiply(r.localRotation,r.localRotation,t),m.c.normalize(r.localRotation,r.localRotation);else{var n=r.getRotation(),i=r.parent.getRotation();m.c.copy(e,i),m.c.invert(e,e),m.c.multiply(e,e,t),m.c.multiply(r.localRotation,t,n),m.c.normalize(r.localRotation,r.localRotation)}return r.setLocalDirty(),u()(r)}}(),r.rotateLocal=function(e){return m.c.multiply(r.localRotation,r.localRotation,e),m.c.normalize(r.localRotation,r.localRotation),r.setLocalDirty(!0),u()(r)},r.setRotation=function(){var e=m.c.create();return function(t){return null===r.parent?m.c.copy(r.localRotation,t):(m.c.copy(e,r.parent.getRotation()),m.c.invert(e,e),m.c.copy(r.localRotation,e),m.c.mul(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),u()(r)}}(),r}return a()(n,[{key:"setLocalPosition",value:function(e){m.e.copy(this.localPosition,e),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(e){m.e.copy(this.localScale,e),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(e){return m.c.copy(this.localRotation,e),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&(m.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(e){m.b.multiply(this.worldTransform,e.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),m.b.getScaling(this.localScale,this.worldTransform),m.b.getTranslation(this.localPosition,this.worldTransform),m.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=m.e.fromValues(0,0,0),this.localRotation=m.c.fromValues(0,0,0,1),this.localScale=m.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(e){return this.setLocalDirty(),m.e.multiply(this.localScale,this.localScale,e),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(m.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return m.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return m.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return m.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),n}(n(651).a);v.DIRTY=1},1461:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i,o=n(244),a=n.n(o),s=n(245),u=n.n(s),c=n(530),l=Object(c.injectable)()((i=function(){function e(){a()(this,e),this.config=void 0}return u()(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),e}(),r=i))||r},1462:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i,o=n(244),a=n.n(o),s=n(245),u=n.n(s),c=n(530);!function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"}(i||(i={}));var l=Object(c.injectable)()(r=function(){function e(){a()(this,e)}return u()(e,[{key:"listen",value:function(e){}},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||r},1463:function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},1523:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(948),i=n.n(r),o=n(587),a=n.n(o),s=n(588),u=n.n(s),c=n(562),l=n.n(c),f=n(244),h=n.n(f),d=n(245),p=n.n(d),m=n(563),E=n.n(m),v=(n(564),n(530)),g=n(653),y=function e(){h()(this,e),this.index=void 0},b=function e(){h()(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},S=function(){function e(){h()(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return p()(e,[{key:"read",value:function(e){return this.reads.find((function(t){return t.index===e.index}))||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,t){if(this.writes.find((function(e){return e.index===t.index})))return t;var n=e.getResourceNode(t);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=e.createResourceNode(n.resource);return e.getResourceNode(r).writer=this,this.writes.push(r),r}}]),e}(),T=n(616),x=n.n(T),O=n(617),R=n.n(O),A=n(618),_=n.n(A);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R()(this,n)}}var C,L,I,w,M,j,P=function(e){x()(n,e);var t=N(n);function n(){var e;h()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).version=0,e.refs=0,e.name=void 0,e.imported=void 0,e.priority=void 0,e.discardStart=!0,e.discardEnd=!1,e.descriptor=void 0,e.resource=void 0,e}return p()(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function e(){h()(this,e),this.first=void 0,this.last=void 0})),k=function e(){h()(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function D(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=(C=Object(v.injectable)(),L=Object(v.inject)(g.a.RenderEngine),C((j=function(){function e(){h()(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],l()(this,"engine",M,this)}return p()(e,[{key:"execute",value:function(){var e=u()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.compile(),e.next=3,this.executePassNodes(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(e){e.tearDown&&e.tearDown()})),this.reset()}},{key:"addPass",value:function(e,t,n,r){var i=new b;i.execute=n,r&&(i.tearDown=r),i.name=e;var o=new S;return o.name=e,this.passNodes.push(o),this.frameGraphPasses.push(i),t(this,o,i),i}},{key:"getPass",value:function(e){return this.frameGraphPasses.find((function(t){return t.name===e}))}},{key:"compile",value:function(){var e,t=this,n=D(this.passNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(e){t.resourceNodes[e.index].readerCount++}))}}catch(I){n.e(I)}finally{n.f()}var i,o=[],a=D(this.resourceNodes);try{for(a.s();!(i=a.n()).done;){var s=i.value;0===s.readerCount&&o.push(s)}}catch(I){a.e(I)}finally{a.f()}for(;o.length;){var u=o.pop(),c=u&&u.writer;if(c&&0===--c.refCount){var l,f=D(c.reads);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=this.resourceNodes[h.index];0===--d.readerCount&&o.push(d)}}catch(I){f.e(I)}finally{f.f()}}}this.resourceNodes.forEach((function(e){e.resource.refs+=e.readerCount}));var p,m=D(this.passNodes);try{for(m.s();!(p=m.n()).done;){var E=p.value;if(E.refCount){var v,g=D(E.reads);try{for(g.s();!(v=g.n()).done;){var y=v.value,b=this.resourceNodes[y.index].resource;b.first=b.first?b.first:E,b.last=E}}catch(I){g.e(I)}finally{g.f()}var S,T=D(E.writes);try{for(T.s();!(S=T.n()).done;){var x=S.value,O=this.resourceNodes[x.index].resource;O.first=O.first?O.first:E,O.last=E}}catch(I){T.e(I)}finally{T.f()}}}}catch(I){m.e(I)}finally{m.f()}for(var R=0;R<2;R++){var A,_=D(this.resourceNodes);try{for(_.s();!(A=_.n()).done;){var N=A.value.resource;if(N.priority===R&&N.refs){var C=N.first,L=N.last;C&&L&&(C.devirtualize.push(N),L.destroy.push(N))}}}catch(I){_.e(I)}finally{_.f()}}}},{key:"executePassNodes",value:function(){var e=u()(a.a.mark((function e(t){var n,r,o,s,u,c,l,f,h,d,p,m,E;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=D(this.passNodes.entries()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=18;break}if(o=i()(r.value,2),s=o[0],!(u=o[1]).refCount){e.next=16;break}c=D(u.devirtualize);try{for(c.s();!(l=c.n()).done;)l.value.preExecuteDevirtualize(this.engine)}catch(a){c.e(a)}finally{c.f()}f=D(u.destroy);try{for(f.s();!(h=f.n()).done;)h.value.preExecuteDestroy(this.engine)}catch(a){f.e(a)}finally{f.f()}return e.next=12,this.frameGraphPasses[s].execute(this,this.frameGraphPasses[s],t);case 12:d=D(u.devirtualize);try{for(d.s();!(p=d.n()).done;)p.value.postExecuteDevirtualize(this.engine)}catch(a){d.e(a)}finally{d.f()}m=D(u.destroy);try{for(m.s();!(E=m.n()).done;)E.value.postExecuteDestroy(this.engine)}catch(a){m.e(a)}finally{m.f()}case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:this.reset();case 27:case"end":return e.stop()}}),e,this,[[1,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var t=new k;t.resource=e,t.version=e.version,this.resourceNodes.push(t);var n=new y;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(e,t,n){var r=new P;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(e,t,n){var r=new P;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(e){this.addPass("Present",(function(t,n){n.read(e),n.hasSideEffect=!0}),u()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}]),e}(),w=j,M=E()(w.prototype,"engine",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=w))||I)},1529:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(250),i=n.n(r),o=n(244),a=n.n(o),s=n(245),u=n.n(s),c=n(530);var l,f=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function h(e){var t={};return{content:e=e.replace(f,(function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),uniforms:t}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=/precision\s+(high|low|medium)p\s+float/,E=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,v=Object(c.injectable)()(l=function(){function e(){a()(this,e),this.moduleCache={},this.rawContentCache={}}return u()(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=void 0===n?"":n,i=t.fs,o=void 0===i?"":i,a=t.uniforms,s=h(r),u=s.content,c=s.uniforms,l=h(o),f=l.content,d=l.uniforms;this.rawContentCache[e]={fs:f,uniforms:p(p(p({},c),d),a),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n,r=this.rawContentCache[e].vs||"",i=this.rawContentCache[e].fs||"",o=this.processModule(r,[],"vs"),a=o.content,s=o.includeList,u=this.processModule(i,[],"fs"),c=u.content,l=u.includeList,f=c,h=(n=s.concat(l).concat(e),n.filter((function(e,t,n){return n.indexOf(e)===t}))).reduce((function(e,n){return p(p({},e),t.rawContentCache[n].uniforms)}),{});return m.test(c)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+c),this.moduleCache[e]={fs:f.trim(),uniforms:h,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(E,(function(e,i){var o=i.split(" ")[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return t.push(o),r.processModule(a||"",t,n).content})),includeList:t}}}]),e}())||l},1532:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(250),i=n.n(r),o=n(244),a=n.n(o),s=n(245),u=n.n(s),c=n(691),l=n.n(c),f=n(616),h=n.n(f),d=n(617),p=n.n(d),m=n(618),E=n.n(m),v=n(558),g=n(651),y=n(252),b=n.n(y),S=9007199254740991,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object Boolean]"]=T["[object DataView]"]=T["[object Date]"]=T["[object Error]"]=T["[object Function]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object WeakMap]"]=!1;var x=Object.prototype.toString;var O=function(e){return function(e){return!!e&&"object"===b()(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=S}(e.length)&&!!T[x.call(e)]};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var N=function(e){h()(n,e);var t=_(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=0,r.maxInstancedCount=void 0,r.aabb=void 0,r.entity=void 0,Object.assign(l()(r),e),r}return u()(n,[{key:"setAttribute",value:function(e,t,n,r){var i=this.attributes.find((function(t){return t.name===e}));return i?(i.data=t,i.dirty=!0):this.attributes.push(A(A({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(e){return this.indices=new Uint32Array(e.buffer?e.buffer:e),this.dirty=!0,this}},{key:"applyMatrix",value:function(e){var t=this.attributes.find((function(e){return"position"===e.name})),n=this.attributes.find((function(e){return"normal"===e.name}));if(t&&(t.dirty=!0,t.data&&t.data.length))for(var r=0;r<t.data.length;r+=3){var i=v.f.fromValues(t.data[r],t.data[r+1],t.data[r+2],1);v.f.transformMat4(i,i,e),O(t.data)?t.data.set([i[0],i[1],i[2]],r):(t.data[r]=i[0],t.data[r+1]=i[1],t.data[r+2]=i[2])}if(n){var o=v.a.normalFromMat4(v.a.create(),e);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=v.e.fromValues(n.data[a],n.data[a+1],n.data[a+2]);v.e.transformMat3(s,s,o),v.e.normalize(s,s),O(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(g.a)},1552:function(e,t,n){"use strict";var r=n(3),i=n(13),o=n(2),a=n(1),s=(n(10),n(14)),u=function(e){var t=a.useRef({});return a.useEffect((function(){t.current=e})),t.current},c=n(78),l=n(69);function f(e){return Object(l.a)("MuiBadge",e)}var h=Object(c.a)("MuiBadge",["root","badge","dot","standard","anchorOriginTopLeft","anchorOriginTopRight","anchorOriginBottomLeft","anchorOriginBottomRight","invisible"]),d=n(39),p=n(104),m=n(315),E=n(134),v=n(186);var g=n(0),y=["anchorOrigin","classes","badgeContent","component","children","className","components","componentsProps","invisible","max","showZero","variant"],b=a.forwardRef((function(e,t){var n=e.anchorOrigin,r=void 0===n?{vertical:"top",horizontal:"right"}:n,i=e.classes,o=e.component,a=e.children,c=e.className,l=e.components,h=void 0===l?{}:l,b=e.componentsProps,S=void 0===b?{}:b,T=e.max,x=void 0===T?99:T,O=e.showZero,R=void 0!==O&&O,A=e.variant,_=void 0===A?"standard":A,N=Object(p.a)(e,y),C=function(e){var t=e.anchorOrigin,n=void 0===t?{vertical:"top",horizontal:"right"}:t,r=e.badgeContent,i=e.invisible,o=void 0!==i&&i,a=e.max,s=void 0===a?99:a,c=e.showZero,l=void 0!==c&&c,f=e.variant,h=void 0===f?"standard":f,d=u({anchorOrigin:n,badgeContent:r,max:s,variant:h}),p=o;!1===o&&(0===r&&!l||null==r&&"dot"!==h)&&(p=!0);var m=p?d:e,E=m.anchorOrigin,v=void 0===E?n:E,g=m.badgeContent,y=m.max,b=void 0===y?s:y,S=m.variant,T=void 0===S?h:S,x="";return"dot"!==T&&(x=g&&Number(g)>b?"".concat(b,"+"):g),{anchorOrigin:v,badgeContent:g,invisible:p,max:b,variant:T,displayValue:x}}(Object(d.a)({},e,{anchorOrigin:r,max:x,variant:_})),L=C.anchorOrigin,I=C.badgeContent,w=C.max,M=C.variant,j=C.displayValue,P=C.invisible,k=Object(d.a)({},e,{anchorOrigin:L,badgeContent:I,classes:i,invisible:P,max:w,variant:M,showZero:R}),D=function(e){var t=e.variant,n=e.anchorOrigin,r=e.invisible,i=e.classes,o={root:["root"],badge:["badge",t,"anchorOrigin".concat(Object(m.a)(n.vertical)).concat(Object(m.a)(n.horizontal)),r&&"invisible"]};return Object(E.a)(o,f,i)}(k),U=o||h.Root||"span",F=Object(v.a)(U,Object(d.a)({},N,S.root),k),B=h.Badge||"span",G=Object(v.a)(B,S.badge,k);return Object(g.jsxs)(U,Object(d.a)({},F,{ref:t},N,{className:Object(s.default)(D.root,F.className,c),children:[a,Object(g.jsx)(B,Object(d.a)({},G,{className:Object(s.default)(D.badge,G.className),children:j}))]}))})),S=n(8),T=n(15),x=n(840),O=n(17),R=["anchorOrigin","component","components","componentsProps","overlap","color","invisible","badgeContent","showZero","variant"],A=Object(o.a)({},h,Object(c.a)("MuiBadge",["colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"])),_=Object(S.a)("span",{name:"MuiBadge",slot:"Root",overridesResolver:function(e,t){return t.root}})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),N=Object(S.a)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:function(e,t){var n=e.ownerState;return[t.badge,t[n.variant],t["anchorOrigin".concat(Object(O.a)(n.anchorOrigin.vertical)).concat(Object(O.a)(n.anchorOrigin.horizontal)).concat(Object(O.a)(n.overlap))],"default"!==n.color&&t["color".concat(Object(O.a)(n.color))],n.invisible&&t.invisible]}})((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},"default"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"dot"===n.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(r.a)({top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(A.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(r.a)({bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(A.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(r.a)({top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(A.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&Object(r.a)({bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(A.invisible),{transform:"scale(0) translate(-50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(r.a)({top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(A.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(r.a)({bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(A.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(r.a)({top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(A.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&Object(r.a)({bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(A.invisible),{transform:"scale(0) translate(-50%, 50%)"}),n.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})})),C=a.forwardRef((function(e,t){var n,r,a=Object(T.a)({props:e,name:"MuiBadge"}),c=a.anchorOrigin,l=void 0===c?{vertical:"top",horizontal:"right"}:c,h=a.component,d=void 0===h?"span":h,p=a.components,m=void 0===p?{}:p,E=a.componentsProps,v=void 0===E?{}:E,y=a.overlap,S=void 0===y?"rectangular":y,A=a.color,C=void 0===A?"default":A,L=a.invisible,I=void 0!==L&&L,w=a.badgeContent,M=a.showZero,j=void 0!==M&&M,P=a.variant,k=void 0===P?"standard":P,D=Object(i.a)(a,R),U=u({anchorOrigin:l,color:C,overlap:S}),F=I;!1===I&&(0===w&&!j||null==w&&"dot"!==k)&&(F=!0);var B=F?U:a,G=B.color,V=void 0===G?C:G,H=B.overlap,z=void 0===H?S:H,W=B.anchorOrigin,Y=void 0===W?l:W,X=function(e){var t=e.color,n=e.anchorOrigin,r=e.overlap,i=e.classes,a=void 0===i?{}:i;return Object(o.a)({},a,{badge:Object(s.default)(a.badge,f("anchorOrigin".concat(Object(O.a)(n.vertical)).concat(Object(O.a)(n.horizontal)).concat(Object(O.a)(r))),f("overlap".concat(Object(O.a)(r))),"default"!==t&&[f("color".concat(Object(O.a)(t))),a["color".concat(Object(O.a)(t))]])})}(Object(o.a)({},a,{anchorOrigin:Y,invisible:F,color:V,overlap:z}));return Object(g.jsx)(b,Object(o.a)({anchorOrigin:Y,invisible:I,badgeContent:w,showZero:j,variant:k},D,{components:Object(o.a)({Root:_,Badge:N},m),componentsProps:{root:Object(o.a)({},v.root,Object(x.a)(m.Root)&&{as:d,ownerState:Object(o.a)({},null==(n=v.root)?void 0:n.ownerState,{color:V,overlap:z})}),badge:Object(o.a)({},v.badge,Object(x.a)(m.Badge)&&{ownerState:Object(o.a)({},null==(r=v.badge)?void 0:r.ownerState,{color:V,overlap:z})})},classes:X,ref:t}))}));t.a=C},1556:function(e,t,n){"use strict";var r=n(13),i=n(2),o=n(1),a=(n(10),n(14)),s=n(134),u=n(8),c=n(15),l=n(69),f=n(78);function h(e){return Object(l.a)("MuiFormGroup",e)}Object(f.a)("MuiFormGroup",["root","row","error"]);var d=n(56),p=n(71),m=n(0),E=["className","row"],v=Object(u.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.row&&t.row]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),g=o.forwardRef((function(e,t){var n=Object(c.a)({props:e,name:"MuiFormGroup"}),o=n.className,u=n.row,l=void 0!==u&&u,f=Object(r.a)(n,E),g=Object(d.a)(),y=Object(p.a)({props:n,muiFormControl:g,states:["error"]}),b=Object(i.a)({},n,{row:l,error:y.error}),S=function(e){var t=e.classes,n={root:["root",e.row&&"row",e.error&&"error"]};return Object(s.a)(n,h,t)}(b);return Object(m.jsx)(v,Object(i.a)({className:Object(a.default)(S.root,o),ownerState:b,ref:t},f))}));t.a=g},1586:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},1587:function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},1588:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},1589:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1590:function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},1591:function(e,t,n){var r=n(1592),i=n(1600),o=n(1255);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},1592:function(e,t,n){var r=n(897),i=n(1018);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(o)var p=o(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,o,d):p))return!1}}return!0}},1593:function(e,t,n){var r=n(897),i=n(1253),o=n(1597),a=n(1599),s=n(724),u=n(585),c=n(791),l=n(944),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,E,v){var g=u(e),y=u(t),b=g?h:s(e),S=y?h:s(t),T=(b=b==f?d:b)==d,x=(S=S==f?d:S)==d,O=b==S;if(O&&c(e)){if(!c(t))return!1;g=!0,T=!1}if(O&&!T)return v||(v=new r),g||l(e)?i(e,t,n,m,E,v):o(e,t,b,n,m,E,v);if(!(1&n)){var R=T&&p.call(e,"__wrapped__"),A=x&&p.call(t,"__wrapped__");if(R||A){var _=R?e.value():e,N=A?t.value():t;return v||(v=new r),E(_,N,n,m,v)}}return!!O&&(v||(v=new r),a(e,t,n,m,E,v))}},1594:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1595:function(e,t){e.exports=function(e){return this.__data__.has(e)}},1596:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},1597:function(e,t,n){var r=n(957),i=n(1424),o=n(855),a=n(1253),s=n(1598),u=n(1019),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var E=a(d(e),d(t),r,c,f,h);return h.delete(e),E;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},1598:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},1599:function(e,t,n){var r=n(1421),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var E=u;++f<l;){var v=e[h=c[f]],g=t[h];if(o)var y=u?o(g,v,h,t,e,s):o(v,g,h,e,t,s);if(!(void 0===y?v===g||a(v,g,n,o,s):y)){m=!1;break}E||(E="constructor"==h)}if(m&&!E){var b=e.constructor,S=t.constructor;b==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(m=!1)}return s.delete(e),s.delete(t),m}},1600:function(e,t,n){var r=n(1254),i=n(723);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},1601:function(e,t,n){var r=n(1018),i=n(1538),o=n(1369),a=n(1432),s=n(1254),u=n(1255),c=n(857);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},1602:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},1603:function(e,t,n){var r=n(1370),i=n(1604),o=n(1432),a=n(857);e.exports=function(e){return o(e)?r(a(e)):i(e)}},1604:function(e,t,n){var r=n(1335);e.exports=function(e){return function(t){return r(t,e)}}},1774:function(e,t,n){"use strict";var r=n(24),i=(n(1),n(320)),o=n(0);t.a=function(e){return Object(o.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(o.jsxs)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("path",{d:"M1001.632 793.792c-7.84-13.856-26.016-37.536-93.12-83.2a1096.224 1096.224 0 0 0-125.152-74.144c-30.592-82.784-89.824-190.112-176.256-319.36-93.056-139.168-201.12-197.792-321.888-174.56a756.608 756.608 0 0 0-40.928-37.696C213.824 78.688 139.2 56.48 96.32 60.736c-19.424 1.952-34.016 9.056-43.36 21.088-21.664 27.904-14.432 68.064 85.504 198.912 19.008 55.616 23.072 84.672 23.072 99.296 0 30.912 15.968 66.368 49.984 110.752l-32 109.504c-28.544 97.792 23.328 224.288 71.616 268.384 25.76 23.552 47.456 20.032 58.176 15.84 21.504-8.448 38.848-29.472 50.048-89.504 5.728 14.112 11.808 29.312 18.208 45.6 34.56 87.744 68.352 136.288 106.336 152.736a32.032 32.032 0 0 0 25.44-58.688c-9.408-4.096-35.328-23.712-72.288-117.504-31.168-79.136-53.856-132.064-69.376-161.856a32.224 32.224 0 0 0-35.328-16.48 32.032 32.032 0 0 0-25.024 29.92c-3.872 91.04-13.056 130.4-19.2 147.008-26.496-30.464-68.128-125.984-47.232-197.536 20.768-71.232 32.992-112.928 36.64-125.248a31.936 31.936 0 0 0-5.888-29.28c-41.664-51.168-46.176-75.584-46.176-83.712 0-29.472-9.248-70.4-28.288-125.152a31.104 31.104 0 0 0-4.768-8.896c-53.824-70.112-73.6-105.216-80.832-121.888 25.632 1.216 74.336 15.04 91.008 29.376a660.8 660.8 0 0 1 49.024 46.304c8 8.448 19.968 11.872 31.232 8.928 100.192-25.92 188.928 21.152 271.072 144 87.808 131.328 146.144 238.048 173.408 317.216a32 32 0 0 0 16.384 18.432 1004.544 1004.544 0 0 1 128.8 75.264c7.392 5.024 14.048 9.696 20.064 14.016h-98.848a32.032 32.032 0 0 0-24.352 52.736 3098.752 3098.752 0 0 0 97.856 110.464 32 32 0 1 0 46.56-43.872 2237.6 2237.6 0 0 1-50.08-55.328h110.08a32.032 32.032 0 0 0 27.84-47.776z"}),Object(o.jsx)("path",{d:"M320 289.472c12.672 21.76 22.464 37.344 29.344 46.784 8.288 16.256 21.184 29.248 29.44 45.536l2.016-1.984c14.528-9.952 25.92-49.504 2.752-75.488-12.032-18.176-51.04-17.664-63.552-14.848z"})]})}))}},1775:function(e,t,n){var r=n(1e3);e.exports=function(e){return r(e,4)}},1776:function(e,t,n){var r=n(728),i=n(730);e.exports=function(e){return i(e)&&r(e)}},1887:function(e,t,n){"use strict";var r=n(18),i=n(2),o=n(13),a=n(1),s=(n(10),n(1556)),u=n(29),c=n(103),l=n(661),f=n(184),h=n(0),d=["actions","children","defaultValue","name","onChange","value"],p=a.forwardRef((function(e,t){var n=e.actions,p=e.children,m=e.defaultValue,E=e.name,v=e.onChange,g=e.value,y=Object(o.a)(e,d),b=a.useRef(null),S=Object(c.a)({controlled:g,default:m,name:"RadioGroup"}),T=Object(r.a)(S,2),x=T[0],O=T[1];a.useImperativeHandle(n,(function(){return{focus:function(){var e=b.current.querySelector("input:not(:disabled):checked");e||(e=b.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var R=Object(u.a)(t,b),A=Object(f.a)(E);return Object(h.jsx)(l.a.Provider,{value:{name:A,onChange:function(e){O(e.target.value),v&&v(e,e.target.value)},value:x},children:Object(h.jsx)(s.a,Object(i.a)({role:"radiogroup",ref:R},y,{children:p}))})}));t.a=p},1888:function(e,t,n){e.exports=n(1889)},1889:function(e,t,n){var r=n(959),i=n(1296),o=n(1890),a=n(585);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},1890:function(e,t,n){var r=n(772);e.exports=function(e){return"function"==typeof e?e:r}},1891:function(e,t,n){var r=n(2539),i=n(2564),o=n(687),a=n(585);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},1892:function(e,t){e.exports=function(e){return void 0===e}},1893:function(e,t,n){var r=n(1367),i=n(687),o=n(1894),a=n(585);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},1894:function(e,t,n){var r=n(1296),i=n(728);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},1895:function(e,t,n){var r=n(1880),i=n(1296),o=n(687),a=n(2565),s=n(585);e.exports=function(e,t,n){var u=s(e)?r:a,c=arguments.length<3;return u(e,o(t,4),n,c,i)}},1896:function(e,t,n){var r=n(2574),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},1897:function(e,t,n){var r=n(2575),i=n(2576)(r);e.exports=i},1898:function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},1899:function(e,t,n){var r=n(2581),i=n(723);e.exports=function(e){return null==e?[]:r(e,i(e))}},1900:function(e,t,n){var r=n(679),i=n(1901);e.exports=function(e,t,n,r){return function(e,t,n,r){var o,a,s={},u=new i,c=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),c=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=o,u.decrease(t,c))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},1901:function(e,t,n){var r=n(679);function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,o=i.length;return n[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},1902:function(e,t,n){var r=n(679);e.exports=function(e){var t=0,n=[],i={},o=[];function a(s){var u=i[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(i,e)?i[e].onStack&&(u.lowlink=Math.min(u.lowlink,i[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,i[e].lowlink))})),u.lowlink===u.index){var c,l=[];do{c=n.pop(),i[c].onStack=!1,l.push(c)}while(s!==c);o.push(l)}}return e.nodes().forEach((function(e){r.has(i,e)||a(e)})),o}},1903:function(e,t,n){var r=n(679);function i(e){var t={},n={},i=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],i.push(s))})),r.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o,o.prototype=new Error},1904:function(e,t,n){var r=n(679);function i(e,t,n,o,a,s){r.has(o,t)||(o[t]=!0,n||s.push(t),r.each(a(t),(function(t){i(e,t,n,o,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,s,o,a)})),a}},1905:function(e,t,n){var r=n(1407),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},1906:function(e,t,n){var r=n(1375);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},1907:function(e,t,n){var r=n(838),i=n(855);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},1908:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},1909:function(e,t){e.exports=function(e,t){return e<t}},1910:function(e,t,n){"use strict";var r=n(556),i=n(689).Graph,o=n(1298).slack;function a(e,t){return r.forEach(e.nodes(),(function n(i){r.forEach(t.nodeEdges(i),(function(r){var a=r.v,s=i===a?r.w:a;e.hasNode(s)||o(t,r)||(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))}))})),e.nodeCount()}function s(e,t){return r.forEach(e.nodes(),(function n(i){r.forEach(t.nodeEdges(i),(function(r){var a=r.v,s=i===a?r.w:a;e.hasNode(s)||void 0===t.node(s).layer&&o(t,r)||(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))}))})),e.nodeCount()}function u(e,t){return r.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return o(t,n)}))}function c(e,t,n){r.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports={feasibleTree:function(e){var t,n,r=new i({directed:!1}),s=e.nodes()[0],l=e.nodeCount();r.setNode(s,{});for(;a(r,e)<l;)t=u(r,e),n=r.hasNode(t.v)?o(e,t):-o(e,t),c(r,e,n);return r},feasibleTreeWithLayer:function(e){var t,n,r=new i({directed:!1}),a=e.nodes()[0],l=e.nodeCount();r.setNode(a,{});for(;s(r,e)<l;)t=u(r,e),n=r.hasNode(t.v)?o(e,t):-o(e,t),c(r,e,n);return r}}},1911:function(e,t,n){(function(e,t){var n;!function(n){!function(r){var i="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),o=a(n);function a(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof i.Reflect?i.Reflect=n:o=a(i.Reflect,o),function(t){var n=Object.prototype.hasOwnProperty,r="function"===typeof Symbol,i=r&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",a="function"===typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,c={create:a?function(){return ie(Object.create(null))}:s?function(){return ie({__proto__:null})}:function(){return ie({})},has:u?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"===typeof e&&Object({mock:void 0,NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&"true"===Object({mock:void 0,NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REFLECT_METADATA_USE_MAP_POLYFILL,h=f||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?te():Map,d=f||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?ne():Set,p=new(f||"function"!==typeof WeakMap?re():WeakMap);function m(e,t,n,r){if(k(n)){if(!W(e))throw new TypeError;if(!X(t))throw new TypeError;return R(e,t)}if(!W(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!k(r)&&!D(r))throw new TypeError;return D(r)&&(r=void 0),A(e,t,n=z(n),r)}function E(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!k(r)&&!q(r))throw new TypeError;w(e,t,n,r)}return n}function v(e,t,n,r){if(!F(n))throw new TypeError;return k(r)||(r=z(r)),w(e,t,n,r)}function g(e,t,n){if(!F(t))throw new TypeError;return k(n)||(n=z(n)),N(e,t,n)}function y(e,t,n){if(!F(t))throw new TypeError;return k(n)||(n=z(n)),C(e,t,n)}function b(e,t,n){if(!F(t))throw new TypeError;return k(n)||(n=z(n)),L(e,t,n)}function S(e,t,n){if(!F(t))throw new TypeError;return k(n)||(n=z(n)),I(e,t,n)}function T(e,t){if(!F(e))throw new TypeError;return k(t)||(t=z(t)),M(e,t)}function x(e,t){if(!F(e))throw new TypeError;return k(t)||(t=z(t)),j(e,t)}function O(e,t,n){if(!F(t))throw new TypeError;k(n)||(n=z(n));var r=_(t,n,!1);if(k(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}function R(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!k(r)&&!D(r)){if(!X(r))throw new TypeError;t=r}}return t}function A(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!k(o)&&!D(o)){if(!F(o))throw new TypeError;r=o}}return r}function _(e,t,n){var r=p.get(e);if(k(r)){if(!n)return;r=new h,p.set(e,r)}var i=r.get(t);if(k(i)){if(!n)return;i=new h,r.set(t,i)}return i}function N(e,t,n){if(C(e,t,n))return!0;var r=ee(t);return!D(r)&&N(e,r,n)}function C(e,t,n){var r=_(t,n,!1);return!k(r)&&V(r.has(e))}function L(e,t,n){if(C(e,t,n))return I(e,t,n);var r=ee(t);return D(r)?void 0:L(e,r,n)}function I(e,t,n){var r=_(t,n,!1);if(!k(r))return r.get(e)}function w(e,t,n,r){_(n,r,!0).set(e,t)}function M(e,t){var n=j(e,t),r=ee(e);if(null===r)return n;var i=M(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,u=n;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),a.push(c))}for(var l=0,f=i;l<f.length;l++){c=f[l];o.has(c)||(o.add(c),a.push(c))}return a}function j(e,t){var n=[],r=_(e,t,!1);if(k(r))return n;for(var i=Q(r.keys()),o=0;;){var a=Z(i);if(!a)return n.length=o,n;var s=J(a);try{n[o]=s}catch(u){try{$(i)}finally{throw u}}o++}}function P(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function k(e){return void 0===e}function D(e){return null===e}function U(e){return"symbol"===typeof e}function F(e){return"object"===typeof e?null!==e:"function"===typeof e}function B(e,t){switch(P(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=K(e,i);if(void 0!==r){var o=r.call(e,n);if(F(o))throw new TypeError;return o}return G(e,"default"===n?"number":n)}function G(e,t){if("string"===t){var n=e.toString;if(Y(n))if(!F(i=n.call(e)))return i;if(Y(r=e.valueOf))if(!F(i=r.call(e)))return i}else{var r;if(Y(r=e.valueOf))if(!F(i=r.call(e)))return i;var i,o=e.toString;if(Y(o))if(!F(i=o.call(e)))return i}throw new TypeError}function V(e){return!!e}function H(e){return""+e}function z(e){var t=B(e,3);return U(t)?t:H(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"function"===typeof e}function X(e){return"function"===typeof e}function q(e){switch(P(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Y(n))throw new TypeError;return n}}function Q(e){var t=K(e,o);if(!Y(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function J(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function $(e){var t=e.return;t&&t.call(e)}function ee(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function te(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function ne(){return function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function re(){var e=16,t=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(c.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",m),t("metadata",E),t("defineMetadata",v),t("hasMetadata",g),t("hasOwnMetadata",y),t("getMetadata",b),t("getOwnMetadata",S),t("getMetadataKeys",T),t("getOwnMetadataKeys",x),t("deleteMetadata",O)}(o)}()}(n||(n={}))}).call(this,n(322),n(248))},1912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(601),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},1913:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(652);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},1914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(652),i=n(601),o=n(690),a=n(781),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},1915:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(601),i=n(829),o=n(690),a=n(2654),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},1916:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(1447),i=n(1448),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},1917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(601),i=n(690);t.traverseAncerstors=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var a=o(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},1918:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r,i,o,a,s,u,c,l,f,h=n(587),d=n.n(h),p=n(588),m=n.n(p),E=n(562),v=n.n(E),g=n(244),y=n.n(g),b=n(563),S=n.n(b),T=(n(564),n(530)),x=n(653),O=n(878),R=n(1301),A=(r=Object(T.injectable)(),i=Object(T.inject)(x.a.RenderEngine),o=Object(T.inject)(x.a.ResourcePool),r((f=l=function e(){var t=this;y()(this,e),v()(this,"engine",u,this),v()(this,"resourcePool",c,this),this.model=void 0,this.setup=function(e,t,n){var r=e.getPass(R.a.IDENTIFIER);if(r){var i=e.createRenderTarget(t,"render to screen",{width:1,height:1});n.data={input:t.read(r.data.output),output:t.write(e,i)}}},this.execute=function(){var e=m()(d.a.mark((function e(n,r){var i,o,a,s,u,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.engine,o=i.createModel,a=i.createAttribute,s=i.createBuffer,t.model){e.next=6;break}return e.next=4,o({vs:t.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:O.a.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:u=e.sent,t.model=u;case 6:c=n.getResourceNode(r.data.input),l=t.resourcePool.getOrCreateResource(c.resource),t.engine.useFramebuffer(null,(function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:l}})}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},l.IDENTIFIER="Copy Pass",s=f,u=S()(s.prototype,"engine",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=S()(s.prototype,"resourcePool",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)},1919:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(558),i=n(1299);function o(e){for(var t=new i.a,n=r.e.fromValues(e[0],e[1],e[2]),o=r.e.fromValues(e[0],e[1],e[2]),a=3;a<e.length;){var s=e[a++],u=e[a++],c=e[a++];s<n[0]&&(n[0]=s),u<n[1]&&(n[1]=u),c<n[2]&&(n[2]=c),s>o[0]&&(o[0]=s),u>o[1]&&(o[1]=u),c>o[2]&&(o[2]=c)}return t.setMinMax(n,o),t}},1920:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},1921:function(e,t){},1922:function(e,t){},1923:function(e,t){},1924:function(e,t){},1925:function(e,t){},1926:function(e,t){},1927:function(e,t,n){"use strict";var r;!function(e){e.Normal="normal",e.PostProcessing="post-processing"}(r||(r={}))},1928:function(e,t){},1929:function(e,t){},1930:function(e,t){},1931:function(e,t){},1932:function(e,t){},1933:function(e,t){},1934:function(e,t){e.exports=1e-6},1935:function(e,t){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},1936:function(e,t){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},1937:function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},1938:function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},1939:function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},1940:function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},1941:function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},1942:function(e,t){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},1943:function(e,t){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},1944:function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i);return e}},1945:function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},1961:function(e,t,n){"use strict";n(1461),n(1462),n(1529)},1965:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return o.a}));var r=n(1299),i=(n(244),n(245),n(558)),o=(i.e.create(),n(1455));n(1456),i.e.create(),i.e.create(),i.e.create(),i.e.create(),i.e.create()},1969:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(948),i=n.n(r);n(558);function o(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(e){var t=i()(e,3);return t[0]+256*t[1]+65536*t[2]-1}},1991:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23),i=n(169),o=n(9);function a(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(i.a)(e,-n)}},2008:function(e,t,n){var r=n(790),i=n(1014),o=n(1332),a=n(608),s=n(857);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=i(t,e)).length,f=l-1,h=e;null!=h&&++c<l;){var d=s(t[c]),p=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(c!=f){var m=h[d];void 0===(p=u?u(m,d,h):void 0)&&(p=a(m)?m:o(t[c+1])?[]:{})}r(h,d,p),h=h[d]}return e}},2009:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRule");t.default=a},2116:function(e,t,n){var r=n(1342),i=n(2117),o=n(2118),a=n(1343),s=n(2580),u=n(1019);e.exports=function(e,t,n){var c=-1,l=i,f=e.length,h=!0,d=[],p=d;if(n)h=!1,l=o;else if(f>=200){var m=t?null:s(e);if(m)return u(m);h=!1,l=a,p=new r}else p=t?[]:d;e:for(;++c<f;){var E=e[c],v=t?t(E):E;if(E=n||0!==E?E:0,h&&v===v){for(var g=p.length;g--;)if(p[g]===v)continue e;t&&p.push(v),d.push(E)}else l(p,v,n)||(p!==d&&p.push(v),d.push(E))}return d}},2117:function(e,t,n){var r=n(2577);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},2118:function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},2119:function(e,t){e.exports=function(){}},2120:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},2121:function(e,t,n){var r=n(1410),i=n(823),o=n(730),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},2122:function(e,t,n){var r=n(1906),i=n(1896),o=n(1897);e.exports=function(e){return o(i(e,void 0,r),e+"")}},2556:function(e,t,n){"use strict";var r=n(24),i=(n(1),n(320)),o=n(0);t.a=function(e){return Object(o.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(o.jsxs)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("path",{d:"M948.223929 540.204361c-5.326903-7.19661-12.594068-10.971303-20.990112-10.971302-8.995763 0-17.709305 4.2333-25.435078 8.007992-1.97554 0.952493-3.915803 1.904985-5.78551 2.716368-2.222483 0.98777-4.480243 1.97554-6.808557 2.610535-1.799153 0.493885-3.316085 0.740828-4.480243 0.740827-1.340545 0-3.033865 0-5.22107-6.596892-6.843835-20.566783-15.310435-41.733283-25.223413-62.970338-4.51552-9.666035-10.230475-19.04985-15.769042-28.151445-10.44214-17.180143-20.31984-33.44307-21.519276-49.635443-1.26999-17.144865 5.891343-35.524443 13.440728-54.962346 3.880525-9.912978 7.831605-20.143453 10.72436-30.444482 2.081373-7.47883 4.79774-21.483998-0.634995-31.432253l-1.164157-2.151927c-17.039033-31.220588-34.677783-63.4995-55.279843-93.344266-21.02539-30.47976-59.160368-48.647673-102.022531-48.647673-33.972233 0-64.945878 12.13546-82.866848 32.4553-8.960485 10.124643-15.698488 11.324078-20.002343 11.324078-5.92662 0-13.12323-2.53998-22.648155-7.972715-64.698935-36.864988-135.818376-67.7328-211.453336-91.756778-12.84101-4.09219-24.12981-6.06773-34.536673-6.06773-22.29538 0-40.745513 9.207428-56.479278 28.116167-4.021635 4.833018-8.819375 9.17215-13.899335 13.758225-4.127468 3.704138-8.254935 7.443553-12.029628 11.42991-28.186723 29.880043-57.114273 45.543253-91.01595 49.317946-13.652393 1.516933-29.562545 10.30103-38.628863 21.272332-45.1552 54.785958-45.966583 106.961381-2.53998 164.216764 4.480243 5.92662 9.03104 11.85324 13.934612 17.427085 40.9219 46.495745 66.3217 85.759603 82.372963 127.281221 5.538568 14.357943 15.23988 21.342888 29.597823 21.342888 1.340545 0 2.751645-0.070555 4.2333-0.176388 31.32642-2.610535 62.723395-4.93885 94.614256-7.302442l19.155682-1.4111c-0.14111 0.211665-0.246943 0.42333-0.388052 0.634995-32.243635 50.482103-41.239398 109.536638-28.222 185.841871 11.57102 67.909188 46.037138 129.856478 99.623661 179.068591 48.68295 44.696593 103.539463 67.344748 163.087883 67.344748l3.38664-0.035277c49.917663-0.740828 91.298171-23.530093 131.302856-45.613808 6.49106-3.598305 13.017398-7.161333 19.649568-10.72436 5.468013-2.998588 5.07996-8.784098 4.903572-11.218245l-0.105832-2.469425v-9.912978l-25.999518 2.187205c-11.747408 1.023048-23.42426 2.046095-35.13639 2.716368-2.8222 0.176388-5.679678 0.388053-8.537155 0.599717-4.974128 0.42333-9.948255 0.811383-14.781273 0.811383-13.722948 0-23.600648-3.10442-30.373927-18.62652-2.293038-5.22107-6.20884-9.419093-9.701313-13.087953-1.97554-2.11665-5.326903-5.6444-5.609123-6.561615 0.42333-1.799153 4.550798-6.103008 7.020223-8.678265 2.363593-2.469425 4.691908-4.974128 6.561615-7.372997l7.937438-10.371586-12.452958-3.915802c-32.31419-10.15992-39.36969-17.321253-38.346643-28.64533l37.076653 20.813725 14.39322-20.707893-4.691907-5.397457c-2.751645-3.139698-5.573845-6.244118-8.396046-9.31326-6.738003-7.372998-13.12323-14.322665-18.3443-21.977883-1.234713-1.799153-1.69332-5.432735-2.11665-9.101595 2.857478-0.740828 5.820788-1.446378 9.101595-1.446378 0.352775 0 0.670273 0 1.023048 0.035278 8.537155 3.316085 16.580425 9.348538 20.990113 15.733765 13.440728 19.402625 32.17308 30.05643 59.019257 33.513625 6.561615 0.84666 13.052675 1.904985 19.579013 2.998588 9.948255 1.622765 19.89651 3.24553 29.91532 4.127467 13.087953 1.164158 24.764805 1.763875 35.700831 1.763875 59.760085 0 102.869191-18.06208 135.606711-56.902608 37.25304-44.16743 49.564888-97.295346 56.655665-143.403038 2.716368-17.49764-1.799153-38.346643-10.971303-50.729046z m-141.356943 200.023427c-17.285975 0-34.57195-5.573845-51.328763-16.615703l-2.046095-1.340545c-27.869225-18.273745-54.150963-35.524443-70.166948-74.294415l-5.150515-12.452958-37.358873 36.088883 11.112413 18.20319s7.725773-0.458608 8.713542-0.458607c2.010818 0 3.38664 0.14111 4.303855 0.317497-0.42333 1.340545-1.446378 3.704138-3.704137 7.514108-5.044683 8.60771-10.265753 17.144865-15.698488 26.070072-1.164158-2.610535-2.222483-5.326903-3.24553-8.04327-3.10442-7.972715-6.279395-16.22765-12.347125-22.930375-24.623695-27.269508-32.631688-54.115685-25.96424-87.064871 2.610535-12.735178-12.382403-32.73752-24.870638-37.217762-22.118993-7.90216-31.396975-22.365935-31.996692-49.882386-0.388053-18.273745-1.340545-36.54749-2.363593-56.479278l-1.904985-38.911082-10.195198 1.763875c-13.68767 2.363593-27.198953 4.550798-40.569125 6.702725-30.515038 4.93885-59.336755 9.560203-88.370138 16.051262-25.435078 5.679678-50.870155 12.946843-75.423296 19.967065-16.50987 4.727185-33.01974 9.419093-49.600165 13.687671-5.326903 1.375823-10.30103 2.081373-14.851828 2.081372-13.96989 0-25.011748-6.63217-34.783615-20.919558C201.822579 422.271678 172.401144 383.113653 143.967479 345.260895L131.937851 329.174355c-15.733765-20.990113-19.47318-43.638268-11.359355-69.285011C129.962311 230.291522 143.649981 217.662177 166.368691 217.662177c6.984945 0 15.063493 1.199435 24.023978 3.563027 12.206015 3.24553 24.517863 7.372998 36.441658 11.359355 9.666035 3.24553 19.33207 6.49106 29.103937 9.31326 6.455783 1.904985 12.946843 2.469425 19.190961 3.033865 2.575258 0.211665 5.185793 0.458608 7.725772 0.776105l7.725773 0.98777 6.455782-21.942605L229.868192 189.087401c3.10442-2.857478 6.20884-5.714955 9.242705-8.501877 13.511283-12.41768 26.24646-24.165088 38.24081-36.935543 13.934613-14.851828 29.245048-22.083715 46.777965-22.083715 8.713543 0 18.097358 1.83443 27.869226 5.468012 34.71306 12.911565 65.580873 25.96424 94.40259 39.863576 24.941193 12.029628 49.917663 25.152858 74.082751 37.852757 17.427085 9.17215 34.889448 18.309023 52.457643 27.163676 39.299135 19.790678 66.286423 48.330175 82.478795 87.311813 6.879113 16.50987 16.545148 31.714473 25.928963 46.460468l6.808558 10.794915c3.10442 5.009405 7.514108 8.642988 11.394632 11.85324 1.481655 1.199435 2.96331 2.434148 4.303855 3.704137l5.50329 5.185793 16.474593-11.99435-7.725773-18.379578c-1.940263-4.65663-4.09219-9.277983-6.244117-13.899335-4.550798-9.630758-8.819375-18.76763-10.794915-28.116168-11.85324-55.950115-37.852758-95.672581-79.268543-121.142936 13.793503-18.414855 39.263858-30.691425 65.122265-30.691425 17.744583 0 33.196128 5.856065 43.532435 16.474593 19.261515 19.825955 35.947773 43.32077 52.069591 66.074758 4.727185 6.667448 9.419093 13.299618 14.216832 19.861233 7.831605 10.759638 8.537155 22.683433 2.081373 35.348055-1.058325 2.081373-1.83443 4.37441-2.53998 6.63217l-0.811383 2.504702c-5.36218 14.710718-9.912978 26.034795-13.54656 35.136391-15.839598 39.546078-15.627933 42.544665 5.6444 80.15048 4.79774 8.4666 10.72436 19.014573 17.92097 32.59641l9.8777 18.450133c6.561615 12.170738 13.087953 24.306198 19.226238 36.653323 1.375823 2.751645 2.328315 6.032453 3.24553 9.524925l-30.656148 1.97554 12.558791 32.73752H781.749406l-2.328315 22.930375 17.321252 3.174975-16.9332 28.398388 38.875805-12.382403-9.03104 27.975058 20.602061 11.782685 33.936955-61.52396c6.702725 6.06773 14.81655 10.936025 24.41203 10.936025 10.794915 0 21.483998-5.92662 35.101113-19.579013 0.317498 2.222483 0.42333 4.586075 0.14111 6.526338-7.408275 49.10628-23.56537 88.334861-49.388501 119.837668-18.76763 22.895098-42.156613 35.030558-67.59169 35.030558z m-212.546939 169.720054l-9.136873-1.516933c2.716368-0.246943 5.432735-0.42333 8.18438-0.56444 0.28222 0.634995 0.634995 1.340545 0.952493 2.081373z m-213.887484-382.655046c-1.305268-8.18438 0.176388-18.167913 1.023047-19.684845 11.676853-6.91439 26.422848-10.371585 40.886623-13.54656 1.340545 2.046095 3.10442 5.115238 4.65663 8.431323 8.678265 18.414855 17.250698 36.864988 25.787853 55.350398 17.07431 36.82971 34.71306 74.929411 53.163193 111.935508 4.762463 9.560203 11.041858 18.06208 17.92097 26.563958-69.602508-37.605815-129.715368-82.090743-143.438316-169.049782z m-14.463775 135.359769c42.826885 47.166018 98.741723 70.343336 153.280738 88.229028 5.36218 1.763875 10.195198 5.291625 11.14769 7.408275 2.575258 5.6444 3.774693 12.206015 3.139698 16.686258-1.763875 0.529163-4.586075 1.023048-7.549385 1.023047-2.151928 0-3.351363-0.28222-3.598305-0.42333-43.849933-18.520688-91.262893-39.687188-145.025804-64.663658-2.8222-1.305268-6.63217-6.385228-7.161332-9.560202-2.11665-12.629345-3.210253-25.858408-4.2333-38.699418z m69.673063 151.411031c37.746925 10.406863 73.412478 20.249285 109.571915 31.32642 2.575258 0.776105 5.997175 5.07996 9.066318 9.03104-4.09219 2.786923-8.290213 5.538568-11.535743 5.92662-6.385228 0.70555-12.629345 1.058325-18.732352 1.058325-43.779378 0-79.303821-17.77986-103.927516-51.64626l15.557378 4.303855z"}),Object(o.jsx)("path",{d:"M772.012816 283.560547l-2.610535-7.267165c-1.375823-3.915803-2.716368-7.866883-4.056913-11.817963-7.972715-23.70648-16.22765-48.189065-38.593585-65.89837l-5.256348-4.162745-19.437902 13.158508 48.82406 87.840975 21.131223-11.85324zM723.929583 449.117856c-33.01974 0-50.552658 13.652393-56.937886 44.202708l-3.880525 18.555965 114.193269-57.361216-29.880043-3.739415c-8.960485-1.12888-16.65098-1.658043-23.494815-1.658042zM526.940021 274.564785c-13.617115 0-27.975058 2.293038-42.61522 6.808557l-32.913908 10.124643 94.684811 21.201777c-2.151928 1.340545-40.49857 24.870638-40.49857 24.870638l35.206945-1.55221 3.704137-0.105833c31.32642 0 51.22293 17.321253 74.999966 47.307128l16.121818-7.443552c-12.27657-63.323113-52.91625-101.211148-108.689979-101.211148zM720.71933 509.371826c-8.572433 0.035278-15.839598 5.150515-22.260102 9.701313-2.25776 1.587488-4.550798 3.210253-6.808558 4.51552l-9.101595 5.150515 17.144865 22.612878-14.39322 18.379577h18.76763l17.77986 0.211665c3.316085 0 6.420505-0.105833 9.560203-0.352775 15.769043-1.234713 25.54091-5.856065 29.880043-14.146277 4.162745-7.937438 2.751645-17.744583-4.303855-29.915321-6.808558-11.782685-25.752575-16.157095-36.265271-16.157095z"})]})}))}},2557:function(e,t,n){"use strict";var r=n(18),i=n(1),o=n(441),a=n(467),s=n(468),u=n(469),c=n(227),l=n(472),f=n(470),h=n(456),d=n(460),p=n(458),m=n(459),E=n(453),v=n(452),g=n(1530),y=n(381),b=n(1383),S=n(451),T=n(466),x=n(1887),O=n(955),R=n(1231),A=n(321),_=n(247),N=n.n(_),C=n(246),L=n(2558),I=n.n(L),w=n(0),M=[{description:"\u4ece\u5df2\u6709\u6570\u636e\u8fde\u63a5\u4e2d\u6dfb\u52a0\u6216\u8005\u521b\u5efa\u6570\u636e",title:"\u7efc\u5408\u7c7b",value:"0"},{description:"\u4ece\u672c\u5730\u6570\u636e\u6587\u4ef6\uff08\u5982csv\u3001json\u3001shp\u7b49\u6587\u4ef6\uff09\u4e2d\u6dfb\u52a0\u6570\u636e",title:"\u65e0\u4ee3\u7801\u7c7b",value:"1"},{description:"\u521b\u5efa\u6570\u636e\u7ed3\u6784\u5e76\u624b\u52a8\u5f55\u5165\u6570\u636e",title:"\u4f4e\u4ee3\u7801\u7c7b",value:"2"},{description:"\u521b\u5efa\u6570\u636e\u7ed3\u6784\u5e76\u624b\u52a8\u5f55\u5165\u6570\u636e",title:"\u4e1a\u52a1\u573a\u666f\u7c7b",value:"3"},{description:"\u521b\u5efa\u6570\u636e\u7ed3\u6784\u5e76\u624b\u52a8\u5f55\u5165\u6570\u636e",title:"ETL\u7c7b",value:"4"},{description:"\u521b\u5efa\u6570\u636e\u7ed3\u6784\u5e76\u624b\u52a8\u5f55\u5165\u6570\u636e",title:"\u7b97\u6cd5\u7c7b",value:"5"},{description:"\u521b\u5efa\u6570\u636e\u7ed3\u6784\u5e76\u624b\u52a8\u5f55\u5165\u6570\u636e",title:"\u7a7a\u95f4\u8ba1\u7b97\u7c7b",value:"6"},{description:"\u521b\u5efa\u6570\u636e\u7ed3\u6784\u5e76\u624b\u52a8\u5f55\u5165\u6570\u636e",title:"\u56fe\u8ba1\u7b97\u7c7b",value:"7"},{description:"\u521b\u5efa\u6570\u636e\u7ed3\u6784\u5e76\u624b\u52a8\u5f55\u5165\u6570\u636e",title:"\u673a\u5668\u5b66\u4e60\u7c7b",value:"8"}];t.a=function(e){var t,n,_,L,j,P,k=!!e.initValue,D=Object(i.useState)((null===(t=e.initValue)||void 0===t?void 0:t.name)||""),U=Object(r.a)(D,2),F=U[0],B=U[1],G=Object(i.useState)((null===(n=e.initValue)||void 0===n?void 0:n.desc)||""),V=Object(r.a)(G,2),H=V[0],z=V[1],W=Object(i.useState)((null===(_=e.initValue)||void 0===_?void 0:_.type)||""),Y=Object(r.a)(W,2),X=Y[0],q=Y[1],K=Object(i.useState)(""),Q=Object(r.a)(K,2),J=Q[0],Z=Q[1],$=Object(i.useState)((null===(L=e.initValue)||void 0===L?void 0:L.tagArray)||[]),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],re=Object(i.useState)((null===(j=e.initValue)||void 0===j?void 0:j.group)||""),ie=Object(r.a)(re,2),oe=ie[0],ae=ie[1],se=Object(i.useState)((null===(P=e.initValue)||void 0===P?void 0:P.type1)||"\u79bb\u7ebf\u5de5\u4f5c\u6d41"),ue=Object(r.a)(se,2),ce=ue[0],le=ue[1];return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(o.a,{fullWidth:!0,maxWidth:"lg",open:e.open,children:[Object(w.jsx)(a.a,{sx:{position:"relative"},children:Object(w.jsxs)(s.a,{children:[Object(w.jsx)(u.a,{edge:"start",color:"inherit",onClick:e.handlerClose,"aria-label":"close",children:Object(w.jsx)(N.a,{})}),Object(w.jsx)(c.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"\u65b0\u589e\u5de5\u4f5c\u6d41"}),k?Object(w.jsx)(l.a,{onClick:e.handlerClose,variant:"outlined",color:"inherit",children:"\u4fdd\u5b58"}):Object(w.jsx)(l.a,{component:"a",href:"/job/create1",endIcon:Object(w.jsx)(I.a,{}),variant:"outlined",color:"inherit",children:"\u8fdb\u5165\u753b\u5e03"})]})}),Object(w.jsx)(f.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsxs)(d.a,{children:[Object(w.jsxs)(p.a,{children:[Object(w.jsx)(m.a,{children:Object(w.jsx)(E.a,{required:!0,children:"\u5de5\u4f5c\u6d41\u540d\u79f0"})}),Object(w.jsx)(m.a,{children:Object(w.jsx)(v.a,{fullWidth:!0,value:F,onChange:function(e){return B(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u6d41\u540d\u79f0"})})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(m.a,{children:Object(w.jsx)(E.a,{children:"\u5de5\u4f5c\u6d41\u63cf\u8ff0"})}),Object(w.jsx)(m.a,{children:Object(w.jsx)(v.a,{value:H,onChange:function(e){return z(e.target.value)},multiline:!0,rows:2,fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u6d41\u63cf\u8ff0"})})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(m.a,{children:Object(w.jsx)(E.a,{children:"\u5de5\u4f5c\u6d41\u6807\u7b7e"})}),Object(w.jsxs)(m.a,{children:[Object(w.jsx)(v.a,{fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u6d41\u6807\u7b7e",InputProps:{endAdornment:Object(w.jsx)(g.a,{position:"end",children:Object(w.jsx)(l.a,{sx:{ml:2},onClick:function(){var e;J&&(e=J,te.push(e),ne(te),Z(""))},children:"\u6dfb\u52a0"})})},onChange:function(e){return Z(e.target.value)},value:J}),Object(w.jsx)(y.a,{sx:{ml:-1},children:te.map((function(e,t){return Object(w.jsx)(b.a,{onDelete:function(){var t=te.filter((function(t){return t!==e}));ne(t)},label:e,sx:{mt:1,ml:1},variant:"outlined"},t)}))})]})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(m.a,{children:Object(w.jsx)(E.a,{required:!0,children:"\u5206\u7ec4"})}),Object(w.jsx)(m.a,{children:Object(w.jsxs)(S.a,{value:oe,onChange:function(e){return ae(e.target.value)},fullWidth:!0,children:[Object(w.jsx)(T.a,{value:"0",children:"\u5206\u7ec41"}),Object(w.jsx)(T.a,{value:"1",children:"\u5206\u7ec42"}),Object(w.jsx)(T.a,{value:"2",children:"\u5206\u7ec43"})]})})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(m.a,{children:Object(w.jsx)(E.a,{required:!0,children:"\u6027\u8d28"})}),Object(w.jsx)(m.a,{children:Object(w.jsxs)(x.a,{value:ce,onChange:function(e){return le(e.target.value)},row:!0,defaultValue:"\u79bb\u7ebf\u5de5\u4f5c\u6d41",children:[Object(w.jsx)(O.a,{value:"\u79bb\u7ebf\u5de5\u4f5c\u6d41",control:Object(w.jsx)(R.a,{disabled:k}),label:"\u79bb\u7ebf\u5de5\u4f5c\u6d41"}),Object(w.jsx)(O.a,{value:"\u5b9e\u65f6\u5de5\u4f5c\u6d41",control:Object(w.jsx)(R.a,{disabled:k}),label:"\u5b9e\u65f6\u5de5\u4f5c\u6d41"})]})})]}),Object(w.jsxs)(p.a,{children:[Object(w.jsx)(m.a,{children:Object(w.jsx)(E.a,{required:!0,children:"\u7c7b\u578b"})}),Object(w.jsx)(m.a,{children:Object(w.jsx)(C.a,{style:{maxHeight:"30vh"},children:Object(w.jsx)(x.a,{value:X,onChange:function(e){return q(e.target.value)},sx:{"& > *:not(:last-of-type)":{mb:2}},children:M.map((function(e){return Object(w.jsx)(A.a,{sx:{alignItems:"flex-start",display:"flex",p:2},variant:"outlined",children:Object(w.jsx)(O.a,{control:Object(w.jsx)(R.a,{disabled:k}),label:Object(w.jsxs)(y.a,{sx:{ml:2},children:[Object(w.jsx)(c.a,{variant:"subtitle2",children:e.title}),Object(w.jsx)(c.a,{color:"textSecondary",variant:"body2",children:e.description})]}),value:e.value},e.value)},e.value)}))})})})]})]})})})]})})}},2558:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt");t.default=a},2559:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");t.default=a},2560:function(e,t,n){e.exports={graphlib:n(689),layout:n(2593),debug:n(2645),util:{time:n(643).time,notime:n(643).notime},version:n(2646)}},2561:function(e,t,n){var r=n(2562);e.exports={Graph:r.Graph,json:n(2583),alg:n(2584),version:r.version}},2562:function(e,t,n){e.exports={Graph:n(1443),version:n(2582)}},2563:function(e,t,n){var r=n(728);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},2564:function(e,t,n){var r=n(1296);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},2565:function(e,t){e.exports=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}},2566:function(e,t,n){var r=n(1536),i=n(724),o=n(728),a=n(2567),s=n(2568);e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},2567:function(e,t,n){var r=n(1410),i=n(585),o=n(730);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},2568:function(e,t,n){var r=n(2569),i=n(1336),o=n(2570);e.exports=function(e){return i(e)?o(e):r(e)}},2569:function(e,t,n){var r=n(1370)("length");e.exports=r},2570:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",l=c+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+u+")*"),f="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+f+l,"g");e.exports=function(e){for(var t=h.lastIndex=0;h.test(e);)++t;return t}},2571:function(e,t,n){var r=n(959),i=n(1247),o=n(964),a=n(687),s=n(823),u=n(585),c=n(791),l=n(1414),f=n(608),h=n(944);e.exports=function(e,t,n){var d=u(e),p=d||c(e)||h(e);if(t=a(t,4),null==n){var m=e&&e.constructor;n=p?d?new m:[]:f(e)&&l(m)?i(s(e)):{}}return(p?r:o)(e,(function(e,r,i){return t(n,e,r,i)})),n}},2572:function(e,t,n){var r=n(1375),i=n(1021),o=n(2116),a=n(1776),s=i((function(e){return o(r(e,1,a,!0))}));e.exports=s},2573:function(e,t,n){var r=n(957),i=n(943),o=n(585),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},2574:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},2575:function(e,t,n){var r=n(1444),i=n(2976),o=n(772),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},2576:function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},2577:function(e,t,n){var r=n(1898),i=n(2578),o=n(2579);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},2578:function(e,t){e.exports=function(e){return e!==e}},2579:function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},2580:function(e,t,n){var r=n(2977),i=n(2119),o=n(1019),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},2581:function(e,t,n){var r=n(1367);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},2582:function(e,t){e.exports="2.1.8"},2583:function(e,t,n){var r=n(679),i=n(1443);function o(e){return r.map(e.nodes(),(function(t){var n=e.node(t),i=e.parent(t),o={v:t};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},2584:function(e,t,n){e.exports={components:n(2585),dijkstra:n(1900),dijkstraAll:n(2586),findCycles:n(2587),floydWarshall:n(2588),isAcyclic:n(2589),postorder:n(2590),preorder:n(2591),prim:n(2592),tarjan:n(1902),topsort:n(1903)}},2585:function(e,t,n){var r=n(679);e.exports=function(e){var t,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}return r.each(e.nodes(),(function(e){t=[],o(e),t.length&&i.push(t)})),i}},2586:function(e,t,n){var r=n(1900),i=n(679);e.exports=function(e,t,n){return i.transform(e.nodes(),(function(i,o){i[o]=r(e,o,t,n)}),{})}},2587:function(e,t,n){var r=n(679),i=n(1902);e.exports=function(e){return r.filter(i(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},2588:function(e,t,n){var r=n(679);e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},2589:function(e,t,n){var r=n(1903);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},2590:function(e,t,n){var r=n(1904);e.exports=function(e,t){return r(e,t,"post")}},2591:function(e,t,n){var r=n(1904);e.exports=function(e,t){return r(e,t,"pre")}},2592:function(e,t,n){var r=n(679),i=n(1443),o=n(1901);e.exports=function(e,t){var n,a=new i,s={},u=new o;function c(e){var r=e.v===n?e.w:e.v,i=u.priority(r);if(void 0!==i){var o=t(e);o<i&&(s[r]=n,u.decrease(r,o))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);var l=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(n).forEach(c)}return a}},2593:function(e,t,n){"use strict";var r=n(556),i=n(2623),o=n(2626),a=n(2627),s=n(643).normalizeRanks,u=n(2629),c=n(643).removeEmptyRanks,l=n(2630),f=n(2631),h=n(2632),d=n(2633),p=n(2642),m=n(643),E=n(689).Graph,v=n(2644);e.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",(function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",(function(){!function(e,t){var n=t._nodes;r.forEach(e.nodes(),(function(t){var r=e.node(t);void 0!==n[t]?(r.fixorder=n[t]._order,delete n[t]._order):delete r.fixorder}))}(e,t.prevGraph)}));var N=n("  buildLayoutGraph",(function(){return function(e){var t=new E({multigraph:!0,compound:!0}),n=_(e.graph());return t.setGraph(r.merge({},y,A(n,g),r.pick(n,b))),r.forEach(e.nodes(),(function(n){var i=_(e.node(n));t.setNode(n,r.defaults(A(i,S),T)),t.setParent(n,e.parent(n))})),r.forEach(e.edges(),(function(n){var i=_(e.edge(n));t.setEdge(n,r.merge({},O,A(i,x),r.pick(i,R)))})),t}(e)}));t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.nodes(),(function(t){var n=e.node(t);isNaN(n.layer)||(n.layer*=2)})),r.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(N)}));try{n("  runLayout",(function(){!function(e,t,n){t("    removeSelfEdges",(function(){!function(e){r.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){i.run(e)})),t("    nestingGraph.run",(function(){l.run(e)})),t("    rank",(function(){a(m.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};m.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){c(e)})),t("    nestingGraph.cleanup",(function(){l.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;r.forEach(e.nodes(),(function(n){var i=e.node(n);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=r.max(t,i.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){o.run(e)})),t("    parentDummyChains",(function(){u(e)})),t("    addBorderSegments",(function(){f(e)})),n&&n.keepNodeOrder&&t("    initDataOrder",(function(){v(e,n.nodeOrder)}));t("    order",(function(){d(e)})),t("    insertSelfEdges",(function(){!function(e){var t=m.buildLayerMatrix(e);r.forEach(t,(function(t){var n=0;r.forEach(t,(function(t,i){var o=e.node(t);o.order=i+n,r.forEach(o.selfEdges,(function(t){m.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:i+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){h.adjust(e)})),t("    position",(function(){p(e)})),t("    positionSelfEdges",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){r.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),i=e.node(n.borderTop),o=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}})),r.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){o.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){h.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=e.graph(),s=a.marginx||0,u=a.marginy||0;function c(e){var r=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-u/2),o=Math.max(o,a+u/2)}r.forEach(e.nodes(),(function(t){c(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.has(n,"x")&&c(n)})),t-=s,i-=u,r.forEach(e.nodes(),(function(n){var r=e.node(n);r.x-=t,r.y-=i})),r.forEach(e.edges(),(function(n){var o=e.edge(n);r.forEach(o.points,(function(e){e.x-=t,e.y-=i})),r.has(o,"x")&&(o.x-=t),r.has(o,"y")&&(o.y-=i)})),a.width=n-t+s,a.height=o-i+u}(e)})),t("    assignNodeIntersects",(function(){!function(e){r.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(m.intersectRect(o,n)),i.points.push(m.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){i.undo(e)}))}(N,n,t)}))}catch(C){if("Not possible to find intersection inside of the rectangle"===C.message)return;throw C}n("  updateInputGraph",(function(){!function(e,t){r.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,r._order=i.order,r._rank=i.rank,t.children(n).length&&(r.width=i.width,r.height=i.height))})),r.forEach(e.edges(),(function(n){var i=e.edge(n),o=t.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,N)}))}))};var g=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],S=["width","height","layer","fixorder"],T={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},R=["labelpos"];function A(e,t){return r.mapValues(r.pick(e,t),Number)}function _(e){var t={};return r.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},2594:function(e,t,n){var r=n(1021),i=n(855),o=n(1297),a=n(686),s=Object.prototype,u=s.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(r=1);++n<r;)for(var l=t[n],f=a(l),h=-1,d=f.length;++h<d;){var p=f[h],m=e[p];(void 0===m||i(m,s[p])&&!u.call(e,p))&&(e[p]=l[p])}return e}));e.exports=c},2595:function(e,t,n){var r=n(2596)(n(2597));e.exports=r},2596:function(e,t,n){var r=n(687),i=n(728),o=n(723);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var u=r(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[u?t[c]:c]:void 0}}},2597:function(e,t,n){var r=n(1898),i=n(687),o=n(2598),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(e,i(t,3),u)}},2598:function(e,t,n){var r=n(1905);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2599:function(e,t,n){var r=n(1017),i=n(1890),o=n(686);e.exports=function(e,t){return null==e?e:r(e,i(t),o)}},2600:function(e,t,n){var r=n(1445),i=n(2601),o=n(772);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},2601:function(e,t){e.exports=function(e,t){return e>t}},2602:function(e,t,n){var r=n(2603),i=n(2606)((function(e,t,n){r(e,t,n)}));e.exports=i},2603:function(e,t,n){var r=n(897),i=n(1907),o=n(1017),a=n(2604),s=n(608),u=n(686),c=n(1908);e.exports=function e(t,n,l,f,h){t!==n&&o(n,(function(o,u){if(h||(h=new r),s(o))a(t,n,u,l,e,f,h);else{var d=f?f(c(t,u),o,u+"",t,n,h):void 0;void 0===d&&(d=o),i(t,u,d)}}),u)}},2604:function(e,t,n){var r=n(1907),i=n(1243),o=n(1245),a=n(1244),s=n(1246),u=n(943),c=n(585),l=n(1776),f=n(791),h=n(1414),d=n(608),p=n(2121),m=n(944),E=n(1908),v=n(2605);e.exports=function(e,t,n,g,y,b,S){var T=E(e,n),x=E(t,n),O=S.get(x);if(O)r(e,n,O);else{var R=b?b(T,x,n+"",e,t,S):void 0,A=void 0===R;if(A){var _=c(x),N=!_&&f(x),C=!_&&!N&&m(x);R=x,_||N||C?c(T)?R=T:l(T)?R=a(T):N?(A=!1,R=i(x,!0)):C?(A=!1,R=o(x,!0)):R=[]:p(x)||u(x)?(R=T,u(T)?R=v(T):d(T)&&!h(T)||(R=s(x))):A=!1}A&&(S.set(x,R),y(R,x,g,b,S),S.delete(x)),r(e,n,R)}}},2605:function(e,t,n){var r=n(715),i=n(686);e.exports=function(e){return r(e,i(e))}},2606:function(e,t,n){var r=n(1021),i=n(1297);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},2607:function(e,t,n){var r=n(1445),i=n(1909),o=n(772);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},2608:function(e,t,n){var r=n(1445),i=n(687),o=n(1909);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},2609:function(e,t,n){var r=n(2610),i=n(2122)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},2610:function(e,t,n){var r=n(2611),i=n(1369);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},2611:function(e,t,n){var r=n(1335),i=n(2008),o=n(1014);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&i(u,o(c,e),l)}return u}},2612:function(e,t,n){var r=n(2613)();e.exports=r},2613:function(e,t,n){var r=n(2614),i=n(1297),o=n(1905);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},2614:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,i,o){for(var a=-1,s=r(n((t-e)/(i||1)),0),u=Array(s);s--;)u[o?s:++a]=e,e+=i;return u}},2615:function(e,t,n){var r=n(1375),i=n(2616),o=n(1021),a=n(1297),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},2616:function(e,t,n){var r=n(1367),i=n(1335),o=n(687),a=n(1894),s=n(2617),u=n(960),c=n(2618),l=n(772),f=n(585);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var h=-1;t=r(t,u(o));var d=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(d,(function(e,t){return c(e,t,n)}))}},2617:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},2618:function(e,t,n){var r=n(2619);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},2619:function(e,t,n){var r=n(1013);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,u=null===t,c=t===t,l=r(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}},2620:function(e,t,n){var r=n(856),i=0;e.exports=function(e){var t=++i;return r(e)+t}},2621:function(e,t,n){var r=n(790),i=n(2622);e.exports=function(e,t){return i(e||[],t||[],r)}},2622:function(e,t){e.exports=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}},2623:function(e,t,n){"use strict";var r=n(556),i=n(2624);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?i(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},i={};function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),(function(e){r.has(n,e.w)?t.push(e):o(e.w)})),delete n[a])}return r.forEach(e.nodes(),o),t}(e);r.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))}))},undo:function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},2624:function(e,t,n){var r=n(556),i=n(689).Graph,o=n(2625);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new i,a=0,s=0;r.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),r.forEach(e.edges(),(function(e){var r=n.edge(e.v,e.w)||0,i=t(e),o=r+i;n.setEdge(e.v,e.w,o),s=Math.max(s,n.node(e.v).out+=i),a=Math.max(a,n.node(e.w).in+=i)}));var c=r.range(s+a+3).map((function(){return new o})),l=a+1;return r.forEach(n.nodes(),(function(e){u(c,l,n.node(e))})),{graph:n,buckets:c,zeroIdx:l}}(e,t||a),c=function(e,t,n){var r,i=[],o=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=o.dequeue();)s(e,t,n,r);if(e.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){i=i.concat(s(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(t){return e.outEdges(t.v,t.w)})),!0)};var a=r.constant(1);function s(e,t,n,i,o){var a=o?[]:void 0;return r.forEach(e.inEdges(i.v),(function(r){var i=e.edge(r),s=e.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,u(t,n,s)})),r.forEach(e.outEdges(i.v),(function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,u(t,n,a)})),e.removeNode(i.v),a}function u(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},2625:function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=n,n.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},n.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},2626:function(e,t,n){"use strict";var r=n(556),i=n(643);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),(function(t){!function(e,t){var n,r,o,a=t.v,s=e.node(a).rank,u=t.w,c=e.node(u).rank,l=t.name,f=e.edge(t),h=f.labelRank;if(c===s+1)return;for(e.removeEdge(t),o=0,++s;s<c;++o,++s)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:t,rank:s},n=i.addDummyNode(e,"edge",r,"_d"),s===h&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),e.setEdge(a,n,{weight:f.weight},l),0===o&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,u,{weight:f.weight},l)}(e,t)}))},undo:function(e){r.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))}}},2627:function(e,t,n){"use strict";var r=n(1298).longestPathWithLayer,i=n(1910).feasibleTreeWithLayer,o=n(2628);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":!function(e){o(e)}(e);break;default:s(e);break;case"longest-path":a(e)}};var a=r;function s(e){r(e),i(e)}},2628:function(e,t,n){"use strict";var r=n(556),i=n(1910).feasibleTree,o=n(1298).slack,a=n(1298).longestPath,s=n(689).alg.preorder,u=n(689).alg.postorder,c=n(643).simplify;function l(e){e=c(e),a(e);var t,n=i(e);for(d(n),f(n,e);t=m(n);)v(n,e,t,E(n,e,t))}function f(e,t){var n=u(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=h(e,t,n)}(e,t,n)}))}function h(e,t,n){var i=e.node(n).parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,r.forEach(t.nodeEdges(n),(function(r){var a,u,c=r.v===n,l=c?r.w:r.v;if(l!==i){var f=c===o,h=t.edge(r).weight;if(s+=f?h:-h,a=n,u=l,e.hasEdge(a,u)){var d=e.edge(n,l).cutvalue;s+=f?-d:d}}})),s}function d(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,i,o){var a=n,s=e.node(i);return t[i]=!0,r.forEach(e.neighbors(i),(function(o){r.has(t,o)||(n=p(e,t,n,o,i))})),s.low=a,s.lim=n++,o?s.parent=o:delete s.parent,n}function m(e){return r.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function E(e,t,n){var i=n.v,a=n.w;t.hasEdge(i,a)||(i=n.w,a=n.v);var s=e.node(i),u=e.node(a),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var f=r.filter(t.edges(),(function(t){return l===g(e,e.node(t.v),c)&&l!==g(e,e.node(t.w),c)}));return r.minBy(f,(function(e){return o(t,e)}))}function v(e,t,n,i){var o=n.v,a=n.w;e.removeEdge(o,a),e.setEdge(i.v,i.w,{}),d(e),f(e,t),function(e,t){var n=r.find(e.nodes(),(function(e){return!t.node(e).parent})),i=s(e,n);i=i.slice(1),r.forEach(i,(function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))}(e,t)}function g(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=l,l.initLowLimValues=d,l.initCutValues=f,l.calcCutValue=h,l.leaveEdge=m,l.enterEdge=E,l.exchangeEdges=v},2629:function(e,t,n){var r=n(556);e.exports=function(e){var t=function(e){var t={},n=0;function i(o){var a=n;r.forEach(e.children(o),i),t[o]={low:a,lim:n++}}return r.forEach(e.children(),i),t}(e);r.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||c>t[i].lim));o=i,i=r;for(;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}}))}},2630:function(e,t,n){var r=n(556),i=n(643);function o(e,t,n,a,s,u,c){var l=e.children(c);if(l.length){var f=i.addBorderNode(e,"_bt"),h=i.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(f,c),d.borderTop=f,e.setParent(h,c),d.borderBottom=h,r.forEach(l,(function(r){o(e,t,n,a,s,u,r);var i=e.node(r),l=i.borderTop?i.borderTop:r,d=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,m=l!==d?1:s-u[c]+1;e.setEdge(f,l,{weight:p,minlen:m,nestingEdge:!0}),e.setEdge(d,h,{weight:p,minlen:m,nestingEdge:!0})})),e.parent(c)||e.setEdge(t,f,{weight:0,minlen:s+u[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=i.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(i,o){var a=e.children(i);a&&a.length&&r.forEach(a,(function(e){n(e,o+1)})),t[i]=o}return r.forEach(e.children(),(function(e){n(e,1)})),t}(e),a=r.max(r.values(n))-1,s=2*a+1;e.graph().nestingRoot=t,r.forEach(e.edges(),(function(t){e.edge(t).minlen*=s}));var u=function(e){return r.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;r.forEach(e.children(),(function(r){o(e,t,s,u,a,n,r)})),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},2631:function(e,t,n){var r=n(556),i=n(643);function o(e,t,n,r,o,a){var s={width:0,height:0,rank:a,borderType:t},u=o[t][a-1],c=i.addDummyNode(e,"border",s,n);o[t][a]=c,e.setParent(c,r),u&&e.setEdge(u,c,{weight:1})}e.exports=function(e){r.forEach(e.children(),(function t(n){var i=e.children(n),a=e.node(n);if(i.length&&r.forEach(i,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)o(e,"borderLeft","_bl",n,a,s),o(e,"borderRight","_br",n,a,s)}}))}},2632:function(e,t,n){"use strict";var r=n(556);function i(e){r.forEach(e.nodes(),(function(t){o(e.node(t))})),r.forEach(e.edges(),(function(t){o(e.edge(t))}))}function o(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||i(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),(function(t){a(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),(function(t){s(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(e),i(e))}}},2633:function(e,t,n){"use strict";var r=n(556),i=n(2634),o=n(2635),a=n(2636),s=n(2640),u=n(2641),c=n(689).Graph,l=n(643);function f(e,t,n){return r.map(t,(function(t){return s(e,t,n)}))}function h(e,t,n){var i=new c;r.forEach(e,(function(e){var o=e.graph().root,s=a(e,o,i,t,n);r.forEach(s.vs,(function(t,n){e.node(t).order=n})),u(e,i,s.vs)}))}function d(e,t){r.forEach(t,(function(t){r.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=l.maxRank(e),n=f(e,r.range(1,t+1),"inEdges"),a=f(e,r.range(t-1,-1,-1),"outEdges"),s=i(e);d(e,s);for(var u,c=Number.POSITIVE_INFINITY,p=0,m=0;m<4;++p,++m){h(p%2?n:a,p%4>=2),s=l.buildLayerMatrix(e);var E=o(e,s);E<c&&(m=0,u=r.cloneDeep(s),c=E)}for(s=i(e),d(e,s),p=0,m=0;m<4;++p,++m)h(p%2?n:a,p%4>=2,!0),s=l.buildLayerMatrix(e),(E=o(e,s))<c&&(m=0,u=r.cloneDeep(s),c=E);d(e,u)}},2634:function(e,t,n){"use strict";var r=n(556);e.exports=function(e){var t={},n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),i=r.max(r.map(n,(function(t){return e.node(t).rank}))),o=r.map(r.range(i+1),(function(){return[]}));var a=r.sortBy(n,(function(t){return e.node(t).rank})),s=r.sortBy(r.filter(a,(function(t){return void 0!==e.node(t).fixorder})),(function(t){return e.node(t).fixorder}));return r.forEach(s,(function(n){o[e.node(n).rank].push(n),t[n]=!0})),r.forEach(a,(function n(i){if(r.has(t,i))return;t[i]=!0;var a=e.node(i);o[a.rank].push(i),r.forEach(e.successors(i),n)})),o}},2635:function(e,t,n){"use strict";var r=n(556);function i(e,t,n){for(var i=r.zipObject(n,r.map(n,(function(e,t){return t}))),o=r.flatten(r.map(t,(function(t){return r.sortBy(r.map(e.outEdges(t),(function(t){return{pos:i[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(o.forEach((function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;c+=e.weight*n}))),c}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}},2636:function(e,t,n){var r=n(556),i=n(2637),o=n(2638),a=n(2639);e.exports=function e(t,n,s,u,c){var l=t.children(n),f=t.node(n),h=f?f.borderLeft:void 0,d=f?f.borderRight:void 0,p={};h&&(l=r.filter(l,(function(e){return e!==h&&e!==d})));var m=i(t,l);r.forEach(m,(function(n){if(t.children(n.v).length){var i=e(t,n.v,s,u);p[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var E=o(m,s);(function(e,t){r.forEach(e,(function(e){e.vs=r.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))})(E,p),r.forEach(E,(function(e){var n=t.node(e.vs[0]);e.fixorder=n.fixorder,e.order=n.order}));var v=a(E,u,c);if(h&&(v.vs=r.flatten([h,v.vs,d],!0),t.predecessors(h).length)){var g=t.node(t.predecessors(h)[0]),y=t.node(t.predecessors(d)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+g.order+y.order)/(v.weight+2),v.weight+=2}return v}},2637:function(e,t,n){var r=n(556);e.exports=function(e,t){return r.map(t,(function(t){var n=e.inEdges(t);if(n.length){var i=r.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}return{v:t}}))}},2638:function(e,t,n){"use strict";var r=n(556);e.exports=function(e,t){var n={};return r.forEach(e,(function(e,t){var i=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(i.barycenter=e.barycenter,i.weight=e.weight)})),r.forEach(t.edges(),(function(e){var t=n[e.v],i=n[e.w];r.isUndefined(t)||r.isUndefined(i)||(i.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function i(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(t,(function(e){return!e.merged})),(function(e){return r.pick(e,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(e){return!e.indegree})))}},2639:function(e,t,n){var r=n(556),i=n(643);function o(e,t,n){for(var i;t.length&&(i=r.last(t)).i<=n;)t.pop(),e.push(i.vs),n++;return n}e.exports=function(e,t,n){var a=i.partition(e,(function(e){return r.has(e,"fixorder")&&!isNaN(e.fixorder)||r.has(e,"barycenter")})),s=a.lhs,u=r.sortBy(a.rhs,(function(e){return-e.i})),c=[],l=0,f=0,h=0;s.sort(function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}}(!!t,!!n)),h=o(c,u,h),r.forEach(s,(function(e){h+=e.vs.length,c.push(e.vs),l+=e.barycenter*e.weight,f+=e.weight,h=o(c,u,h)}));var d={vs:r.flatten(c,!0)};f&&(d.barycenter=l/f,d.weight=f);return d}},2640:function(e,t,n){var r=n(556),i=n(689).Graph;e.exports=function(e,t,n){var o=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(t){return e.node(t)}));return r.forEach(e.nodes(),(function(i){var s=e.node(i),u=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(i),a.setParent(i,u||o),r.forEach(e[n](i),(function(t){var n=t.v===i?t.w:t.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:e.edge(t).weight+s})})),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),a}},2641:function(e,t,n){var r=n(556);e.exports=function(e,t,n){var i,o={};r.forEach(n,(function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void t.setEdge(a,s);s=r}}))}},2642:function(e,t,n){"use strict";var r=n(556),i=n(643),o=n(2643).positionX;e.exports=function(e){(function(e){var t=i.buildLayerMatrix(e),n=e.graph().ranksep,o=0;r.forEach(t,(function(t){var i=r.max(r.map(t,(function(t){return e.node(t).height})));r.forEach(t,(function(t){e.node(t).y=o+i/2})),o+=i+n}))})(e=i.asNonCompoundGraph(e)),r.forEach(o(e),(function(t,n){e.node(n).x=t}))}},2643:function(e,t,n){"use strict";var r=n(556),i=n(689).Graph,o=n(643);function a(e,t){var n={};return r.reduce(t,(function(t,i){var o=0,a=0,s=t.length,c=r.last(i);return r.forEach(i,(function(t,l){var f=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),h=f?e.node(f).order:s;(f||t===c)&&(r.forEach(i.slice(a,l+1),(function(t){r.forEach(e.predecessors(t),(function(r){var i=e.node(r),a=i.order;!(a<o||h<a)||i.dummy&&e.node(t).dummy||u(n,r,t)}))})),a=l+1,o=h)})),i})),n}function s(e,t){var n={};function i(t,i,o,a,s){var c;r.forEach(r.range(i,o),(function(i){c=t[i],e.node(c).dummy&&r.forEach(e.predecessors(c),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&u(n,t,c)}))}))}return r.reduce(t,(function(t,n){var o,a=-1,s=0;return r.forEach(n,(function(r,u){if("border"===e.node(r).dummy){var c=e.predecessors(r);c.length&&(o=e.node(c[0]).order,i(n,s,u,a,o),s=u,a=o)}i(n,s,n.length,o,t.length)})),n})),n}function u(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function c(e,t,n){if(t>n){var i=t;t=n,n=i}return r.has(e[t],n)}function l(e,t,n,i){var o={},a={},s={};return r.forEach(t,(function(e){r.forEach(e,(function(e,t){o[e]=e,a[e]=e,s[e]=t}))})),r.forEach(t,(function(e){var t=-1;r.forEach(e,(function(e){var u=i(e);if(u.length){u=r.sortBy(u,(function(e){return s[e]}));for(var l=(u.length-1)/2,f=Math.floor(l),h=Math.ceil(l);f<=h;++f){var d=u[f];a[e]===e&&t<s[d]&&!c(n,e,d)&&(a[d]=e,a[e]=o[e]=o[d],t=s[d])}}}))})),{root:o,align:a}}function f(e,t,n,o,a){var s={},u=function(e,t,n,o){var a=new i,s=e.graph(),u=function(e,t,n){return function(i,o,a){var s,u=i.node(o),c=i.node(a),l=0;if(l+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(l+=n?s:-s),s=0,l+=(u.dummy?t:e)/2,l+=(c.dummy?t:e)/2,l+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(l+=n?s:-s),s=0,l}}(s.nodesep,s.edgesep,o);return r.forEach(t,(function(t){var i;r.forEach(t,(function(t){var r=n[t];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(u(e,t,i),s||0))}i=t}))})),a}(e,t,n,a),c=a?"borderLeft":"borderRight";function l(e,t){for(var n=u.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return l((function(e){s[e]=u.inEdges(e).reduce((function(e,t){return Math.max(e,s[t.v]+u.edge(t))}),0)}),u.predecessors.bind(u)),l((function(t){var n=u.outEdges(t).reduce((function(e,t){return Math.min(e,s[t.w]-u.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[t]=Math.max(s[t],n))}),u.successors.bind(u)),r.forEach(o,(function(e){s[e]=s[n[e]]})),s}function h(e,t){return r.minBy(r.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(t,(function(t,r){var o=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+o,n),i=Math.min(t-o,i)})),n-i}))}function d(e,t){var n=r.values(t),i=r.min(n),o=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,u=n+a,c=e[u];if(c!==t){var l=r.values(c);(s="l"===a?i-r.min(l):o-r.max(l))&&(e[u]=r.mapValues(c,(function(e){return e+s})))}}))}))}function p(e,t){return r.mapValues(e.ul,(function(n,i){if(t)return e[t.toLowerCase()][i];var o=r.sortBy(r.map(e,i));return(o[1]+o[2])/2}))}e.exports={positionX:function(e){var t,n=o.buildLayerMatrix(e),i=r.merge(a(e,n),s(e,n)),u={};r.forEach(["u","d"],(function(o){t="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(t=r.map(t,(function(e){return r.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=l(e,t,i,a),c=f(e,t,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(e){return-e}))),u[o+n]=c}))}));var c=h(e,u);return d(u,c),p(u,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:l,horizontalCompaction:f,alignCoordinates:d,findSmallestWidthAlignment:h,balance:p}},2644:function(e,t,n){"use strict";var r=n(556);e.exports=function(e,t){var n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),i=r.max(r.map(n,(function(t){return e.node(t).rank}))),o=r.map(r.range(i+1),(function(){return[]}));r.forEach(t,(function(t){var n=e.node(t);n.dummy||(n.fixorder=o[n.rank].length,o[n.rank].push(t))}))}},2645:function(e,t,n){var r=n(556),i=n(643),o=n(689).Graph;e.exports={debugOrdering:function(e){var t=i.buildLayerMatrix(e),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),r.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),r.forEach(t,(function(e,t){var i="layer"+t;n.setNode(i,{rank:"same"}),r.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},2646:function(e,t){e.exports="0.1.1"},2647:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(2648),s=n(652),u=n(758),c=n(601),l=n(1912),f=n(2649),h=n(2656),d=n(2658),p=n(829),m=n(986),E=n(2661),v=n(2662),g=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new v.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return f.getBindingDictionary(e)})),u=f.getBindingDictionary(a);function c(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){c(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new d.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+m.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new v.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(E.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),h.resolve(n)}},e}();t.Container=g},2648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(758),i=n(829),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},2649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(2650),i=n(652),o=n(758),a=n(601),s=n(1913),u=n(986),c=n(2651),l=n(690),f=n(2652),h=n(2653),d=n(2655),p=n(1915);function m(e){return e._bindingDictionary}function E(e,t,n,o,a){var s=g(n.container,a.serviceIdentifier),c=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=g(n.container,a.serviceIdentifier)),c=t?s:s.filter((function(e){var t=new d.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,g),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,g),new Error(s)}}(a.serviceIdentifier,c,a,n.container),c}function v(e,t,n,r,a,s){var u,c;if(null===a){u=E(e,t,r,null,s),c=new d.Request(n,r,null,u,s);var l=new f.Plan(r,c);r.addPlan(l)}else u=E(e,t,r,a,s),c=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=c.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=c}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=h.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=h.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){v(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function g(e,t){var n=[],r=m(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=g(e.parent,t)),n}t.getBindingDictionary=m,t.plan=function(e,t,n,r,i,o,f,h){void 0===h&&(h=!1);var d=new c.Context(t),m=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),c=new p.Target(t,r,n,u);if(void 0!==i){var f=new l.Metadata(i,o);c.metadata.push(f)}return c}(n,r,i,"",o,f);try{return v(e,h,i,d,null,m),d}catch(E){throw s.isStackOverflowExeption(E)&&d.plan&&u.circularDependencyToException(d.plan.rootRequest),E}},t.createMockRequest=function(e,t,n,r){var i=new p.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new c.Context(e);return new d.Request(t,a,null,[],i)}},2650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},2651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(829),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},2652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var r=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=r},2653:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(1914),o=n(652),a=n(758),s=n(601),u=n(986);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var c=n(1915);function l(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var c=a.userGeneratedMetadata,l=Object.keys(c),d=0===n.length&&l.length>0,p=l.length>n.length,m=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,c,d||p?l.length:n.length),E=h(e,n);return r(r([],m),E)}function f(e,t,n,r,s){var u=s[e.toString()]||[],l=d(u),f=!0!==l.unmanaged,h=r[e],p=l.inject||l.multiInject;if((h=p||h)instanceof i.LazyServiceIdentifer&&(h=h.unwrap()),f){if(!t&&(h===Object||h===Function||void 0===h)){var m=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(m)}var E=new c.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,h);return E.metadata=u,E}return null}function h(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],l=n[u],f=d(n[u]),p=f.targetName||u,m=f.inject||f.multiInject,E=new c.Target(a.TargetTypeEnum.ClassProperty,p,m);E.metadata=l,i.push(E)}var v=Object.getPrototypeOf(t.prototype).constructor;if(v!==Object){var g=h(e,v);i=r(r([],i),g)}return i}function d(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,u.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,c=i.length-a;return c>0?c:e(t,r)}return 0}},2654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},2655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(829),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},2656:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(652),i=n(758),o=n(1913),a=n(986),s=n(2657),u=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},c=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,c=n.childRequests,l=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(l&&f)return c.map((function(n){return e(t)(n)}));var h=null;if(!n.target.isOptional()||0!==o.length){var d=o[0],p=d.scope===i.BindingScopeEnum.Singleton,m=d.scope===i.BindingScopeEnum.Request;if(p&&d.activated)return d.cache;if(m&&null!==t&&t.has(d.id))return t.get(d.id);if(d.type===i.BindingTypeEnum.ConstantValue)h=d.cache,d.activated=!0;else if(d.type===i.BindingTypeEnum.Function)h=d.cache,d.activated=!0;else if(d.type===i.BindingTypeEnum.Constructor)h=d.implementationType;else if(d.type===i.BindingTypeEnum.DynamicValue&&null!==d.dynamicValue)h=u("toDynamicValue",d.serviceIdentifier,(function(){return d.dynamicValue(n.parentContext)}));else if(d.type===i.BindingTypeEnum.Factory&&null!==d.factory)h=u("toFactory",d.serviceIdentifier,(function(){return d.factory(n.parentContext)}));else if(d.type===i.BindingTypeEnum.Provider&&null!==d.provider)h=u("toProvider",d.serviceIdentifier,(function(){return d.provider(n.parentContext)}));else{if(d.type!==i.BindingTypeEnum.Instance||null===d.implementationType){var E=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+E)}h=s.resolveInstance(d.implementationType,c,e(t))}return"function"===typeof d.onActivation&&(h=d.onActivation(n.parentContext,h)),p&&(d.cache=h,d.activated=!0),m&&null!==t&&!t.has(d.id)&&t.set(d.id,h),h}}};t.resolve=function(e){return c(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},2657:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(652),o=n(758),a=n(601);t.resolveInstance=function(e,t,n){var s,u,c=null;if(t.length>0){var l=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=l,c=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(c=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else c=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}(e,c),c}},2658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(652),i=n(758),o=n(2659),a=n(1916),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},2659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(2660),i=n(1447),o=n(1448),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},2660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(758),i=n(1916),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},2661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},2662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(652),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},2663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(829),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},2664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(652),i=n(601);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},2665:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(690),i=n(781);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},2666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(601),i=n(690),o=n(781);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},2667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(601),i=n(690),o=n(781);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},2668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(601),i=n(690),o=n(781);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},2669:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(601),i=n(690),o=n(781);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},2670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(601),i=n(690),o=n(781);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},2671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(652),i=n(601),o=n(690);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},2672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},2673:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},2674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2675);t.default=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},2675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol.for("INJECTION");function i(e,t,n,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(r,this,t)&&Reflect.defineMetadata(r,n(),this,t),Reflect.hasMetadata(r,this,t)?Reflect.getMetadata(r,this,t):n()},set:function(e){Reflect.defineMetadata(r,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(r,o){i(r,o,(function(){return e.get(n)}),t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,r){return function(o,a){i(o,a,(function(){return e.getNamed(n,r)}),t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,r,o){return function(a,s){i(a,s,(function(){return e.getTagged(n,r,o)}),t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(r,o){i(r,o,(function(){return e.getAll(n)}),t)}}}},2676:function(e,t,n){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function i(e){throw new Error("(regl) "+e)}function o(e,t){e||i(t)}function a(e){return e?": "+e:""}function s(e,t,n){e in t||i("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||i("invalid parameter type"+a(n)+". must be a typed array")}function c(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function l(e,t,n){c(e,t)||i("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")}function h(e,t,n){t.indexOf(e)<0&&i("invalid value"+a(n)+". must be one of: "+t)}var d=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){d.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+d)}))}function m(e,t){for(e+="";e.length<t;)e=" "+e;return e}function E(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function v(e,t){this.number=e,this.line=t,this.errors=[]}function g(e,t,n){this.file=e,this.line=t,this.message=n}function y(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function b(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function S(e,t){var n=e.split("\n"),i=1,o=0,a={unknown:new E,0:new E};a.unknown.name=a[0].name=t||y(),a.unknown.lines.push(new v(0,""));for(var s=0;s<n.length;++s){var u=n[s],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(c)switch(c[1]){case"line":var l=/(\d+)(\s+\d+)?/.exec(c[2]);l&&(i=0|l[1],l[2]&&((o=0|l[2])in a||(a[o]=new E)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);f&&(a[o].name=f[1]?r(f[2]):f[2])}a[o].lines.push(new v(i++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function T(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new g(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new g("unknown",0,e))}})),t}function x(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function O(e,t,r,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";I(r,"string",u+" shader source must be a string",a);var c=S(r,a),l=T(s);x(c,l),Object.keys(c).forEach((function(e){var t=c[e];if(t.hasErrors){var r=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){o(m(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];i=a[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(m("| ",6)),o(m("^^^",t+3)+n,"font-weight:bold"),o(m("| ",6)),o(i+n,"font-weight:bold")})),o(m("| ",6)+n)}else o(m(e.number,4)+"|  "),o(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome||(i[0]=r.join("%c"))}function o(e,t){r.push(e),i.push(t||"")}})),o.raise("Error compiling "+u+" shader, "+c[0].name)}}function R(e,t,n,r,i){if(!e.getProgramParameter(t,e.LINK_STATUS)){e.getProgramInfoLog(t);var a=S(n,i),s='Error linking program with vertex shader, "'+S(r,i)[0].name+'", and fragment shader "'+a[0].name+'"';o.raise(s)}}function A(e){e._commandRef=y()}function _(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}A(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var s=e._attributeSet={};o(s,n.static),o(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function N(e,t){var n=b();i(e+" in command "+(t||y())+("unknown"===n?"":" called from "+n))}function C(e,t,n){e||N(t,n||y())}function L(e,t,n,r){e in t||N("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),r||y())}function I(e,t,n,r){c(e,t)||N("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,r||y())}function w(e){e()}function M(e,t,n){e.texture?h(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):h(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var j=33071,P=9728,k=9984,D=9985,U=9986,F=9987,B=5121,G=5122,V=5123,H=5124,z=5125,W=5126,Y=32819,X=32820,q=33635,K=34042,Q=36193,J={};function Z(e,t){return e===X||e===Y||e===q?2:e===K?4:J[e]*t}function $(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,i=t.width,a=t.height,s=t.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===j&&e.wrapT===j||o($(i)&&$(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&o(e.minFilter!==k&&e.minFilter!==U&&e.minFilter!==D&&e.minFilter!==F,"min filter requires mipmap"):(o($(i)&&$(a),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===W&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(e.minFilter===P&&e.magFilter===P,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var c=i>>r,l=a>>r;o(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(o(f.width===c&&f.height===l,"invalid shape for mip images"),o(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var h=Math.ceil(Z(f.type,s)*c/f.unpackAlignment)*f.unpackAlignment;o(f.data.byteLength===h*l,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||o(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var i=e.width,a=e.height,s=e.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(t.wrapS===j&&t.wrapT===j,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var c=n[u];o(c.width===i&&c.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(o(!c.compressed,"can not generate mipmap for compressed textures"),o(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=c.images,f=0;f<16;++f){var h=l[f];if(h){var d=i>>f,p=a>>f;o(c.mipmask&1<<f,"missing mipmap data"),o(h.width===d&&h.height===p,"invalid shape for mip images"),o(h.format===e.format&&h.internalformat===e.internalformat&&h.type===e.type,"incompatible type for mip image"),h.compressed||(h.data?o(h.data.byteLength===d*p*Math.max(Z(h.type,s),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}J[5120]=J[B]=1,J[G]=J[V]=J[Q]=J[q]=J[Y]=J[X]=2,J[H]=J[z]=J[W]=J[K]=4;var ne=t(o,{optional:w,raise:i,commandRaise:N,command:C,parameter:s,commandParameter:L,constructor:p,type:l,commandType:I,isTypedArray:u,nni:f,oneOf:h,shaderError:O,linkError:R,callSite:b,saveCommandRef:A,saveDrawInfo:_,framebufferFormat:M,guessCommand:y,texture2D:ee,textureCube:te}),re=0,ie=0,oe=5,ae=6;function se(e,t){this.id=re++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ce(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return ce(e.substr(0,r.index)).concat(ce(r[1])).concat(ce(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+ue(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(ce(i[a]));return o}function le(e){return"["+ce(e).join("][")+"]"}function fe(e,t){return new se(e,le(t+""))}function he(e){return"function"===typeof e&&!e._reglType||e instanceof se}function de(e,t){return"function"===typeof e?new se(ie,e):"number"===typeof e||"boolean"===typeof e?new se(oe,e):Array.isArray(e)?new se(ae,e.map((function(e,n){return de(e,t+"["+n+"]")}))):e instanceof se?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:se,define:fe,isDynamic:he,unbox:de,accessor:le},me={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},Ee="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function ve(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function ge(e,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,t(o.style,{width:n+"px",height:i+"px"})}function s(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}return t(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function ye(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function be(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function Se(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Te(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function xe(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Oe(e){var t,n,r,i,o=e||{},a={},s=[],u=[],c="undefined"===typeof window?1:window.devicePixelRatio,l=!1,f=function(e){e&&ne.raise(e)},h=function(){};if("string"===typeof o?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(o),ne(t,"invalid query string for element")):"object"===typeof o?be(o)?t=o:Se(o)?r=(i=o).canvas:(ne.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=xe(o.canvas):"container"in o&&(n=xe(o.container)),"attributes"in o&&(a=o.attributes,ne.type(a,"object","invalid context attributes")),"extensions"in o&&(s=Te(o.extensions)),"optionalExtensions"in o&&(u=Te(o.optionalExtensions)),"onDone"in o&&(ne.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(l=!!o.profile),"pixelRatio"in o&&(c=+o.pixelRatio,ne(c>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var d=ge(n||document.body,f,c);if(!d)return null;r=d.canvas,h=d.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=ye(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:c,profile:l,onDone:f,onDestroy:h}:(h(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Re(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(o){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Ae(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var _e=5120,Ne=5121,Ce=5122,Le=5123,Ie=5124,we=5125,Me=5126;function je(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Pe(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function ke(){var e=Ae(8,(function(){return[]}));function t(t){var n=je(t),r=e[Pe(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Pe(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case _e:r=new Int8Array(t(n),0,n);break;case Ne:r=new Uint8Array(t(n),0,n);break;case Ce:r=new Int16Array(t(2*n),0,n);break;case Le:r=new Uint16Array(t(2*n),0,n);break;case Ie:r=new Int32Array(t(4*n),0,n);break;case we:r=new Uint32Array(t(4*n),0,n);break;case Me:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var De=ke();De.zero=ke();var Ue=3408,Fe=3410,Be=3411,Ge=3412,Ve=3413,He=3414,ze=3415,We=33901,Ye=33902,Xe=3379,qe=3386,Ke=34921,Qe=36347,Je=36348,Ze=35661,$e=35660,et=34930,tt=36349,nt=34076,rt=34024,it=7936,ot=7937,at=7938,st=35724,ut=34047,ct=36063,lt=34852,ft=3553,ht=34067,dt=34069,pt=33984,mt=6408,Et=5126,vt=5121,gt=36160,yt=36053,bt=36064,St=16384,Tt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(lt),i=e.getParameter(ct));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(ft,a),e.texImage2D(ft,0,mt,1,1,0,mt,Et,null);var s=e.createFramebuffer();if(e.bindFramebuffer(gt,s),e.framebufferTexture2D(gt,bt,ft,a,0),e.bindTexture(ft,null),e.checkFramebufferStatus(gt)!==yt)o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(St);var u=De.allocType(Et,4);e.readPixels(0,0,1,1,mt,Et,u),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===u[0]),De.freeType(u)}}var c=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var l=e.createTexture(),f=De.allocType(vt,36);e.activeTexture(pt),e.bindTexture(ht,l),e.texImage2D(dt,0,mt,3,3,0,mt,vt,f),De.freeType(f),e.bindTexture(ht,null),e.deleteTexture(l),c=!e.getError()}return{colorBits:[e.getParameter(Fe),e.getParameter(Be),e.getParameter(Ge),e.getParameter(Ve)],depthBits:e.getParameter(He),stencilBits:e.getParameter(ze),subpixelBits:e.getParameter(Ue),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(We),lineWidthDims:e.getParameter(Ye),maxViewportDims:e.getParameter(qe),maxCombinedTextureUnits:e.getParameter(Ze),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(Xe),maxAttributes:e.getParameter(Ke),maxVertexUniforms:e.getParameter(Qe),maxVertexTextureUnits:e.getParameter($e),maxVaryingVectors:e.getParameter(Je),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(ot),vendor:e.getParameter(it),version:e.getParameter(at),readFloat:o,npotTextureCube:c}};function xt(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var Ot=function(e){return Object.keys(e).map((function(t){return e[t]}))},Rt={shape:It,flatten:Lt};function At(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function _t(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function Nt(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var u=e[s],c=0;c<n;++c)for(var l=u[c],f=0;f<r;++f)i[a++]=l[f]}function Ct(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var u=t[n+1],c=t[n+2],l=t[n+3];for(a=0;a<s;++a)Nt(e[a],u,c,l,r,i),i+=o}else for(a=0;a<s;++a)Ct(e[a],t,n+1,r,i),i+=o}function Lt(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||De.allocType(n,i);switch(t.length){case 0:break;case 1:At(e,t[0],a);break;case 2:_t(e,t[0],t[1],a);break;case 3:Nt(e,t[0],t[1],t[2],a,0);break;default:Ct(e,t,0,a,0)}return a}function It(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var wt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Mt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},jt={dynamic:35048,stream:35040,static:35044},Pt=Rt.flatten,kt=Rt.shape,Dt=35044,Ut=35040,Ft=5121,Bt=5126,Gt=[];function Vt(e){return 0|wt[Object.prototype.toString.call(e)]}function Ht(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function zt(e,t,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var c=0;c<r;++c)e[s++]=t[i*u+o*c+a]}function Wt(t,n,r,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=Dt,this.byteLength=0,this.dimension=1,this.dtype=Ft,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){d(this)};var u=[];function c(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),h(n,t,Ut,0,1,!1),n}function l(e){u.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function h(t,n,r,i,o,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||Bt,n.length>0)if(Array.isArray(n[0])){s=kt(n);for(var c=1,l=1;l<s.length;++l)c*=s[l];t.dimension=c,f(t,u=Pt(n,s,t.dtype),r),a?t.persistentData=u:De.freeType(u)}else if("number"===typeof n[0]){t.dimension=o;var h=De.allocType(t.dtype,n.length);Ht(h,n),f(t,h,r),a?t.persistentData=h:De.freeType(h)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Vt(n[0])||Bt,f(t,u=Pt(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=u:De.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Vt(n),t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(xt(n)){s=n.shape;var d=n.stride,p=n.offset,m=0,E=0,v=0,g=0;1===s.length?(m=s[0],E=1,v=d[0],g=0):2===s.length?(m=s[0],E=s[1],v=d[0],g=d[1]):ne.raise("invalid shape"),t.dtype=i||Vt(n.data)||Bt,t.dimension=E;var y=De.allocType(t.dtype,m*E);zt(y,n.data,m,E,v,g,p),f(t,y,r),a?t.persistentData=y:De.freeType(y)}else n instanceof ArrayBuffer?(t.dtype=Ft,t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function d(e){n.bufferCount--,i(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}function p(i,o,u,c){n.bufferCount++;var l=new s(o);function f(n){var i=Dt,o=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||xt(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===o||Array.isArray(o)||e(o)||xt(o),"invalid data for buffer"),o=n.data),"usage"in n&&(ne.parameter(n.usage,jt,"invalid buffer usage"),i=jt[n.usage]),"type"in n&&(ne.parameter(n.type,Mt,"invalid buffer type"),s=Mt[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),l.bind(),o?h(l,o,i,s,u,c):(a&&t.bufferData(l.type,a,i),l.dtype=s||Ft,l.usage=i,l.dimension=u,l.byteLength=a),r.profile&&(l.stats.size=l.byteLength*Gt[l.dtype]),f}function p(e,n){ne(n+e.byteLength<=l.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+l.byteLength),t.bufferSubData(l.type,n,e)}function m(t,n){var r,i=0|(n||0);if(l.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=De.allocType(l.dtype,t.length);Ht(o,t),p(o,i),De.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=kt(t);var a=Pt(t,r,l.dtype);p(a,i),De.freeType(a)}else ne.raise("invalid buffer data")}else if(xt(t)){r=t.shape;var s=t.stride,u=0,c=0,h=0,d=0;1===r.length?(u=r[0],c=1,h=s[0],d=0):2===r.length?(u=r[0],c=r[1],h=s[0],d=s[1]):ne.raise("invalid shape");var m=Array.isArray(t.data)?l.dtype:Vt(t.data),E=De.allocType(m,u*c);zt(E,t.data,u,c,h,d,t.offset),p(E,i),De.freeType(E)}else ne.raise("invalid data for buffer subdata");return f}return a[l.id]=l,u||f(i),f._reglType="buffer",f._buffer=l,f.subdata=m,r.profile&&(f.stats=l.stats),f.destroy=function(){d(l)},f}function m(){Ot(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:p,createStream:c,destroyStream:l,clear:function(){Ot(a).forEach(d),u.forEach(d)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:m,_initBuffer:h}}Gt[5120]=1,Gt[5122]=2,Gt[5124]=4,Gt[5121]=1,Gt[5123]=2,Gt[5125]=4,Gt[5126]=4;var Yt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Xt=0,qt=1,Kt=4,Qt=5120,Jt=5121,Zt=5122,$t=5123,en=5124,tn=5125,nn=34963,rn=35040,on=35044;function an(t,n,r,i){var o={},a=0,s={uint8:Jt,uint16:$t};function u(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=Kt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var c=[];function l(e){var t=c.pop();return t||(t=new u(r.create(null,nn,!0,!1)._buffer)),h(t,e,rn,-1,-1,0,0),t}function f(e){c.push(e)}function h(i,o,a,s,u,c,l){var f;if(i.buffer.bind(),o){var h=l;l||e(o)&&(!xt(o)||e(o.data))||(h=n.oes_element_index_uint?tn:$t),r._initBuffer(i.buffer,o,a,h,3)}else t.bufferData(nn,c,a),i.buffer.dtype=f||Jt,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;if(f=l,!l){switch(i.buffer.dtype){case Jt:case Qt:f=Jt;break;case $t:case Zt:f=$t;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=u;d<0&&(d=i.buffer.byteLength,f===$t?d>>=1:f===tn&&(d>>=2)),i.vertCount=d;var p=s;if(s<0){p=Kt;var m=i.buffer.dimension;1===m&&(p=Xt),2===m&&(p=qt),3===m&&(p=Kt)}i.primType=p}function d(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var o=r.create(null,nn,!0),a=new u(o._buffer);function c(t){if(t)if("number"===typeof t)o(t),a.primType=Kt,a.vertCount=0|t,a.type=Jt;else{var n=null,r=on,i=-1,u=-1,l=0,f=0;Array.isArray(t)||e(t)||xt(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||xt(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,jt,"invalid element buffer usage"),r=jt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Yt,"invalid element buffer primitive"),i=Yt[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,s,"invalid buffer type"),f=s[t.type]),"length"in t?l=0|t.length:(l=u,f===$t||f===Zt?l*=2:f!==tn&&f!==en||(l*=4))),h(a,n,r,i,u,l,f)}else o(),a.primType=Kt,a.vertCount=0,a.type=Jt;return c}return i.elementsCount++,c(t),c._reglType="elements",c._elements=a,c.subdata=function(e,t){return o.subdata(e,t),c},c.destroy=function(){d(a)},c}return{create:p,createStream:l,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){Ot(o).forEach(d)}}}var sn=new Float32Array(1),un=new Uint32Array(sn.buffer),cn=5123;function ln(e){for(var t=De.allocType(cn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{sn[0]=e[n];var r=un[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function fn(t){return Array.isArray(t)||e(t)}var hn=function(e){return!(e&e-1)&&!!e},dn=34467,pn=3553,mn=34067,En=34069,vn=6408,gn=6406,yn=6407,bn=6409,Sn=6410,Tn=32854,xn=32855,On=36194,Rn=32819,An=32820,_n=33635,Nn=34042,Cn=6402,Ln=34041,In=35904,wn=35906,Mn=36193,jn=33776,Pn=33777,kn=33778,Dn=33779,Un=35986,Fn=35987,Bn=34798,Gn=35840,Vn=35841,Hn=35842,zn=35843,Wn=36196,Yn=5121,Xn=5123,qn=5125,Kn=5126,Qn=10242,Jn=10243,Zn=10497,$n=33071,er=33648,tr=10240,nr=10241,rr=9728,ir=9729,or=9984,ar=9985,sr=9986,ur=9987,cr=33170,lr=4352,fr=4353,hr=4354,dr=34046,pr=3317,mr=37440,Er=37441,vr=37443,gr=37444,yr=33984,br=[or,sr,ar,ur],Sr=[0,bn,Sn,yn,vn],Tr={};function xr(e){return"[object "+e+"]"}Tr[bn]=Tr[gn]=Tr[Cn]=1,Tr[Ln]=Tr[Sn]=2,Tr[yn]=Tr[In]=3,Tr[vn]=Tr[wn]=4;var Or=xr("HTMLCanvasElement"),Rr=xr("OffscreenCanvas"),Ar=xr("CanvasRenderingContext2D"),_r=xr("ImageBitmap"),Nr=xr("HTMLImageElement"),Cr=xr("HTMLVideoElement"),Lr=Object.keys(wt).concat([Or,Rr,Ar,_r,Nr,Cr]),Ir=[];Ir[Yn]=1,Ir[Kn]=4,Ir[Mn]=2,Ir[Xn]=2,Ir[qn]=4;var wr=[];function Mr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function jr(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Pr(e){return Object.prototype.toString.call(e)}function kr(e){return Pr(e)===Or}function Dr(e){return Pr(e)===Rr}function Ur(e){return Pr(e)===Ar}function Fr(e){return Pr(e)===_r}function Br(e){return Pr(e)===Nr}function Gr(e){return Pr(e)===Cr}function Vr(e){if(!e)return!1;var t=Pr(e);return Lr.indexOf(t)>=0||Mr(e)||jr(e)||xt(e)}function Hr(e){return 0|wt[Object.prototype.toString.call(e)]}function zr(e,t){var n=t.length;switch(e.type){case Yn:case Xn:case qn:case Kn:var r=De.allocType(e.type,n);r.set(t),e.data=r;break;case Mn:e.data=ln(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Wr(e,t){return De.allocType(e.type===Mn?Kn:e.type,t)}function Yr(e,t){e.type===Mn?(e.data=ln(t),De.freeType(t)):e.data=t}function Xr(e,t,n,r,i,o){for(var a=e.width,s=e.height,u=e.channels,c=Wr(e,a*s*u),l=0,f=0;f<s;++f)for(var h=0;h<a;++h)for(var d=0;d<u;++d)c[l++]=t[n*h+r*f+i*d+o];Yr(e,c)}function qr(e,t,n,r,i,o){var a;if(a="undefined"!==typeof wr[e]?wr[e]:Tr[e]*Ir[t],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function Kr(n,r,i,o,a,s,u){var c={"don't care":lr,"dont care":lr,nice:hr,fast:fr},l={repeat:Zn,clamp:$n,mirror:er},f={nearest:rr,linear:ir},h=t({mipmap:ur,"nearest mipmap nearest":or,"linear mipmap nearest":ar,"nearest mipmap linear":sr,"linear mipmap linear":ur},f),d={none:0,browser:gr},p={uint8:Yn,rgba4:Rn,rgb565:_n,"rgb5 a1":An},m={alpha:gn,luminance:bn,"luminance alpha":Sn,rgb:yn,rgba:vn,rgba4:Tn,"rgb5 a1":xn,rgb565:On},E={};r.ext_srgb&&(m.srgb=In,m.srgba=wn),r.oes_texture_float&&(p.float32=p.float=Kn),r.oes_texture_half_float&&(p.float16=p["half float"]=Mn),r.webgl_depth_texture&&(t(m,{depth:Cn,"depth stencil":Ln}),t(p,{uint16:Xn,uint32:qn,"depth stencil":Nn})),r.webgl_compressed_texture_s3tc&&t(E,{"rgb s3tc dxt1":jn,"rgba s3tc dxt1":Pn,"rgba s3tc dxt3":kn,"rgba s3tc dxt5":Dn}),r.webgl_compressed_texture_atc&&t(E,{"rgb atc":Un,"rgba atc explicit alpha":Fn,"rgba atc interpolated alpha":Bn}),r.webgl_compressed_texture_pvrtc&&t(E,{"rgb pvrtc 4bppv1":Gn,"rgb pvrtc 2bppv1":Vn,"rgba pvrtc 4bppv1":Hn,"rgba pvrtc 2bppv1":zn}),r.webgl_compressed_texture_etc1&&(E["rgb etc1"]=Wn);var v=Array.prototype.slice.call(n.getParameter(dn));Object.keys(E).forEach((function(e){var t=E[e];v.indexOf(t)>=0&&(m[e]=t)}));var g=Object.keys(m);i.textureFormats=g;var y=[];Object.keys(m).forEach((function(e){var t=m[e];y[t]=e}));var b=[];Object.keys(p).forEach((function(e){var t=p[e];b[t]=e}));var S=[];Object.keys(f).forEach((function(e){var t=f[e];S[t]=e}));var T=[];Object.keys(h).forEach((function(e){var t=h[e];T[t]=e}));var x=[];Object.keys(l).forEach((function(e){var t=l[e];x[t]=e}));var O=g.reduce((function(e,t){var n=m[t];return n===bn||n===gn||n===bn||n===Sn||n===Cn||n===Ln||r.ext_srgb&&(n===In||n===wn)?e[n]=n:n===xn||t.indexOf("rgba")>=0?e[n]=vn:e[n]=yn,e}),{});function R(){this.internalformat=vn,this.format=vn,this.type=Yn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=gr,this.width=0,this.height=0,this.channels=0}function A(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function _(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,d,"invalid colorSpace"),e.colorSpace=d[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var o=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ne(s>0&&s<=4,"invalid number of channels"),u=!0),ne(o>=0&&o<=i.maxTextureSize,"invalid width"),ne(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,ne(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,ne(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ne(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ne(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var c=!1;if("format"in t){var l=t.format;ne(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(l,m,"invalid texture format");var f=e.internalformat=m[l];e.format=O[f],l in p&&("type"in t||(e.type=p[l])),l in E&&(e.compressed=!0),c=!0}!u&&c?e.channels=Tr[e.format]:u&&!c?e.channels!==Sr[e.format]&&(e.format=e.internalformat=Sr[e.channels]):c&&u&&ne(e.channels===Tr[e.format],"number of channels inconsistent with specified format")}}function N(e){n.pixelStorei(mr,e.flipY),n.pixelStorei(Er,e.premultiplyAlpha),n.pixelStorei(vr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function C(){R.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function L(t,n){var r=null;if(Vr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),_(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Vr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=o&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Yn||(t.type=Hr(r));else if(Mr(r))t.channels=t.channels||4,zr(t,r),t.alignment=1,t.needsFree=!0;else if(xt(r)){var u=r.data;Array.isArray(u)||t.type!==Yn||(t.type=Hr(u));var c,l,f,h,d,p,m=r.shape,E=r.stride;3===m.length?(f=m[2],p=E[2]):(ne(2===m.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),c=m[0],l=m[1],h=E[0],d=E[1],t.alignment=1,t.width=c,t.height=l,t.channels=f,t.format=t.internalformat=Sr[f],t.needsFree=!0,Xr(t,u,h,d,p,r.offset)}else if(kr(r)||Dr(r)||Ur(r))kr(r)||Dr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Fr(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(Br(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Gr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(jr(r)){var v=t.width||r[0].length,g=t.height||r.length,y=t.channels;y=fn(r[0][0])?y||r[0][0].length:y||1;for(var b=Rt.shape(r),S=1,T=0;T<b.length;++T)S*=b[T];var x=Wr(t,S);Rt.flatten(r,b,"",x),Yr(t,x),t.alignment=1,t.width=v,t.height=g,t.channels=y,t.format=t.internalformat=Sr[y],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Kn?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===Mn&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function I(e,t,r){var i=e.element,a=e.data,s=e.internalformat,u=e.format,c=e.type,l=e.width,f=e.height;N(e),i?n.texImage2D(t,r,u,u,c,i):e.compressed?n.compressedTexImage2D(t,r,s,l,f,0,a):e.needsCopy?(o(),n.copyTexImage2D(t,r,u,e.xOffset,e.yOffset,l,f,0)):n.texImage2D(t,r,u,l,f,0,u,c,a||null)}function w(e,t,r,i,a){var s=e.element,u=e.data,c=e.internalformat,l=e.format,f=e.type,h=e.width,d=e.height;N(e),s?n.texSubImage2D(t,a,r,i,l,f,s):e.compressed?n.compressedTexSubImage2D(t,a,r,i,c,h,d,u):e.needsCopy?(o(),n.copyTexSubImage2D(t,a,r,i,e.xOffset,e.yOffset,h,d)):n.texSubImage2D(t,a,r,i,h,d,l,f,u)}var M=[];function j(){return M.pop()||new C}function P(e){e.needsFree&&De.freeType(e.data),C.call(e),M.push(e)}function k(){R.call(this),this.genMipmaps=!1,this.mipmapHint=lr,this.mipmask=0,this.images=Array(16)}function D(e,t,n){var r=e.images[0]=j();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function U(e,t){var n=null;if(Vr(t))A(n=e.images[0]=j(),e),L(n,t),e.mipmask=1;else if(_(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)A(n=e.images[i]=j(),e),n.width>>=i,n.height>>=i,L(n,r[i]),e.mipmask|=1<<i;else A(n=e.images[0]=j(),e),L(n,t),e.mipmask=1;A(e,e.images[0]),!e.compressed||e.internalformat!==jn&&e.internalformat!==Pn&&e.internalformat!==kn&&e.internalformat!==Dn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function F(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;I(n[r],t,r)}}var B=[];function G(){var e=B.pop()||new k;R.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function V(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&P(t[n]),t[n]=null;B.push(e)}function H(){this.minFilter=rr,this.magFilter=rr,this.wrapS=$n,this.wrapT=$n,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=lr}function z(e,t){if("min"in t){var n=t.min;ne.parameter(n,h),e.minFilter=h[n],br.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ne.parameter(s,l),o=a=l[s]):Array.isArray(s)&&(ne.parameter(s[0],l),ne.parameter(s[1],l),o=l[s[0]],a=l[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,l),o=l[u]}if("wrapT"in t){var d=t.wrapT;ne.parameter(d,l),a=l[d]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var m=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,c,"invalid mipmap hint"),e.mipmapHint=c[t.mipmap],e.genMipmaps=!0,m=!0;break;case"boolean":m=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,m=!0;break;default:ne.raise("invalid mipmap type")}m&&!("min"in t)&&(e.minFilter=or)}}function W(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,Qn,e.wrapS),n.texParameteri(t,Jn,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,dr,e.anisotropic),e.genMipmaps&&(n.hint(cr,e.mipmapHint),n.generateMipmap(t))}var Y=0,X={},q=i.maxTextureUnits,K=Array(q).map((function(){return null}));function Q(e){R.call(this),this.mipmask=0,this.internalformat=vn,this.id=Y++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new H,u.profile&&(this.stats={size:0})}function J(e){n.activeTexture(yr),n.bindTexture(e.target,e.texture)}function Z(){var e=K[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function $(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(yr+r),n.bindTexture(i,null),K[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete X[e.id],s.textureCount--}function ee(e,t){var r=new Q(pn);function o(e,t){var n=r.texInfo;H.call(n);var a=G();return"number"===typeof e?D(a,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),z(n,e),U(a,e)):D(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,A(r,a),ne.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,J(r),F(a,pn),W(n,pn),Z(),V(a),u.profile&&(r.stats.size=qr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=y[r.internalformat],o.type=b[r.type],o.mag=S[n.magFilter],o.min=T[n.minFilter],o.wrapS=x[n.wrapS],o.wrapT=x[n.wrapT],o}function a(e,t,n,i){ne(!!e,"must specify image data");var a=0|t,s=0|n,u=0|i,c=j();return A(c,r),c.width=0,c.height=0,L(c,e),c.width=c.width||(r.width>>u)-a,c.height=c.height||(r.height>>u)-s,ne(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<u,"missing mipmap data"),ne(c.data||c.element||c.needsCopy,"missing image data"),J(r),w(c,pn,a,s,u),Z(),P(c),o}function c(e,t){var i=0|e,a=0|t||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,J(r);for(var s=0;r.mipmask>>s;++s){var c=i>>s,l=a>>s;if(!c||!l)break;n.texImage2D(pn,s,r.format,c,l,0,r.format,r.type,null)}return Z(),u.profile&&(r.stats.size=qr(r.internalformat,r.type,i,a,!1,!1)),o}return X[r.id]=r,s.textureCount++,o(e,t),o.subimage=a,o.resize=c,o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function te(e,t,r,o,a,c){var l=new Q(mn);X[l.id]=l,s.cubeCount++;var f=new Array(6);function h(e,t,n,r,o,a){var s,c=l.texInfo;for(H.call(c),s=0;s<6;++s)f[s]=G();if("number"!==typeof e&&e)if("object"===typeof e)if(t)U(f[0],e),U(f[1],t),U(f[2],n),U(f[3],r),U(f[4],o),U(f[5],a);else if(z(c,e),_(l,e),"faces"in e){var d=e.faces;for(ne(Array.isArray(d)&&6===d.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ne("object"===typeof d[s]&&!!d[s],"invalid input for cube map face"),A(f[s],l),U(f[s],d[s])}else for(s=0;s<6;++s)U(f[s],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)D(f[s],p,p)}for(A(l,f[0]),i.npotTextureCube||ne(hn(l.width)&&hn(l.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,ne.textureCube(l,c,f,i),l.internalformat=f[0].internalformat,h.width=f[0].width,h.height=f[0].height,J(l),s=0;s<6;++s)F(f[s],En+s);for(W(c,mn),Z(),u.profile&&(l.stats.size=qr(l.internalformat,l.type,h.width,h.height,c.genMipmaps,!0)),h.format=y[l.internalformat],h.type=b[l.type],h.mag=S[c.magFilter],h.min=T[c.minFilter],h.wrapS=x[c.wrapS],h.wrapT=x[c.wrapT],s=0;s<6;++s)V(f[s]);return h}function d(e,t,n,r,i){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=j();return A(u,l),u.width=0,u.height=0,L(u,t),u.width=u.width||(l.width>>s)-o,u.height=u.height||(l.height>>s)-a,ne(l.type===u.type&&l.format===u.format&&l.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&a>=0&&o+u.width<=l.width&&a+u.height<=l.height,"texture.subimage write out of bounds"),ne(l.mipmask&1<<s,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),J(l),w(u,En+e,o,a,s),Z(),P(u),h}function p(e){var t=0|e;if(t!==l.width){h.width=l.width=t,h.height=l.height=t,J(l);for(var r=0;r<6;++r)for(var i=0;l.mipmask>>i;++i)n.texImage2D(En+r,i,l.format,t>>i,t>>i,0,l.format,l.type,null);return Z(),u.profile&&(l.stats.size=qr(l.internalformat,l.type,h.width,h.height,!1,!0)),h}}return h(e,t,r,o,a,c),h.subimage=d,h.resize=p,h._reglType="textureCube",h._texture=l,u.profile&&(h.stats=l.stats),h.destroy=function(){l.decRef()},h}function re(){for(var e=0;e<q;++e)n.activeTexture(yr+e),n.bindTexture(pn,null),K[e]=null;Ot(X).forEach($),s.cubeCount=0,s.textureCount=0}function ie(){for(var e=0;e<q;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null)}Ot(X).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(En+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);W(e.texInfo,e.target)}))}function oe(){for(var e=0;e<q;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null),n.activeTexture(yr+e),n.bindTexture(pn,null),n.bindTexture(mn,null)}}return t(Q.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<q;++r){var i=K[r];if(i){if(i.bindCount>0)continue;i.unit=-1}K[r]=e,t=r;break}t>=q&&ne.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(yr+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(X).forEach((function(t){e+=X[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ie,refresh:oe}}wr[Tn]=2,wr[xn]=2,wr[On]=2,wr[Ln]=4,wr[jn]=.5,wr[Pn]=.5,wr[kn]=1,wr[Dn]=1,wr[Un]=.5,wr[Fn]=1,wr[Bn]=1,wr[Gn]=.5,wr[Vn]=.25,wr[Hn]=.5,wr[zn]=.25,wr[Wn]=.5;var Qr=36161,Jr=32854,Zr=32855,$r=36194,ei=33189,ti=36168,ni=34041,ri=35907,ii=34836,oi=34842,ai=34843,si=[];function ui(e,t,n){return si[e]*t*n}si[Jr]=2,si[Zr]=2,si[$r]=2,si[ei]=2,si[ti]=1,si[ni]=4,si[ri]=4,si[ii]=16,si[oi]=8,si[ai]=6;var ci=function(e,t,n,r,i){var o={rgba4:Jr,rgb565:$r,"rgb5 a1":Zr,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(o.srgba=ri),t.ext_color_buffer_half_float&&(o.rgba16f=oi,o.rgb16f=ai),t.webgl_color_buffer_float&&(o.rgba32f=ii);var a=[];Object.keys(o).forEach((function(e){var t=o[e];a[t]=e}));var s=0,u={};function c(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=Jr,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function l(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Qr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function f(t,s){var l=new c(e.createRenderbuffer());function f(t,r){var s=0,u=0,c=Jr;if("object"===typeof t&&t){var h=t;if("shape"in h){var d=h.shape;ne(Array.isArray(d)&&d.length>=2,"invalid renderbuffer shape"),s=0|d[0],u=0|d[1]}else"radius"in h&&(s=u=0|h.radius),"width"in h&&(s=0|h.width),"height"in h&&(u=0|h.height);"format"in h&&(ne.parameter(h.format,o,"invalid renderbuffer format"),c=o[h.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ne.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ne(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||u!==l.height||c!==l.format)return f.width=l.width=s,f.height=l.height=u,l.format=c,e.bindRenderbuffer(Qr,l.renderbuffer),e.renderbufferStorage(Qr,c,s,u),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=ui(l.format,l.width,l.height)),f.format=a[l.format],f}function h(t,r){var o=0|t,a=0|r||o;return o===l.width&&a===l.height||(ne(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=l.width=o,f.height=l.height=a,e.bindRenderbuffer(Qr,l.renderbuffer),e.renderbufferStorage(Qr,l.format,o,a),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=ui(l.format,l.width,l.height))),f}return u[l.id]=l,r.renderbufferCount++,f(t,s),f.resize=h,f._reglType="renderbuffer",f._renderbuffer=l,i.profile&&(f.stats=l.stats),f.destroy=function(){l.decRef()},f}function h(){Ot(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Qr,t.renderbuffer),e.renderbufferStorage(Qr,t.format,t.width,t.height)})),e.bindRenderbuffer(Qr,null)}return c.prototype.decRef=function(){--this.refCount<=0&&l(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:f,clear:function(){Ot(u).forEach(l)},restore:h}},li=36160,fi=36161,hi=3553,di=34069,pi=36064,mi=36096,Ei=36128,vi=33306,gi=36053,yi=36054,bi=36055,Si=36057,Ti=36061,xi=36193,Oi=5121,Ri=5126,Ai=6407,_i=6408,Ni=6402,Ci=[Ai,_i],Li=[];Li[_i]=4,Li[Ai]=3;var Ii=[];Ii[Oi]=1,Ii[Ri]=4,Ii[xi]=2;var wi=33189,Mi=36168,ji=34041,Pi=[32854,32855,36194,35907,34842,34843,34836],ki={};function Di(e,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],c=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&c.push("srgba"),n.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&c.push("rgba32f");var l=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function h(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function d(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);ne(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ne(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(li,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(li,t,fi,n.renderbuffer._renderbuffer.renderbuffer))}function m(e){var t=hi,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,ne(t===hi)):"textureCube"===o?(n=i,ne(t>=di&&t<di+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=fi):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function E(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(hi,s,null)}var u=o.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(fi,null,u)}function v(e){return e&&(e.texture||e.renderbuffer)}function g(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var y=0,b={};function S(){this.id=y++,b[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function T(e){e.colorAttachments.forEach(h),h(e.depthAttachment),h(e.stencilAttachment),h(e.depthStencilAttachment)}function x(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete b[t.id]}function O(t){var n;e.bindFramebuffer(li,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(li,pi+n,hi,null,0);e.framebufferTexture2D(li,vi,hi,null,0),e.framebufferTexture2D(li,mi,hi,null,0),e.framebufferTexture2D(li,Ei,hi,null,0),p(mi,t.depthAttachment),p(Ei,t.stencilAttachment),p(vi,t.depthStencilAttachment);var o=e.checkFramebufferStatus(li);e.isContextLost()||o===gi||ne.raise("framebuffer configuration not supported, status = "+ki[o]),e.bindFramebuffer(li,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function R(e,i){var o=new S;function f(e,t){var i;ne(s.next!==o,"can not update framebuffer which is currently in use");var a=0,h=0,p=!0,g=!0,y=null,b=!0,S="rgba",x="uint8",R=1,A=null,_=null,N=null,C=!1;if("number"===typeof e)a=0|e,h=0|t||a;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var L=e;if("shape"in L){var I=L.shape;ne(Array.isArray(I)&&I.length>=2,"invalid shape for framebuffer"),a=I[0],h=I[1]}else"radius"in L&&(a=h=L.radius),"width"in L&&(a=L.width),"height"in L&&(h=L.height);("color"in L||"colors"in L)&&(y=L.color||L.colors,Array.isArray(y)&&ne(1===y.length||n.webgl_draw_buffers,"multiple render targets not supported")),y||("colorCount"in L&&(R=0|L.colorCount,ne(R>0,"invalid color buffer count")),"colorTexture"in L&&(b=!!L.colorTexture,S="rgba4"),"colorType"in L&&(x=L.colorType,b?(ne(n.oes_texture_float||!("float"===x||"float32"===x),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===x||"float16"===x),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===x||"float16"===x?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),S="rgba16f"):"float"!==x&&"float32"!==x||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),S="rgba32f"),ne.oneOf(x,l,"invalid color type")),"colorFormat"in L&&(S=L.colorFormat,u.indexOf(S)>=0?b=!0:c.indexOf(S)>=0?b=!1:b?ne.oneOf(L.colorFormat,u,"invalid color format for texture"):ne.oneOf(L.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in L||"depthStencilTexture"in L)&&(C=!(!L.depthTexture&&!L.depthStencilTexture),ne(!C||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in L&&("boolean"===typeof L.depth?p=L.depth:(A=L.depth,g=!1)),"stencil"in L&&("boolean"===typeof L.stencil?g=L.stencil:(_=L.stencil,p=!1)),"depthStencil"in L&&("boolean"===typeof L.depthStencil?p=g=L.depthStencil:(N=L.depthStencil,p=!1,g=!1))}else a=h=1;var w=null,M=null,j=null,P=null;if(Array.isArray(y))w=y.map(m);else if(y)w=[m(y)];else for(w=new Array(R),i=0;i<R;++i)w[i]=E(a,h,b,S,x);ne(n.webgl_draw_buffers||w.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(w.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||w[0].width,h=h||w[0].height,A?M=m(A):p&&!g&&(M=E(a,h,C,"depth","uint32")),_?j=m(_):g&&!p&&(j=E(a,h,!1,"stencil","uint8")),N?P=m(N):!A&&!_&&g&&p&&(P=E(a,h,C,"depth stencil","depth stencil")),ne(!!A+!!_+!!N<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var k=null;for(i=0;i<w.length;++i)if(d(w[i],a,h),ne(!w[i]||w[i].texture&&Ci.indexOf(w[i].texture._texture.format)>=0||w[i].renderbuffer&&Pi.indexOf(w[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),w[i]&&w[i].texture){var D=Li[w[i].texture._texture.format]*Ii[w[i].texture._texture.type];null===k?k=D:ne(k===D,"all color attachments much have the same number of bits per pixel.")}return d(M,a,h),ne(!M||M.texture&&M.texture._texture.format===Ni||M.renderbuffer&&M.renderbuffer._renderbuffer.format===wi,"invalid depth attachment for framebuffer object"),d(j,a,h),ne(!j||j.renderbuffer&&j.renderbuffer._renderbuffer.format===Mi,"invalid stencil attachment for framebuffer object"),d(P,a,h),ne(!P||P.texture&&P.texture._texture.format===ji||P.renderbuffer&&P.renderbuffer._renderbuffer.format===ji,"invalid depth-stencil attachment for framebuffer object"),T(o),o.width=a,o.height=h,o.colorAttachments=w,o.depthAttachment=M,o.stencilAttachment=j,o.depthStencilAttachment=P,f.color=w.map(v),f.depth=v(M),f.stencil=v(j),f.depthStencil=v(P),f.width=o.width,f.height=o.height,O(o),f}function h(e,t){ne(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)g(i[a],n,r);return g(o.depthAttachment,n,r),g(o.stencilAttachment,n,r),g(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,O(o),f}return a.framebufferCount++,f(e,i),t(f,{resize:h,_reglType:"framebuffer",_framebuffer:o,destroy:function(){x(o),T(o)},use:function(e){s.setFBO({framebuffer:f},e)}})}function A(e){var o=Array(6);function a(e){var r;ne(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var c,f={color:null},h=0,d=null,p="rgba",m="uint8",E=1;if("number"===typeof e)h=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var v=e;if("shape"in v){var g=v.shape;ne(Array.isArray(g)&&g.length>=2,"invalid shape for framebuffer"),ne(g[0]===g[1],"cube framebuffer must be square"),h=g[0]}else"radius"in v&&(h=0|v.radius),"width"in v?(h=0|v.width,"height"in v&&ne(v.height===h,"must be square")):"height"in v&&(h=0|v.height);("color"in v||"colors"in v)&&(d=v.color||v.colors,Array.isArray(d)&&ne(1===d.length||n.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in v&&(E=0|v.colorCount,ne(E>0,"invalid color buffer count")),"colorType"in v&&(ne.oneOf(v.colorType,l,"invalid color type"),m=v.colorType),"colorFormat"in v&&(p=v.colorFormat,ne.oneOf(v.colorFormat,u,"invalid color format for texture"))),"depth"in v&&(f.depth=v.depth),"stencil"in v&&(f.stencil=v.stencil),"depthStencil"in v&&(f.depthStencil=v.depthStencil)}else h=1;if(d)if(Array.isArray(d))for(c=[],r=0;r<d.length;++r)c[r]=d[r];else c=[d];else{c=Array(E);var y={radius:h,format:p,type:m};for(r=0;r<E;++r)c[r]=i.createCube(y)}for(f.color=Array(c.length),r=0;r<c.length;++r){var b=c[r];ne("function"===typeof b&&"textureCube"===b._reglType,"invalid cube map"),h=h||b.width,ne(b.width===h&&b.height===h,"invalid cube map shape"),f.color[r]={target:di,data:c[r]}}for(r=0;r<6;++r){for(var S=0;S<c.length;++S)f.color[S].target=di+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=R(f)}return t(a,{width:h,height:h,color:c})}function c(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a}return a(e),t(a,{faces:o,resize:c,_reglType:"framebufferCube",destroy:function(){o.forEach((function(e){e.destroy()}))}})}function _(){s.cur=null,s.next=null,s.dirty=!0,Ot(b).forEach((function(t){t.framebuffer=e.createFramebuffer(),O(t)}))}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof S)return t}return null},create:R,createCube:A,clear:function(){Ot(b).forEach(x)},restore:_})}ki[gi]="complete",ki[yi]="incomplete attachment",ki[Si]="incomplete dimensions",ki[bi]="incomplete, missing attachment",ki[Ti]="unsupported";var Ui=5126,Fi=34962;function Bi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ui,this.offset=0,this.stride=0,this.divisor=0}function Gi(t,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new Bi;var c=0,l={},f={Record:Bi,scope:{},state:s,currentVAO:null,targetVAO:null,restore:d()?b:function(){},createVAO:S,getVAO:m,destroyBuffer:h,setVAO:d()?E:v,clear:d()?g:function(){}};function h(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function d(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function m(e){return"function"===typeof e&&e._vao?e._vao:null}function E(e){if(e!==f.currentVAO){var t=d();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}function v(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else for(var n=p(),r=0;r<s.length;++r){var i=s[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}f.currentVAO=e}}function g(){Ot(l).forEach((function(e){e.destroy()}))}function y(){this.id=++c,this.attributes=[];var e=d();this.vao=e?e.createVertexArrayOES():null,l[this.id]=this,this.buffers=[]}function b(){d()&&Ot(l).forEach((function(e){e.refresh()}))}function S(t){var r=new y;function s(t){ne(Array.isArray(t),"arguments to vertex array constructor must be an array"),ne(t.length<a,"too many attributes"),ne(t.length>0,"must specify at least one attribute");var i={},u=r.attributes;u.length=t.length;for(var c=0;c<t.length;++c){var l,f=t[c],h=u[c]=new Bi,d=f.data||f;Array.isArray(d)||e(d)||xt(d)?(r.buffers[c]&&(l=r.buffers[c],e(d)&&l._buffer.byteLength>=d.byteLength?l.subdata(d):(l.destroy(),r.buffers[c]=null)),r.buffers[c]||(l=r.buffers[c]=o.create(f,Fi,!1,!0)),h.buffer=o.getBuffer(l),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,i[c]=1):o.getBuffer(f)?(h.buffer=o.getBuffer(f),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):o.getBuffer(f.buffer)?(h.buffer=o.getBuffer(f.buffer),h.size=0|(+f.size||h.buffer.dimension),h.normalized=!!f.normalized||!1,"type"in f?(ne.parameter(f.type,Mt,"invalid buffer type"),h.type=Mt[f.type]):h.type=h.buffer.dtype,h.offset=0|(f.offset||0),h.stride=0|(f.stride||0),h.divisor=0|(f.divisor||0),h.state=1,ne(h.size>=1&&h.size<=4,"size must be between 1 and 4"),ne(h.offset>=0,"invalid offset"),ne(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),ne(h.divisor>=0,"divisor must be positive"),ne(!h.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in f?(ne(c>0,"first attribute must not be a constant"),h.x=+f.x||0,h.y=+f.y||0,h.z=+f.z||0,h.w=+f.w||0,h.state=2):ne(!1,"invalid attribute spec for location "+c)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(t)}return y.prototype.bindAttrs=function(){for(var e=p(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Fi,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)t.disableVertexAttribArray(o)},y.prototype.refresh=function(){var e=d();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=this)},y.prototype.destroy=function(){if(this.vao){var e=d();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}l[this.id]&&(delete l[this.id],i.vaoCount-=1)},f}var Vi=35632,Hi=35633,zi=35718,Wi=35721;function Yi(e,n,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function c(t,r,i){var s=t===Vi?o:a,u=s[r];if(!u){var c=n.str(r);u=e.createShader(t),e.shaderSource(u,c),e.compileShader(u),ne.shaderError(e,u,c,t,i),s[r]=u}return u}var l={},f=[],h=0;function d(e,t){this.id=h++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,o){var a,l,f=c(Vi,t.fragId),h=c(Hi,t.vertId),d=t.program=e.createProgram();if(e.attachShader(d,f),e.attachShader(d,h),o)for(a=0;a<o.length;++a){var p=o[a];e.bindAttribLocation(d,p[0],p[1])}e.linkProgram(d),ne.linkError(e,d,n.str(t.fragId),n.str(t.vertId),r);var m=e.getProgramParameter(d,zi);i.profile&&(t.stats.uniformsCount=m);var E=t.uniforms;for(a=0;a<m;++a)if(l=e.getActiveUniform(d,a))if(l.size>1)for(var v=0;v<l.size;++v){var g=l.name.replace("[0]","["+v+"]");u(E,new s(g,n.id(g),e.getUniformLocation(d,g),l))}else u(E,new s(l.name,n.id(l.name),e.getUniformLocation(d,l.name),l));var y=e.getProgramParameter(d,Wi);i.profile&&(t.stats.attributesCount=y);var b=t.attributes;for(a=0;a<y;++a)(l=e.getActiveAttrib(d,a))&&u(b,new s(l.name,n.id(l.name),e.getAttribLocation(d,l.name),l))}function m(){o={},a={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);Ot(o).forEach(t),o={},Ot(a).forEach(t),a={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,l={},r.shaderCount=0},program:function(n,i,s,u){ne.command(n>=0,"missing vertex shader",s),ne.command(i>=0,"missing fragment shader",s);var c=l[i];c||(c=l[i]={});var h=c[n];if(h&&(h.refCount++,!u))return h;var m=new d(i,n);return r.shaderCount++,p(m,s,u),h||(c[n]=m),f.push(m),t(m,{destroy:function(){if(m.refCount--,m.refCount<=0){e.deleteProgram(m.program);var t=f.indexOf(m);f.splice(t,1),r.shaderCount--}c[m.vertId].refCount<=0&&(e.deleteShader(a[m.vertId]),delete a[m.vertId],delete l[m.fragId][m.vertId]),Object.keys(l[m.fragId]).length||(e.deleteShader(o[m.fragId]),delete o[m.fragId],delete l[m.fragId])}})},restore:m,shader:c,frag:-1,vert:-1}}var Xi=6408,qi=5121,Ki=3333,Qi=5126;function Ji(t,n,r,i,o,a,s){function u(u){var c;null===n.next?(ne(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=qi):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(ne(c===qi||c===Qi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===Qi&&ne(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(c===qi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var l=0,f=0,h=i.framebufferWidth,d=i.framebufferHeight,p=null;e(u)?p=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),l=0|u.x,f=0|u.y,ne(l>=0&&l<i.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),h=0|(u.width||i.framebufferWidth-l),d=0|(u.height||i.framebufferHeight-f),p=u.data||null),p&&(c===qi?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===Qi&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(h>0&&h+l<=i.framebufferWidth,"invalid width for read pixels"),ne(d>0&&d+f<=i.framebufferHeight,"invalid height for read pixels"),r();var m=h*d*4;return p||(c===qi?p=new Uint8Array(m):c===Qi&&(p=p||new Float32Array(m))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=m,"data buffer for regl.read() too small"),t.pixelStorei(Ki,4),t.readPixels(l,f,h,d,Xi,c,p),p}function c(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function l(e){return e&&"framebuffer"in e?c(e):u(e)}return l}function Zi(e){return Array.prototype.slice.call(e)}function $i(e){return Zi(e).join("")}function eo(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o}function o(){var n=[];function r(){n.push.apply(n,Zi(arguments))}var i=[];function o(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,Zi(arguments)),n.push(";")),t}return t(r,{def:o,toString:function(){return $i([i.length>0?"var "+i.join(",")+";":"",$i(n)])}})}function a(){var e=o(),n=o(),r=e.toString,i=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,Zi(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function s(){var e=$i(arguments),n=a(),r=a(),i=n.toString,o=r.toString;return t(n,{then:function(){return n.apply(n,Zi(arguments)),this},else:function(){return r.apply(r,Zi(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),$i(["if(",e,"){",i(),"}",t])}})}var u=o(),c={};function l(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var o=0;o<n;++o)i();var s=a(),u=s.toString;return c[e]=t(s,{arg:i,toString:function(){return $i(["function(",r.join(),"){",u(),"}"])}})}function f(){var e=['"use strict";',u,"return {"];Object.keys(c).forEach((function(t){e.push('"',t,'":',c[t].toString(),",")})),e.push("}");var t=$i(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:u,link:i,block:o,proc:l,scope:a,cond:s,compile:f}}var to="xyzw".split(""),no=5121,ro=1,io=2,oo=0,ao=1,so=2,uo=3,co=4,lo=5,fo=6,ho="dither",po="blend.enable",mo="blend.color",Eo="blend.equation",vo="blend.func",go="depth.enable",yo="depth.func",bo="depth.range",So="depth.mask",To="colorMask",xo="cull.enable",Oo="cull.face",Ro="frontFace",Ao="lineWidth",_o="polygonOffset.enable",No="polygonOffset.offset",Co="sample.alpha",Lo="sample.enable",Io="sample.coverage",wo="stencil.enable",Mo="stencil.mask",jo="stencil.func",Po="stencil.opFront",ko="stencil.opBack",Do="scissor.enable",Uo="scissor.box",Fo="viewport",Bo="profile",Go="framebuffer",Vo="vert",Ho="frag",zo="elements",Wo="primitive",Yo="count",Xo="offset",qo="instances",Ko="vao",Qo="Width",Jo="Height",Zo=Go+Qo,$o=Go+Jo,ea=Fo+Qo,ta=Fo+Jo,na="drawingBuffer",ra=na+Qo,ia=na+Jo,oa=[vo,Eo,jo,Po,ko,Io,Fo,Uo,No],aa=34962,sa=34963,ua=3553,ca=34067,la=2884,fa=3042,ha=3024,da=2960,pa=2929,ma=3089,Ea=32823,va=32926,ga=32928,ya=5126,ba=35664,Sa=35665,Ta=35666,xa=5124,Oa=35667,Ra=35668,Aa=35669,_a=35670,Na=35671,Ca=35672,La=35673,Ia=35674,wa=35675,Ma=35676,ja=35678,Pa=35680,ka=4,Da=1028,Ua=1029,Fa=2304,Ba=2305,Ga=32775,Va=32776,Ha=519,za=7680,Wa=0,Ya=1,Xa=32774,qa=513,Ka=36160,Qa=36064,Ja={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Za=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],$a={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},es={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ts={frag:35632,vert:35633},ns={cw:Fa,ccw:Ba};function rs(t){return Array.isArray(t)||e(t)||xt(t)}function is(e){return e.sort((function(e,t){return e===Fo?-1:t===Fo?1:e<t?-1:1}))}function os(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function as(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ss(e){return new os(!1,!1,!1,e)}function us(e,t){var n=e.type;if(n===oo){var r=e.data.length;return new os(!0,r>=1,r>=2,t)}if(n===co){var i=e.data;return new os(i.thisDep,i.contextDep,i.propDep,t)}if(n===lo)return new os(!1,!1,!1,t);if(n===fo){for(var o=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var c=e.data[u];if(c.type===ao)s=!0;else if(c.type===so)a=!0;else if(c.type===uo)o=!0;else if(c.type===oo){o=!0;var l=c.data;l>=1&&(a=!0),l>=2&&(s=!0)}else c.type===co&&(o=o||c.data.thisDep,a=a||c.data.contextDep,s=s||c.data.propDep)}return new os(o,a,s,t)}return new os(n===uo,n===so,n===ao,t)}var cs=new os(!1,!1,!1,(function(){}));function ls(e,n,r,i,o,a,s,u,c,l,f,h,d,p,m){var E=l.Record,v={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(v.min=Ga,v.max=Va);var g=r.angle_instanced_arrays,y=r.webgl_draw_buffers,b={dirty:!0,profile:m.profile},S={},T=[],x={},O={};function R(e){return e.replace(".","_")}function A(e,t,n){var r=R(e);T.push(e),S[r]=b[r]=!!n,x[r]=t}function _(e,t,n){var r=R(e);T.push(e),Array.isArray(n)?(b[r]=n.slice(),S[r]=n.slice()):b[r]=S[r]=n,O[r]=t}A(ho,ha),A(po,fa),_(mo,"blendColor",[0,0,0,0]),_(Eo,"blendEquationSeparate",[Xa,Xa]),_(vo,"blendFuncSeparate",[Ya,Wa,Ya,Wa]),A(go,pa,!0),_(yo,"depthFunc",qa),_(bo,"depthRange",[0,1]),_(So,"depthMask",!0),_(To,To,[!0,!0,!0,!0]),A(xo,la),_(Oo,"cullFace",Ua),_(Ro,Ro,Ba),_(Ao,Ao,1),A(_o,Ea),_(No,"polygonOffset",[0,0]),A(Co,va),A(Lo,ga),_(Io,"sampleCoverage",[1,!1]),A(wo,da),_(Mo,"stencilMask",-1),_(jo,"stencilFunc",[Ha,0,-1]),_(Po,"stencilOpSeparate",[Da,za,za,za]),_(ko,"stencilOpSeparate",[Ua,za,za,za]),A(Do,ma),_(Uo,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),_(Fo,Fo,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var N={gl:e,context:d,strings:n,next:S,current:b,draw:h,elements:a,buffer:o,shader:f,attributes:l.state,vao:l,uniforms:c,framebuffer:u,extensions:r,timer:p,isBufferArgs:rs},C={primTypes:Yt,compareFuncs:$a,blendFuncs:Ja,blendEquations:v,stencilOps:es,glTypes:Mt,orientationType:ns};ne.optional((function(){N.isArrayLike=fn})),y&&(C.backBuffer=[Ua],C.drawBuffer=Ae(i.maxDrawbuffers,(function(e){return 0===e?[0]:Ae(e,(function(e){return Qa+e}))})));var L=0;function I(){var e=eo(),t=e.link,r=e.global;e.id=L++,e.batchId="0";var i=t(N),o=e.shared={props:"a0"};Object.keys(N).forEach((function(e){o[e]=r.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},C.invalidBlendCombinations=Za}));var a=e.next={},s=e.current={};Object.keys(O).forEach((function(e){Array.isArray(b[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))}));var u=e.constants={};Object.keys(C).forEach((function(e){u[e]=r.def(JSON.stringify(C[e]))})),e.invoke=function(n,r){switch(r.type){case oo:var i=["this",o.context,o.props,e.batchId];return n.def(t(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case ao:return n.def(o.props,r.data);case so:return n.def(o.context,r.data);case uo:return n.def("this",r.data);case co:return r.data.append(e,n),r.data.ref;case lo:return r.data.toString();case fo:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var c={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in c)return c[r];var i=l.scope[r];return i||(i=l.scope[r]=new E),c[r]=t(i)},e}function w(e){var t,n=e.static,r=e.dynamic;if(Bo in n){var i=!!n[Bo];(t=ss((function(e,t){return i}))).enable=i}else if(Bo in r){var o=r[Bo];t=us(o,(function(e,t){return e.invoke(t,o)}))}return t}function M(e,t){var n=e.static,r=e.dynamic;if(Go in n){var i=n[Go];return i?(i=u.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),ss((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Zo,n+".width"),t.set(o,"."+$o,n+".height"),n}))):ss((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Zo,r+"."+ra),t.set(r,"."+$o,r+"."+ia),"null"}))}if(Go in r){var o=r[Go];return us(o,(function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var s=r.context;return t.set(s,"."+Zo,a+"?"+a+".width:"+s+"."+ra),t.set(s,"."+$o,a+"?"+a+".height:"+s+"."+ia),a}))}return null}function j(e,t,n){var r=e.static,i=e.dynamic;function o(e){if(e in r){var o=r[e];ne.commandType(o,"object","invalid "+e,n.commandStr);var a,s,u=!0,c=0|o.x,l=0|o.y;return"width"in o?(a=0|o.width,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in o?(s=0|o.height,ne.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new os(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",Zo,"-",c));var i=s;return"height"in o||(i=t.def(n,".",$o,"-",l)),[c,l,r,i]}))}if(e in i){var f=i[e],h=us(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Zo,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",$o,"-",a,")");return ne.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[o,a,s,u]}));return t&&(h.thisDep=h.thisDep||t.thisDep,h.contextDep=h.contextDep||t.contextDep,h.propDep=h.propDep||t.propDep),h}return t?new os(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Zo),t.def(n,".",$o)]})):null}var a=o(Fo);if(a){var s=a;a=new os(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+ea,n[2]),t.set(r,"."+ta,n[3]),n}))}return{viewport:a,scissor_box:o(Uo)}}function P(e,t){var n=e.static;if("string"===typeof n[Ho]&&"string"===typeof n[Vo]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)ne("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}function k(e,t,r){var i=e.static,o=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){f.shader(ts[e],t,ne.guessCommand())}));var r=ss((function(){return t}));return r.id=t,r}if(e in o){var a=o[e];return us(a,(function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ts[e],",",i,",",t.command,");")})),i}))}return null}var s,u=a(Ho),c=a(Vo),l=null;return as(u)&&as(c)?(l=f.program(c.id,u.id,null,r),s=ss((function(e,t){return e.link(l)}))):s=new os(u&&u.thisDep||c&&c.thisDep,u&&u.contextDep||c&&c.contextDep,u&&u.propDep||c&&c.propDep,(function(e,t){var n,r=e.shared.shader;n=u?u.append(e,t):t.def(r,".",Ho);var i=r+".program("+(c?c.append(e,t):t.def(r,".",Vo))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:u,vert:c,progVar:s,program:l}}function D(e,t){var n=e.static,r=e.dynamic;function i(){if(zo in n){var e=n[zo];rs(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),ne.command(e,"invalid elements",t.commandStr));var i=ss((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return i.value=e,i}if(zo in r){var o=r[zo];return us(o,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),s=t.def("null"),u=t.def(r,"(",a,")"),c=e.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return ne.optional((function(){e.assert(c.else,"!"+a+"||"+s,"invalid elements")})),t.entry(c),t.exit(e.cond(u).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s}))}return null}var o=i();function s(){if(Wo in n){var e=n[Wo];return ne.commandParameter(e,Yt,"invalid primitve",t.commandStr),ss((function(t,n){return Yt[e]}))}if(Wo in r){var i=r[Wo];return us(i,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,i);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Yt))})),t.def(n,"[",r,"]")}))}return o?as(o)?o.value?ss((function(e,t){return t.def(e.ELEMENTS,".primType")})):ss((function(){return ka})):new os(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",ka)})):null}function u(e,i){if(e in n){var a=0|n[e];return ne.command(!i||a>=0,"invalid "+e,t.commandStr),ss((function(e,t){return i&&(e.OFFSET=a),a}))}if(e in r){var s=r[e];return us(s,(function(t,n){var r=t.invoke(n,s);return i&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}return i&&o?ss((function(e,t){return e.OFFSET="0",0})):null}var c=u(Xo,!0);function l(){if(Yo in n){var e=0|n[Yo];return ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),ss((function(){return e}))}if(Yo in r){var i=r[Yo];return us(i,(function(e,t){var n=e.invoke(t,i);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(as(o)){if(o)return c?new os(c.thisDep,c.contextDep,c.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ss((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var a=ss((function(){return-1}));return ne.optional((function(){a.MISSING=!0})),a}var s=new os(o.thisDep||c.thisDep,o.contextDep||c.contextDep,o.propDep||c.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){s.DYNAMIC=!0})),s}return null}return{elements:o,primitive:s(),count:l(),instances:u(qo,!1),offset:c}}function U(e,t){var n=e.static,r=e.dynamic,o={};return T.forEach((function(e){var a=R(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=ss((function(){return s}))}else if(e in r){var u=r[e];o[a]=us(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case xo:case po:case ho:case wo:case go:case Do:case _o:case Co:case Lo:case So:return s((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case yo:return s((function(n){return ne.commandParameter(n,$a,"invalid "+e,t.commandStr),$a[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys($a))})),n.def(i,"[",r,"]")}));case bo:return s((function(e){return ne.command(fn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case vo:return s((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,Ja,a+".srcRGB",t.commandStr),ne.commandParameter(r,Ja,a+".srcAlpha",t.commandStr),ne.commandParameter(i,Ja,a+".dstRGB",t.commandStr),ne.commandParameter(o,Ja,a+".dstAlpha",t.commandStr),ne.command(-1===Za.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Ja[n],Ja[i],Ja[r],Ja[o]]}),(function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return ne.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys(Ja))})),s}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),c=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),c,n.def(i,"[",o("dst","Alpha"),"]")]}));case Eo:return s((function(n){return"string"===typeof n?(ne.commandParameter(n,v,"invalid "+e,t.commandStr),[v[n],v[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,v,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,v,e+".alpha",t.commandStr),[v[n.rgb],v[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(v))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case mo:return s((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Ae(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Ae(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Mo:return s((function(e){return ne.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case jo:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return ne.commandParameter(r,$a,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(o,"number",e+".mask",t.commandStr),[$a[r],i,o]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",za),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Po:case ko:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return ne.commandParameter(r,es,e+".fail",t.commandStr),ne.commandParameter(i,es,e+".zfail",t.commandStr),ne.commandParameter(o,es,e+".zpass",t.commandStr),[e===ko?Ua:Da,es[r],es[i],es[o]]}),(function(t,n,r){var i=t.constants.stencilOps;function o(o){return ne.optional((function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(es))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",za)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===ko?Ua:Da,o("fail"),o("zfail"),o("zpass")]}));case No:return s((function(e){ne.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",a+".factor",t.commandStr),ne.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Oo:return s((function(e){var n=0;return"front"===e?n=Da:"back"===e&&(n=Ua),ne.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',Da,":",Ua)}));case Ao:return s((function(e){return ne.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Ro:return s((function(e){return ne.commandParameter(e,ns,a,t.commandStr),ns[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Fa+":"+Ba)}));case To:return s((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Ae(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Io:return s((function(e){ne.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),o}function F(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=ss((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=ss((function(e){return e.link(o)})):"framebuffer"===a||"framebufferCube"===a?(ne.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=ss((function(e){return e.link(o.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(o)?r=ss((function(t){return t.global.def("[",Ae(o.length,(function(n){return ne.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),i}function B(e,t){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach((function(e){var i=r[e],s=n.id(e),u=new E;if(rs(i))u.state=ro,u.buffer=o.getBuffer(o.create(i,aa,!1,!0)),u.type=0;else{var c=o.getBuffer(i);if(c)u.state=ro,u.buffer=c,u.type=0;else if(ne.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var l=i.constant;u.buffer="null",u.state=io,"number"===typeof l?u.x=l:(ne.command(fn(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,t.commandStr),to.forEach((function(e,t){t<l.length&&(u[e]=l[t])})))}else{c=rs(i.buffer)?o.getBuffer(o.create(i.buffer,aa,!1,!0)):o.getBuffer(i.buffer),ne.command(!!c,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var h=0|i.stride;ne.command(h>=0&&h<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var d=0|i.size;ne.command(!("size"in i)||d>0&&d<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,m=0;"type"in i&&(ne.commandParameter(i.type,Mt,"invalid type for attribute "+e,t.commandStr),m=Mt[i.type]);var v=0|i.divisor;"divisor"in i&&(ne.command(0===v||g,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(v>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),ne.optional((function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),u.buffer=c,u.state=ro,u.size=d,u.normalized=p,u.type=m||c.dtype,u.offset=f,u.stride=h,u.divisor=v}}a[e]=ss((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;ne.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var c={isStream:r.def(!1)},l=new E;l.state=ro,Object.keys(l).forEach((function(e){c[e]=r.def(""+l[e])}));var f=c.buffer,h=c.type;function d(e){r(c[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",c.isStream,"=true;",f,"=",u,".createStream(",aa,",",i,");",h,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",h,"=",f,".dtype;",'}else if("constant" in ',i,"){",c.state,"=",io,";","if(typeof "+i+'.constant === "number"){',c[to[0]],"=",i,".constant;",to.slice(1).map((function(e){return c[e]})).join("="),"=0;","}else{",to.map((function(e,t){return c[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",aa,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",h,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",c.normalized,"=!!",i,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",c.isStream,"){",u,".destroyStream(",f,");","}"),c}a[e]=us(t,n)})),a}function G(e,t){var n=e.static,r=e.dynamic;if(Ko in n){var i=n[Ko];return null!==i&&null===l.getVAO(i)&&(i=l.createVAO(i)),ss((function(e){return e.link(l.getVAO(i))}))}if(Ko in r){var o=r[Ko];return us(o,(function(e,t){var n=e.invoke(t,o);return t.def(e.shared.vao+".getVAO("+n+")")}))}return null}function V(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=ss((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),r}function H(e,t,n,i,o){var a=e.static,s=e.dynamic;ne.optional((function(){var e=[Go,Vo,Ho,zo,Wo,Xo,Yo,qo,Bo,Ko].concat(T);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)}))}t(a),t(s)}));var u=P(e,t),c=M(e,o),f=j(e,c,o),h=D(e,o),d=U(e,o),p=k(e,o,u);function m(e){var t=f[e];t&&(d[e]=t)}m(Fo),m(R(Uo));var E=Object.keys(d).length>0,v={framebuffer:c,draw:h,shader:p,state:d,dirty:E,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(v.profile=w(e,o),v.uniforms=F(n,o),v.drawVAO=v.scopeVAO=G(e,o),!v.drawVAO&&p.program&&!u&&r.angle_instanced_arrays){var g=!0,y=p.program.attributes.map((function(e){var n=t.static[e];return g=g&&!!n,n}));if(g&&y.length>0){var b=l.getVAO(l.createVAO(y));v.drawVAO=new os(null,null,null,(function(e,t){return e.link(b)})),v.useVAO=!0}}return u?v.useVAO=!0:v.attributes=B(t,o),v.context=V(i,o),v}function z(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach((function(o){t.save(r,"."+o);var a=n[o].append(e,t);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),t(i)}function W(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;y&&(i=t.def(o.extensions,".webgl_draw_buffers"));var u,c=e.constants,l=c.drawBuffer,f=c.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Ka,",",u,".framebuffer);"),y&&t(i,".drawBuffersWEBGL(",l,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Ka,",null);"),y&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function Y(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,u=r.next,c=e.cond(s,".dirty");T.forEach((function(t){var r,l,f=R(t);if(!(f in n.state))if(f in a){r=a[f],l=o[f];var h=Ae(b[f].length,(function(e){return c.def(r,"[",e,"]")}));c(e.cond(h.map((function(e,t){return e+"!=="+l+"["+t+"]"})).join("||")).then(i,".",O[f],"(",h,");",h.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";"))}else{r=c.def(u,".",f);var d=e.cond(r,"!==",s,".",f);c(d),f in x?d(e.cond(r).then(i,".enable(",x[f],");").else(i,".disable(",x[f],");"),s,".",f,"=",r,";"):d(i,".",O[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&c(s,".dirty=false;"),t(c)}function X(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;is(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var c=u.append(e,t);if(x[i]){var l=x[i];as(u)?t(s,c?".enable(":".disable(",l,");"):t(e.cond(c).then(s,".enable(",l,");").else(s,".disable(",l,");")),t(a,".",i,"=",c,";")}else if(fn(c)){var f=o[i];t(s,".",O[i],"(",c,");",c.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",O[i],"(",c,");",a,".",i,"=",c,";")}}))}function q(e,t){g&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function K(e,t,n,r,i){var o,a,s,u=e.shared,c=e.stats,l=u.current,f=u.timer,h=n.profile;function d(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function m(e){e(o=t.def(),"=",d(),";"),"string"===typeof i?e(c,".count+=",i,";"):e(c,".count++;"),p&&(r?e(a=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",c,");"))}function E(e){e(c,".cpuTime+=",d(),"-",o,";"),p&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",c,");"):e(f,".endQuery();"))}function v(e){var n=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",n,";")}if(h){if(as(h))return void(h.enable?(m(t),E(t.exit),v("true")):v("false"));v(s=h.append(e,t))}else s=t.def(l,".profile");var g=e.block();m(g),t("if(",s,"){",g,"}");var y=e.block();E(y),t.exit("if(",s,"){",y,"}")}function Q(e,t,n,r,i){var o=e.shared;function a(e){switch(e){case ba:case Oa:case Na:return 2;case Sa:case Ra:case Ca:return 3;case Ta:case Aa:case La:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=t.def(n,".location"),u=t.def(o.attributes,"[",s,"]"),c=i.state,l=i.buffer,f=[i.x,i.y,i.z,i.w],h=["buffer","normalized","offset","stride"];function d(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",o,"||",u,".size!==",n,"||",h.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",aa,",",l,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",h.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),g){var c=i.divisor;t("if(",u,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,c],");",u,".divisor=",c,";}")}}function p(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",to.map((function(e,t){return u+"."+e+"!=="+f[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",to.map((function(e,t){return u+"."+e+"="+f[t]+";"})).join(""),"}")}c===ro?d():c===io?p():(t("if(",c,"===",ro,"){"),d(),t("}else{"),p(),t("}"))}r.forEach((function(r){var o,u=r.name,c=n.attributes[u];if(c){if(!i(c))return;o=c.append(e,t)}else{if(!i(cs))return;var l=e.scopeAttrib(u);ne.optional((function(){e.assert(t,l+".state","missing attribute "+u)})),o={},Object.keys(new E).forEach((function(e){o[e]=t.def(l,".",e)}))}s(e.link(r),a(r.info.type),o)}))}function J(e,t,r,i,o){for(var a,s=e.shared,u=s.gl,c=0;c<i.length;++c){var l,f=i[c],h=f.name,d=f.info.type,p=r.uniforms[h],m=e.link(f)+".location";if(p){if(!o(p))continue;if(as(p)){var E=p.value;if(ne.command(null!==E&&"undefined"!==typeof E,'missing uniform "'+h+'"',e.commandStr),d===ja||d===Pa){ne.command("function"===typeof E&&(d===ja&&("texture2d"===E._reglType||"framebuffer"===E._reglType)||d===Pa&&("textureCube"===E._reglType||"framebufferCube"===E._reglType)),"invalid texture for uniform "+h,e.commandStr);var v=e.link(E._texture||E.color[0]._texture);t(u,".uniform1i(",m,",",v+".bind());"),t.exit(v,".unbind();")}else if(d===Ia||d===wa||d===Ma){ne.optional((function(){ne.command(fn(E),"invalid matrix for uniform "+h,e.commandStr),ne.command(d===Ia&&4===E.length||d===wa&&9===E.length||d===Ma&&16===E.length,"invalid length for matrix uniform "+h,e.commandStr)}));var g=e.global.def("new Float32Array(["+Array.prototype.slice.call(E)+"])"),y=2;d===wa?y=3:d===Ma&&(y=4),t(u,".uniformMatrix",y,"fv(",m,",false,",g,");")}else{switch(d){case ya:ne.commandType(E,"number","uniform "+h,e.commandStr),a="1f";break;case ba:ne.command(fn(E)&&2===E.length,"uniform "+h,e.commandStr),a="2f";break;case Sa:ne.command(fn(E)&&3===E.length,"uniform "+h,e.commandStr),a="3f";break;case Ta:ne.command(fn(E)&&4===E.length,"uniform "+h,e.commandStr),a="4f";break;case _a:ne.commandType(E,"boolean","uniform "+h,e.commandStr),a="1i";break;case xa:ne.commandType(E,"number","uniform "+h,e.commandStr),a="1i";break;case Na:case Oa:ne.command(fn(E)&&2===E.length,"uniform "+h,e.commandStr),a="2i";break;case Ca:case Ra:ne.command(fn(E)&&3===E.length,"uniform "+h,e.commandStr),a="3i";break;case La:case Aa:ne.command(fn(E)&&4===E.length,"uniform "+h,e.commandStr),a="4i"}t(u,".uniform",a,"(",m,",",fn(E)?Array.prototype.slice.call(E):E,");")}continue}l=p.append(e,t)}else{if(!o(cs))continue;l=t.def(s.uniforms,"[",n.id(h),"]")}d===ja?(ne(!Array.isArray(l),"must specify a scalar prop for textures"),t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}")):d===Pa&&(ne(!Array.isArray(l),"must specify a scalar prop for cube maps"),t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(e){ne(!Array.isArray(l),"must not specify an array type for uniform"),n("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){Array.isArray(l)?ne(l.length===t,"must have length "+t):n(s.isArrayLike+"("+l+")&&"+l+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function o(t){ne(!Array.isArray(l),"must not specify a value type"),n("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(t===ua?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(d){case xa:case ya:r("number");break;case Oa:case ba:i(2,"number");break;case Ra:case Sa:i(3,"number");break;case Aa:case Ta:case Ia:i(4,"number");break;case _a:r("boolean");break;case Na:i(2,"boolean");break;case Ca:i(3,"boolean");break;case La:i(4,"boolean");break;case wa:i(9,"number");break;case Ma:i(16,"number");break;case ja:o(ua);break;case Pa:o(ca)}}));var b=1;switch(d){case ja:case Pa:var S=t.def(l,"._texture");t(u,".uniform1i(",m,",",S,".bind());"),t.exit(S,".unbind();");continue;case xa:case _a:a="1i";break;case Oa:case Na:a="2i",b=2;break;case Ra:case Ca:a="3i",b=3;break;case Aa:case La:a="4i",b=4;break;case ya:a="1f";break;case ba:a="2f",b=2;break;case Sa:a="3f",b=3;break;case Ta:a="4f",b=4;break;case Ia:a="Matrix2fv";break;case wa:a="Matrix3fv";break;case Ma:a="Matrix4fv"}if(t(u,".uniform",a,"(",m,","),"M"===a.charAt(0)){var T=Math.pow(d-Ia+2,2),x=e.global.def("new Float32Array(",T,")");Array.isArray(l)?t("false,(",Ae(T,(function(e){return x+"["+e+"]="+l[e]})),",",x,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",Ae(T,(function(e){return x+"["+e+"]="+l+"["+e+"]"})),",",x,")")}else b>1?t(Ae(b,(function(e){return Array.isArray(l)?l[e]:l+"["+e+"]"}))):(ne(!Array.isArray(l),"uniform value must not be an array"),t(l));t(");")}}function Z(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw;function u(){var i,u=s.elements,c=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(c=n),i=u.append(e,c)):i=c.def(a,".",zo),i&&c("if("+i+")"+o+".bindBuffer("+sa+","+i+".buffer.buffer);"),i}function c(){var i,o=s.count,u=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(e,u),ne.optional((function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",Yo),ne.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var l=u();function f(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var h,d,p=f(Wo),m=f(Xo),E=c();if("number"===typeof E){if(0===E)return}else n("if(",E,"){"),n.exit("}");g&&(h=f(qo),d=e.instancing);var v=l+".type",y=s.elements&&as(s.elements);function b(){function e(){n(d,".drawElementsInstancedANGLE(",[p,E,v,m+"<<(("+v+"-"+no+")>>1)",h],");")}function t(){n(d,".drawArraysInstancedANGLE(",[p,m,E,h],");")}l?y?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}function S(){function e(){n(o+".drawElements("+[p,E,v,m+"<<(("+v+"-"+no+")>>1)"]+");")}function t(){n(o+".drawArrays("+[p,m,E]+");")}l?y?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}g&&("number"!==typeof h||h>=0)?"string"===typeof h?(n("if(",h,">0){"),b(),n("}else if(",h,"<0){"),S(),n("}")):b():S()}function $(e,t,n,r,i){var o=I(),a=o.proc("body",i);return ne.optional((function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)})),g&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function ee(e,t,n,r){q(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),Q(e,t,n,r.attributes,(function(){return!0}))),J(e,t,n,r.uniforms,(function(){return!0})),Z(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);q(e,n),z(e,n,t.context),W(e,n,t.framebuffer),Y(e,n,t),X(e,n,t.state),K(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link((function(n){return $(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function re(e,t,n,r){function i(){return!0}e.batchId="a1",q(e,t),Q(e,t,n,r.attributes,i),J(e,t,n,r.uniforms,i),Z(e,t,t,n)}function ie(e,t,n,r){q(e,t);var i=n.contextDep,o=t.def(),a="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=o;var c=e.scope(),l=e.scope();function f(e){return e.contextDep&&i||e.propDep}function h(e){return!f(e)}if(t(c.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",u,"=",a,"[",o,"];",l,"}",c.exit),n.needsContext&&z(e,l,n.context),n.needsFramebuffer&&W(e,l,n.framebuffer),X(e,l,n.state,f),n.profile&&f(n.profile)&&K(e,l,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):c(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(c(e.shared.vao,".setVAO(null);"),Q(e,c,n,r.attributes,h),Q(e,l,n,r.attributes,f)),J(e,c,n,r.uniforms,h),J(e,l,n,r.uniforms,f),Z(e,c,l,n);else{var d=e.global.def("{}"),p=n.shader.progVar.append(e,l),m=l.def(p,".id"),E=l.def(d,"[",m,"]");l(e.shared.gl,".useProgram(",p,".program);","if(!",E,"){",E,"=",d,"[",m,"]=",e.link((function(t){return $(re,e,n,t,2)})),"(",p,");}",E,".call(this,a0[",o,"],",o,");")}}function oe(e,t){var n=e.proc("batch",2);e.batchId="0",q(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(z(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||W(e,n,o)):W(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),Y(e,n,t),X(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||K(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)ie(e,n,t,null);else{var c=u.append(e,n);if(n(e.shared.gl,".useProgram(",c,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),f=n.def(c,".id"),h=n.def(l,"[",f,"]");n(e.cond(h).then(h,".call(this,a0,a1);").else(h,"=",l,"[",f,"]=",e.link((function(n){return $(ie,e,t,n,2)})),"(",c,");",h,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function ae(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(n){var o=t.shader[n];o&&r.set(i.shader,"."+n,o.append(e,r))}z(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),is(Object.keys(t.state)).forEach((function(n){var o=t.state[n].append(e,r);fn(o)?o.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(i.next,"."+n,o)})),K(e,r,t,!0,!0),[zo,Xo,Yo,qo,Wo].forEach((function(n){var o=t.draw[n];o&&r.set(i.draw,"."+n,""+o.append(e,r))})),Object.keys(t.uniforms).forEach((function(o){var a=t.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,r),o=e.scopeAttrib(n);Object.keys(new E).forEach((function(e){r.set(o,"."+e,i[e])}))})),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Vo),a(Ho),Object.keys(t.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t.static[n];if(r&&se(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,u=!1,c=e.global.def("{}");o.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var o=us(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(c,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new pe.DynamicVariable(co,{thisDep:a,contextDep:s,propDep:u,ref:c,append:l}),delete t.static[n]}function l(e,t){o.forEach((function(n){var i=r[n];if(pe.isDynamic(i)){var o=e.invoke(t,i);t(c,".",n,"=",o,";")}}))}}function ce(e,n,r,i,o){var a=I();a.stats=a.link(o),Object.keys(n.static).forEach((function(e){ue(a,n,e)})),oa.forEach((function(t){ue(a,e,t)}));var s=H(e,n,r,i,a);return te(a,s),ae(a,s),oe(a,s),t(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:S,current:b,procs:function(){var e=I(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,u=s.gl,c=s.next,l=s.current;o(l,".dirty=false;"),W(e,t),W(e,n,null,!0),g&&(a=e.link(g)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var h=n.def(s.attributes,"[",f,"]"),d=e.cond(h,".buffer");d.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",aa,",",h,".buffer.buffer);",u,".vertexAttribPointer(",f,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),n(d),g&&n(a,".vertexAttribDivisorANGLE(",f,",",h,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(x).forEach((function(r){var i=x[r],a=o.def(c,".",r),s=e.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",l,".",r,"=",a,";"),n(s),t("if(",a,"!==",l,".",r,"){",s,"}")})),Object.keys(O).forEach((function(r){var i,a,s=O[r],f=b[r],h=e.block();if(h(u,".",s,"("),fn(f)){var d=f.length;i=e.global.def(c,".",r),a=e.global.def(l,".",r),h(Ae(d,(function(e){return i+"["+e+"]"})),");",Ae(d,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Ae(d,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",h,"}")}else i=o.def(c,".",r),a=o.def(l,".",r),h(i,");",l,".",r,"=",i,";"),t("if(",i,"!==",a,"){",h,"}");n(h)})),e.compile()}(),compile:ce}}function fs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var hs=34918,ds=34919,ps=35007,ms=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var o=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(ps,n),o.push(n),d(o.length-1,o.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(ps)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var c=[];function l(){return c.pop()||new u}function f(e){c.push(e)}var h=[];function d(e,t,n){var r=l();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,h.push(r)}var p=[],m=[];function E(){var e,n,r=o.length;if(0!==r){m.length=Math.max(m.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,m[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var s=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,ds)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs),i(s)):o[e++]=s,p[n+1]=a,m[n+1]=e}for(o.length=e,e=0,n=0;n<h.length;++n){var u=h[n],c=u.startQueryIndex,l=u.endQueryIndex;u.sum+=p[l]-p[c];var d=m[c],E=m[l];E===d?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=d,u.endQueryIndex=E,h[e++]=u)}h.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:d,update:E,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},Es=16384,vs=256,gs=1024,ys=34962,bs="webglcontextlost",Ss="webglcontextrestored",Ts=1,xs=2,Os=3;function Rs(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function As(e){var n=Oe(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=Re(r,n);if(!a)return null;var s=ve(),u=fs(),c=a.extensions,l=ms(r,c),f=Ee(),h=r.drawingBufferWidth,d=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:h,viewportHeight:d,framebufferWidth:h,framebufferHeight:d,drawingBufferWidth:h,drawingBufferHeight:d,pixelRatio:n.pixelRatio},m={},E={elements:null,primitive:4,count:-1,offset:0,instances:-1},v=Tt(r,c),g=Wt(r,u,n,b),y=Gi(r,c,v,u,g);function b(e){return y.destroyBuffer(e)}var S=an(r,c,g,u),T=Yi(r,s,u,n),x=Kr(r,c,v,(function(){A.procs.poll()}),p,u,n),O=ci(r,c,v,u,n),R=Di(r,c,v,x,O,u),A=ls(r,s,c,v,g,S,x,R,m,y,T,E,p,l,n),_=Ji(r,R,A.procs.poll,p,i,c,v),N=A.next,C=r.canvas,L=[],I=[],w=[],M=[n.onDestroy],j=null;function P(){if(0===L.length)return l&&l.update(),void(j=null);j=me.next(P),X();for(var e=L.length-1;e>=0;--e){var t=L[e];t&&t(p,null,0)}r.flush(),l&&l.update()}function k(){!j&&L.length>0&&(j=me.next(P))}function D(){j&&(me.cancel(P),j=null)}function U(e){e.preventDefault(),o=!0,D(),I.forEach((function(e){e()}))}function F(e){r.getError(),o=!1,a.restore(),T.restore(),g.restore(),x.restore(),O.restore(),R.restore(),y.restore(),l&&l.restore(),A.procs.refresh(),k(),w.forEach((function(e){e()}))}function B(){L.length=0,D(),C&&(C.removeEventListener(bs,U),C.removeEventListener(Ss,F)),T.clear(),R.clear(),O.clear(),x.clear(),S.clear(),g.clear(),y.clear(),l&&l.clear(),M.forEach((function(e){e()}))}function G(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var o=e[i];if(pe.isDynamic(o))r[i]=pe.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(pe.isDynamic(o[a]))return void(r[i]=pe.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(n(e),!1),c={gpuTime:0,cpuTime:0,count:0},l=A.compile(u,s,a,i,c),f=l.draw,h=l.batch,d=l.scope,p=[];function m(e){for(;p.length<e;)p.push(null);return p}function E(e,t){var n;if(o&&ne.raise("context lost"),"function"===typeof e)return d.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)d.call(this,null,t,n);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(n=0;n<e.length;++n)d.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return h.call(this,m(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return h.call(this,e,e.length)}}return t(E,{stats:c,destroy:function(){l.destroy()}})}C&&(C.addEventListener(bs,U,!1),C.addEventListener(Ss,F,!1));var V=R.setFBO=G({framebuffer:pe.define.call(null,Ts,"framebuffer")});function H(e,t){var n=0;A.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=Es),"depth"in t&&(r.clearDepth(+t.depth),n|=vs),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=gs),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function z(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)V(t({framebuffer:e.framebuffer.faces[n]},e),H);else V(e,H);else H(null,e)}function W(e){function t(){var t=Rs(L,e);function n(){var e=Rs(L,n);L[e]=L[L.length-1],L.length-=1,L.length<=0&&D()}ne(t>=0,"cannot cancel a frame twice"),L[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),L.push(e),k(),{cancel:t}}function Y(){var e=N.viewport,t=N.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function X(){p.tick+=1,p.time=K(),Y(),A.procs.poll()}function q(){x.refresh(),Y(),A.procs.refresh(),l&&l.update()}function K(){return(Ee()-f)/1e3}function Q(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return W(t);case"lost":n=I;break;case"restore":n=w;break;case"destroy":n=M;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}q();var J=t(G,{clear:z,prop:pe.define.bind(null,Ts),context:pe.define.bind(null,xs),this:pe.define.bind(null,Os),draw:G({}),buffer:function(e){return g.create(e,ys,!1,!1)},elements:function(e){return S.create(e,!1)},texture:x.create2D,cube:x.createCube,renderbuffer:O.create,framebuffer:R.create,framebufferCube:R.createCube,vao:y.createVAO,attributes:i,frame:W,on:Q,limits:v,hasExtension:function(e){return v.extensions.indexOf(e.toLowerCase())>=0},read:_,destroy:B,_gl:r,_refresh:q,poll:function(){X(),l&&l.update()},now:K,stats:u});return n.onDone(null,J),J}return As}()},2677:function(e,t,n){e.exports={EPSILON:n(1934),create:n(1935),clone:n(2678),fromValues:n(2679),copy:n(2680),set:n(1936),equals:n(2681),exactEquals:n(2682),add:n(1937),subtract:n(1463),sub:n(2683),multiply:n(1938),mul:n(2684),divide:n(1939),div:n(2685),inverse:n(2686),min:n(2687),max:n(2688),rotate:n(2689),floor:n(2690),ceil:n(2691),round:n(2692),scale:n(2693),scaleAndAdd:n(2694),distance:n(1940),dist:n(2695),squaredDistance:n(1941),sqrDist:n(2696),length:n(1942),len:n(2697),squaredLength:n(1943),sqrLen:n(2698),negate:n(2699),normalize:n(1944),dot:n(1945),cross:n(2700),lerp:n(2701),random:n(2702),transformMat2:n(2703),transformMat2d:n(2704),transformMat3:n(2705),transformMat4:n(2706),forEach:n(2707),limit:n(2708)}},2678:function(e,t){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},2679:function(e,t){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},2680:function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},2681:function(e,t,n){e.exports=function(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))};var r=n(1934)},2682:function(e,t){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},2683:function(e,t,n){e.exports=n(1463)},2684:function(e,t,n){e.exports=n(1938)},2685:function(e,t,n){e.exports=n(1939)},2686:function(e,t){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},2687:function(e,t){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},2688:function(e,t){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},2689:function(e,t){e.exports=function(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t[0],a=t[1];return e[0]=o*r-a*i,e[1]=o*i+a*r,e}},2690:function(e,t){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},2691:function(e,t){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},2692:function(e,t){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},2693:function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},2694:function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},2695:function(e,t,n){e.exports=n(1940)},2696:function(e,t,n){e.exports=n(1941)},2697:function(e,t,n){e.exports=n(1942)},2698:function(e,t,n){e.exports=n(1943)},2699:function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},2700:function(e,t){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},2701:function(e,t){e.exports=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}},2702:function(e,t){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},2703:function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}},2704:function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},2705:function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}},2706:function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},2707:function(e,t,n){e.exports=function(e,t,n,i,o,a){var s,u;t||(t=2);n||(n=0);u=i?Math.min(i*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],o(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(1935)()},2708:function(e,t){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var i=Math.sqrt(r);e[0]=t[0]/i*n,e[1]=t[1]/i*n}else e[0]=t[0],e[1]=t[1];return e}},2709:function(e,t,n){var r=n(1937),i=n(1936),o=n(1944),a=n(1463),s=n(1945),u=[0,0];e.exports.computeMiter=function(e,t,n,a,c){return r(e,n,a),o(e,e),i(t,-e[1],e[0]),i(u,-n[1],n[0]),c/s(t,u)},e.exports.normal=function(e,t){return i(e,-t[1],t[0]),e},e.exports.direction=function(e,t,n){return a(e,t,n),o(e,e),e}},2710:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"}),"RestartAlt");t.default=a},2711:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.default=a},2712:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}),"Dashboard");t.default=a},2915:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return J}));var r=n(4),i=n(28),o=n(6),a=n(7),s=n(5),u=function(){function e(){Object(r.a)(this,e),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return Object(s.a)(e,[{key:"layout",value:function(e){return this.init(e),this.execute(!0)}},{key:"init",value:function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[]}},{key:"execute",value:function(e){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(e){e&&Object.assign(this,e)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}]),e}(),c=function(e){return"string"===typeof e},l=/-(\w)/g,f=(function(e){var t=Object.create(null)}((function(e){return e.replace(l,(function(e,t){return t?t.toUpperCase():""}))})),Array.isArray),h=function(e){return"number"===typeof e},d=function(e){return Number.isNaN(Number(e))},p=function(e){return null!==e&&"object"===typeof e},m=function(e,t){var n=e[t];return p(n)?n.cell:n},E=function(e,t,n){for(var r=[],i=0;i<e;i++)r[i]=0;return n?(n.forEach((function(e){var n=m(e,"source"),i=m(e,"target");n&&(r[t[n]]+=1),i&&(r[t[i]]+=1)})),r):r},v=(new Map,function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this)).begin=[0,0],i.preventOverlap=!0,i.preventOverlapPadding=10,i.condense=!1,i.sortBy="degree",i.nodeSize=30,i.nodes=[],i.edges=[],i.width=300,i.height=300,i.row=0,i.col=0,i.cellWidth=0,i.cellHeight=0,i.cellUsed={},i.id2manPos={},i.onLayoutEnd=function(){},i.updateCfg(e),i}return Object(s.a)(n,[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var e=this,t=e.nodes,n=e.edges,r=t.length,i=e.begin;if(0===r)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};if(1===r)return t[0].x=i[0],t[0].y=i[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};var o=[];t.forEach((function(e){o.push(e)}));var a={};if(o.forEach((function(e,t){a[e.id]=t})),("degree"===e.sortBy||!c(e.sortBy)||void 0===o[0][e.sortBy])&&(e.sortBy="degree",d(t[0].degree))){var s=E(o.length,a,n);o.forEach((function(e,t){e.degree=s[t]}))}o.sort((function(t,n){return n[e.sortBy]-t[e.sortBy]})),e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);var u=e.rows,l=null!=e.cols?e.cols:e.columns;if(e.cells=r,null!=u&&null!=l?(e.rows=u,e.cols=l):null!=u&&null==l?(e.rows=u,e.cols=Math.ceil(e.cells/e.rows)):null==u&&null!=l?(e.cols=l,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells){var m=e.small(),v=e.large();(m-1)*v>=e.cells?e.small(m-1):(v-1)*m>=e.cells&&e.large(v-1)}else for(;e.cols*e.rows<e.cells;){var g=e.small(),y=e.large();(y+1)*g>=e.cells?e.large(y+1):e.small(g+1)}e.cellWidth=e.width/e.cols,e.cellHeight=e.height/e.rows,e.condense&&(e.cellWidth=0,e.cellHeight=0),e.preventOverlap&&o.forEach((function(t){var n,r;t.x&&t.y||(t.x=0,t.y=0),f(t.size)?(n=t.size[0],r=t.size[1]):h(t.size)?(n=t.size,r=t.size):p(t.size)&&(n=t.size.width,r=t.size.height),void 0!==n&&void 0!==r||(f(e.nodeSize)?(n=e.nodeSize[0],r=e.nodeSize[1]):h(e.nodeSize)?(n=e.nodeSize,r=e.nodeSize):(n=30,r=30));var i=e.preventOverlapPadding,o=n+i,a=r+i;e.cellWidth=Math.max(e.cellWidth,o),e.cellHeight=Math.max(e.cellHeight,a)})),e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(var b=0;b<o.length;b++){var S=o[b],T=void 0;if(e.position&&(T=e.position(S)),T&&(void 0!==T.row||void 0!==T.col)){var x={row:T.row,col:T.col};if(void 0===x.col)for(x.col=0;e.used(x.row,x.col);)x.col++;else if(void 0===x.row)for(x.row=0;e.used(x.row,x.col);)x.row++;e.id2manPos[S.id]=x,e.use(x.row,x.col)}e.getPos(S)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:n,nodes:o}}},{key:"small",value:function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.min(r,i):Math.min(r,i)===n.rows?n.rows=e:n.cols=e;return t}},{key:"large",value:function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.max(r,i):Math.max(r,i)===n.rows?n.rows=e:n.cols=e;return t}},{key:"used",value:function(e,t){return this.cellUsed["c-".concat(e,"-").concat(t)]||!1}},{key:"use",value:function(e,t){this.cellUsed["c-".concat(e,"-").concat(t)]=!0}},{key:"moveToNextCell",value:function(){var e=this,t=e.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)}},{key:"getPos",value:function(e){var t,n,r=this,i=r.begin,o=r.cellWidth,a=r.cellHeight,s=r.id2manPos[e.id];if(s)t=s.col*o+o/2+i[0],n=s.row*a+a/2+i[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();t=r.col*o+o/2+i[0],n=r.row*a+a/2+i[1],r.use(r.row,r.col),r.moveToNextCell()}e.x=t,e.y=n}},{key:"getType",value:function(){return"grid"}}]),n}(u));function g(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,c,l,f,h,d=e._root,p={data:r},m=e._x0,E=e._y0,v=e._x1,g=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((c=t>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(E+g)/2))?E=a:g=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,e;if(s=+e._x.call(null,d.data),u=+e._y.call(null,d.data),t===s&&n===u)return p.next=d,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(E+g)/2))?E=a:g=a}while((f=l<<1|c)===(h=(u>=a)<<1|s>=o));return i[h]=d,i[f]=p,e}var y=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function b(e){return e[0]}function S(e){return e[1]}function T(e,t,n){var r=new x(null==t?b:t,null==n?S:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function x(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function O(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var R=T.prototype=x.prototype;R.copy=function(){var e,t,n=new x(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=O(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=O(t));return n},R.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return g(this.cover(t,n),t,n,e)},R.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)g(this,a[n],s[n],e[n]);return this},R.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},R.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},R.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},R.find=function(e,t,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new y(m,l,f,h,d)),null==n?n=1/0:(l=e-n,f=t-n,h=e+n,d=t+n,n*=n);u=p.pop();)if(!(!(m=u.node)||(i=u.x0)>h||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<f))if(m.length){var E=(i+a)/2,v=(o+s)/2;p.push(new y(m[3],E,v,a,s),new y(m[2],i,v,E,s),new y(m[1],E,o,a,v),new y(m[0],i,o,E,v)),(c=(t>=v)<<1|e>=E)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var g=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),S=g*g+b*b;if(S<n){var T=Math.sqrt(n=S);l=e-T,f=t-T,h=e+T,d=t+T,r=m.data}}return r},R.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,f,h,d=this._root,p=this._x0,m=this._y0,E=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+E)/2))?p=s:E=s,(l=a>=(u=(m+v)/2))?m=u:v=u,t=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,h=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},R.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},R.root=function(){return this._root},R.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},R.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new y(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new y(n,c,l,o,a)),(n=u[2])&&s.push(new y(n,r,l,c,a)),(n=u[1])&&s.push(new y(n,c,i,o,l)),(n=u[0])&&s.push(new y(n,r,i,c,l))}return this},R.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new y(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,c=t.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new y(o,a,s,l,f)),(o=i[1])&&n.push(new y(o,l,s,u,f)),(o=i[2])&&n.push(new y(o,a,f,l,c)),(o=i[3])&&n.push(new y(o,l,f,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},R.x=function(e){return arguments.length?(this._x=e,this):this._x},R.y=function(e){return arguments.length?(this._y=e,this):this._y};var A={value:function(){}};function _(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new N(r)}function N(e){this._=e}function C(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function L(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function I(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=A,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}N.prototype=_.prototype={constructor:N,on:function(e,t){var n,r=this._,i=C(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=I(r[n],e.name,t);else if(null==t)for(n in r)r[n]=I(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=L(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new N(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var w,M,j=0,P=0,k=0,D=0,U=0,F=0,B="object"===typeof performance&&performance.now?performance:Date,G="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function V(){return U||(G(H),U=B.now()+F)}function H(){U=0}function z(){this._call=this._time=this._next=null}function W(e,t,n){var r=new z;return r.restart(e,t,n),r}function Y(){U=(D=B.now())+F,j=P=0;try{!function(){V(),++j;for(var e,t=w;t;)(e=U-t._time)>=0&&t._call.call(null,e),t=t._next;--j}()}finally{j=0,function(){var e,t,n=w,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:w=t);M=e,q(r)}(),U=0}}function X(){var e=B.now(),t=e-D;t>1e3&&(F-=t,D=e)}function q(e){j||(P&&(P=clearTimeout(P)),e-U>24?(e<1/0&&(P=setTimeout(Y,e-B.now()-F)),k&&(k=clearInterval(k))):(k||(D=B.now(),k=setInterval(X,1e3)),j=1,G(Y)))}z.prototype=W.prototype={constructor:z,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?V():+n)+(null==t?0:+t),this._next||M===this||(M?M._next=this:w=this,M=this),this._call=e,this._time=n,q()},stop:function(){this._call&&(this._call=null,this._time=1/0,q())}};Math.PI,Math.sqrt(5);n(18);var K=n(2560),Q=n.n(K),J=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this)).rankdir="TB",o.nodesep=50,o.ranksep=50,o.controlPoints=!1,o.sortByCombo=!1,o.edgeLabelSpace=!0,o.keepNodeOrder=!1,o.nodes=[],o.edges=[],o.onLayoutEnd=function(){},o.layoutNode=function(e){var t=Object(i.a)(o).nodes.find((function(t){return t.id===e}));return!t||!1!==t.layout},o.updateCfg(e),o}return Object(s.a)(n,[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var e=this,t=this,n=t.nodes,r=t.nodeSize,i=t.rankdir,o=t.combos;if(n){var a,s=t.edges||[],u=new Q.a.graphlib.Graph({multigraph:!0,compound:!0});a=r?f(r)?function(){return r}:function(){return[r,r]}:function(e){return e.size?f(e.size)?e.size:p(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var c=Z(t.nodesepFunc,t.nodesep,50),l=Z(t.ranksepFunc,t.ranksep,50);"LR"!==i&&"RL"!==i||(c=Z(t.ranksepFunc,t.ranksep,50),l=Z(t.nodesepFunc,t.nodesep,50)),u.setDefaultEdgeLabel((function(){return{}})),u.setGraph(t);var d={};n.filter((function(e){return!1!==e.layout})).forEach((function(t){var n=a(t),r=l(t),i=c(t),o=n[0]+2*i,s=n[1]+2*r,f=t.layer;h(f)?u.setNode(t.id,{width:o,height:s,layer:f}):u.setNode(t.id,{width:o,height:s}),e.sortByCombo&&t.comboId&&(d[t.comboId]||(d[t.comboId]=!0,u.setNode(t.comboId,{})),u.setParent(t.id,t.comboId))})),this.sortByCombo&&o&&o.forEach((function(e){e.parentId&&(d[e.parentId]||(d[e.parentId]=!0,u.setNode(e.parentId,{})),u.setParent(e.id,e.parentId))})),s.forEach((function(t){var n=m(t,"source"),r=m(t,"target");e.layoutNode(n)&&e.layoutNode(r)&&u.setEdge(n,r,{weight:t.weight||1})}));var E,v=void 0;return t.preset&&(v=new Q.a.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach((function(e){null===v||void 0===v||v.setNode(e.id,e)}))),Q.a.layout(u,{prevGraph:v,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:t.keepNodeOrder,nodeOrder:t.nodeOrder}),u.nodes().forEach((function(e){E=u.node(e);var t=n.findIndex((function(t){return t.id===e}));n[t]&&(n[t].x=E.x,n[t].y=E.y,n[t]._order=E._order)})),u.edges().forEach((function(e){E=u.edge(e);var n=s.findIndex((function(t){var n=m(t,"source"),r=m(t,"target");return n===e.v&&r===e.w}));t.edgeLabelSpace&&t.controlPoints&&"loop"!==s[n].type&&(s[n].controlPoints=E.points.slice(1,E.points.length-1))})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:n,edges:s}}}},{key:"getType",value:function(){return"dagre"}}]),n}(u);function Z(e,t,n){return e||(h(t)?function(){return t}:function(){return n})}n(11);var $=n(144),ee=Object.prototype.toString;function te(e){return ee.call(e).endsWith("Array]")}var ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!te(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a};var re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!te(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a};function ie(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!te(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!te(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=re(e),i=ne(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var c=(u-a)/(i-r),l=0;l<e.length;l++)t[l]=(e[l]-r)*c+a;return t}var oe=" ".repeat(2),ae=" ".repeat(4);function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,i=t.maxColumns,o=void 0===i?10:i,a=t.maxNumSize,s=void 0===a?8:a;return"".concat(e.constructor.name," {\n").concat(oe,"[\n").concat(ae).concat(ue(e,r,o,s),"\n").concat(oe,"]\n").concat(oe,"rows: ").concat(e.rows,"\n").concat(oe,"columns: ").concat(e.columns,"\n}")}function ue(e,t,n,r){for(var i=e.rows,o=e.columns,a=Math.min(i,t),s=Math.min(o,n),u=[],c=0;c<a;c++){for(var l=[],f=0;f<s;f++)l.push(ce(e.get(c,f),r));u.push("".concat(l.join(" ")))}return s!==o&&(u[u.length-1]+=" ... ".concat(o-n," more columns")),a!==i&&u.push("... ".concat(i-t," more rows")),u.join("\n".concat(ae))}function ce(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var i=e.toExponential(t-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,t-a.length)+a}function le(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function fe(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function he(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function de(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function pe(e,t){if("object"!==typeof t)throw new TypeError("unexpected type for row indices");if(t.some((function(t){return t<0||t>=e.rows})))throw new RangeError("row indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function me(e,t){if("object"!==typeof t)throw new TypeError("unexpected type for column indices");if(t.some((function(t){return t<0||t>=e.columns})))throw new RangeError("column indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function Ee(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(ge("startRow",t),ge("endRow",n),ge("startColumn",r),ge("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function ve(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function ge(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function ye(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function be(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<r;a++){for(var s=0,u=0,c=0,l=0;l<i;l++)s+=c=e.get(a,l)-n[a],u+=c*c;t?o.push((u-s*s/i)/(i-1)):o.push((u-s*s/i)/i)}return o}function Se(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<i;a++){for(var s=0,u=0,c=0,l=0;l<r;l++)s+=c=e.get(l,a)-n[a],u+=c*c;t?o.push((u-s*s/r)/(r-1)):o.push((u-s*s/r)/r)}return o}function Te(e,t,n){for(var r=e.rows,i=e.columns,o=r*i,a=0,s=0,u=0,c=0;c<r;c++)for(var l=0;l<i;l++)a+=u=e.get(c,l)-n,s+=u*u;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}function xe(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function Oe(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function Re(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function Ae(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function _e(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function Ne(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function Ce(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function Le(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function Ie(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}var we=function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var o=t+1;o<this.rows;o++)0!==this.get(e,o)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var o=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/o);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var c=n+1;c<e.columns;c++)e.set(s,c,e.get(s,c)-e.get(t,c)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var s=e.get(a,i),u=i;u<t;u++){var c=e.get(a,u)-s*e.get(r,u);e.set(a,u,c)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var o=new ke(this.rows*n,this.columns*i),a=0;a<n;a++)for(var s=0;s<i;s++)o.setSubMatrix(this,this.rows*a,this.columns*s);return o}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){le(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return ke.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){le(this,e),t=he(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){le(this,e),le(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){fe(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return ke.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){fe(this,e),t=de(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){fe(this,e),fe(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=he(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=he(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=he(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=he(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=de(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=de(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=de(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=de(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){le(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){fe(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){ye(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){ye(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(le(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){le(this,e),ye(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(le(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){le(this,e),ye(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(fe(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){fe(this,e),ye(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(fe(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){fe(this,e),ye(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=ke.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new ke(t,r),o=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)o[s]=e.get(s,a);for(var u=0;u<t;u++){for(var c=0,l=0;l<n;l++)c+=this.get(u,l)*o[l];i.set(u,a,c)}}return i}},{key:"strassen2x2",value:function(e){e=ke.checkMatrix(e);var t=new ke(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),u=this.get(1,1),c=e.get(1,1),l=(n+u)*(r+c),f=(a+u)*r,h=n*(o-c),d=u*(s-r),p=(n+i)*c,m=l+d-p+(i-u)*(s+c),E=h+p,v=f+d,g=l-f+h+(a-n)*(r+o);return t.set(0,0,m),t.set(0,1,E),t.set(1,0,v),t.set(1,1,g),t}},{key:"strassen3x3",value:function(e){e=ke.checkMatrix(e);var t=new ke(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=e.get(0,0),h=e.get(0,1),d=e.get(0,2),p=e.get(1,0),m=e.get(1,1),E=e.get(1,2),v=e.get(2,0),g=e.get(2,1),y=e.get(2,2),b=(n-o)*(-h+m),S=(-n+o+a)*(f-h+m),T=(o+a)*(-f+h),x=n*f,O=(-n+u+c)*(f-d+E),R=(-n+u)*(d-E),A=(u+c)*(-f+d),_=(-i+c+l)*(m+v-g),N=(i-l)*(m-g),C=i*v,L=(c+l)*(-v+g),I=(-i+a+s)*(E+v-y),w=(i-s)*(E-y),M=(a+s)*(-v+y),j=x+C+r*p,P=(n+r+i-o-a-c-l)*m+S+T+x+_+C+L,k=x+O+A+(n+r+i-a-s-u-c)*E+C+I+M,D=b+a*(-f+h+p-m-E-v+y)+S+x+C+I+w,U=b+S+T+x+s*g,F=C+I+w+M+o*d,B=x+O+R+c*(-f+d+p-m-E-v+g)+_+N+C,G=_+N+C+L+u*h,V=x+O+R+A+l*y;return t.set(0,0,j),t.set(0,1,P),t.set(0,2,k),t.set(1,0,D),t.set(1,1,U),t.set(1,2,F),t.set(2,0,B),t.set(2,1,G),t.set(2,2,V),t}},{key:"mmulStrassen",value:function(t){t=ke.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,o=t.rows,a=t.columns;function s(t,n,r){var i=t.rows,o=t.columns;if(i===n&&o===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}var u=Math.max(r,o),c=Math.max(i,a);return function t(n,r,i,o){if(i<=512||o<=512)return n.mmul(r);i%2===1&&o%2===1?(n=s(n,i+1,o+1),r=s(r,i+1,o+1)):i%2===1?(n=s(n,i+1,o),r=s(r,i+1,o)):o%2===1&&(n=s(n,i,o+1),r=s(r,i,o+1));var a=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,u-1),l=r.subMatrix(0,a-1,0,u-1),f=n.subMatrix(0,a-1,u,n.columns-1),h=r.subMatrix(0,a-1,u,r.columns-1),d=n.subMatrix(a,n.rows-1,0,u-1),p=r.subMatrix(a,r.rows-1,0,u-1),m=n.subMatrix(a,n.rows-1,u,n.columns-1),E=r.subMatrix(a,r.rows-1,u,r.columns-1),v=t(e.add(c,m),e.add(l,E),a,u),g=t(e.add(d,m),l,a,u),y=t(c,e.sub(h,E),a,u),b=t(m,e.sub(p,l),a,u),S=t(e.add(c,f),E,a,u),T=t(e.sub(d,c),e.add(l,h),a,u),x=t(e.sub(f,m),e.add(p,E),a,u),O=e.add(v,b);O.sub(S),O.add(x);var R=e.add(y,S),A=e.add(g,b),_=e.sub(v,g);_.add(y),_.add(T);var N=e.zeros(2*O.rows,2*O.columns);return(N=(N=(N=(N=N.setSubMatrix(O,0,0)).setSubMatrix(R,O.rows,0)).setSubMatrix(A,0,O.columns)).setSubMatrix(_,O.rows,O.columns)).subMatrix(0,i-1,0,o-1)}(n=s(n,u,c),t=s(t,u,c),u,c)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new ke(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);s.length>0&&ie(s,{min:n,max:i,output:s}),o.setRow(a,s)}return o}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new ke(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);s.length&&ie(s,{min:n,max:i,output:s}),o.setColumn(a,s)}return o}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=ke.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new ke(t*r,n*i),a=0;a<t;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var c=0;c<i;c++)o.set(r*a+u,i*s+c,this.get(a,s)*e.get(u,c));return o}},{key:"kroneckerSum",value:function(e){if(e=ke.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(ke.eye(n,n)),i=ke.eye(t,t).kroneckerProduct(e);return r.add(i)}},{key:"transpose",value:function(){for(var e=new ke(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){Ee(this,e,t,n,r);for(var i=new ke(t-e+1,r-n+1),o=e;o<=t;o++)for(var a=n;a<=r;a++)i.set(o-e,a-n,this.get(o,a));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new ke(e.length,n-t+1),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,o-t,this.get(e[i],o))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new ke(n-t+1,e.length),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(o-t,i,this.get(o,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=ke.checkMatrix(e)).isEmpty())return this;Ee(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){for(var n=function(e,t,n){return{row:pe(e,t),column:me(e,n)}}(this,e,t),r=new ke(e.length,t.length),i=0;i<n.row.length;i++)for(var o=n.row[i],a=0;a<n.column.length;a++){var s=n.column[a];r.set(i,a,this.get(o,s))}return r}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new ke(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=ve(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=ve(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=ve(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=ve(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,o=n.mean,a=void 0===o?this.mean(e):o;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!Array.isArray(a))throw new TypeError("mean must be an array");return be(this,i,a);case"column":if(!Array.isArray(a))throw new TypeError("mean must be an array");return Se(this,i,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return Te(this,i,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,i=void 0===r?this.mean(e):r;switch(e){case"row":if(!Array.isArray(i))throw new TypeError("center must be an array");return xe(this,i),this;case"column":if(!Array.isArray(i))throw new TypeError("center must be an array");return Oe(this,i),this;case void 0:if("number"!==typeof i)throw new TypeError("center must be a number");return Re(this,i),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=Ae(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return _e(this,n),this;case"column":if(void 0===n)n=Ne(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return Ce(this,n),this;case void 0:if(void 0===n)n=Le(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return Ie(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return se(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new ke(e,t),i=0;i<e;i++)for(var o=0;o<t;o++)r.set(i,o,n[i*t+o]);return r}},{key:"rowVector",value:function(e){for(var t=new ke(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new ke(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new ke(e,t)}},{key:"ones",value:function(e,t){return new ke(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,o=new ke(e,t),a=0;a<e;a++)for(var s=0;s<t;s++)o.set(a,s,i());return o}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");for(var c=a-i,l=new ke(e,t),f=0;f<e;f++)for(var h=0;h<t;h++){var d=i+Math.round(u()*c);l.set(f,h,d)}return l}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),o=0;o<r;o++)i.set(o,o,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),o=this.zeros(t,n),a=0;a<i;a++)o.set(a,a,e[a]);return o}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new ke(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(e.get(o,a),t.get(o,a)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(e.get(o,a),t.get(o,a)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new ke(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function Me(e,t){return e-t}we.prototype.klass="Matrix","undefined"!==typeof Symbol&&(we.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return se(this)}),we.random=we.rand,we.randomInt=we.randInt,we.diagonal=we.diag,we.prototype.diagonal=we.prototype.diag,we.identity=we.eye,we.prototype.negate=we.prototype.neg,we.prototype.tensorProduct=we.prototype.kroneckerProduct;var je,Pe,ke=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,i){var o;if(Object(r.a)(this,n),o=t.call(this),n.isMatrix(e))return Object($.a)(o,e.clone());if(Number.isInteger(e)&&e>=0){if(o.data=[],!(Number.isInteger(i)&&i>=0))throw new TypeError("nColumns must be a positive integer");for(var a=0;a<e;a++)o.data.push(new Float64Array(i))}else{if(!Array.isArray(e))throw new TypeError("First argument must be a positive number or an array");var s=e;if("number"!==typeof(i=(e=s.length)?s[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var u=0;u<e;u++){if(s[u].length!==i)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(s[u]))}}return o.rows=e,o.columns=i,o}return Object(s.a)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return le(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),le(this,e,!0),t=Float64Array.from(he(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){fe(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),fe(this,e,!0),t=de(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),n}(we);Pe=ke,(je=we).prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},je.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},je.prototype.addM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e.get(t,n));return this},je.add=function(e,t){return new Pe(e).add(t)},je.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},je.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},je.prototype.subM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e.get(t,n));return this},je.sub=function(e,t){return new Pe(e).sub(t)},je.prototype.subtract=je.prototype.sub,je.prototype.subtractS=je.prototype.subS,je.prototype.subtractM=je.prototype.subM,je.subtract=je.sub,je.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},je.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},je.prototype.mulM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e.get(t,n));return this},je.mul=function(e,t){return new Pe(e).mul(t)},je.prototype.multiply=je.prototype.mul,je.prototype.multiplyS=je.prototype.mulS,je.prototype.multiplyM=je.prototype.mulM,je.multiply=je.mul,je.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},je.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},je.prototype.divM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e.get(t,n));return this},je.div=function(e,t){return new Pe(e).div(t)},je.prototype.divide=je.prototype.div,je.prototype.divideS=je.prototype.divS,je.prototype.divideM=je.prototype.divM,je.divide=je.div,je.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},je.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},je.prototype.modM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e.get(t,n));return this},je.mod=function(e,t){return new Pe(e).mod(t)},je.prototype.modulus=je.prototype.mod,je.prototype.modulusS=je.prototype.modS,je.prototype.modulusM=je.prototype.modM,je.modulus=je.mod,je.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},je.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},je.prototype.andM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e.get(t,n));return this},je.and=function(e,t){return new Pe(e).and(t)},je.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},je.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},je.prototype.orM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e.get(t,n));return this},je.or=function(e,t){return new Pe(e).or(t)},je.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},je.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},je.prototype.xorM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e.get(t,n));return this},je.xor=function(e,t){return new Pe(e).xor(t)},je.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},je.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},je.prototype.leftShiftM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e.get(t,n));return this},je.leftShift=function(e,t){return new Pe(e).leftShift(t)},je.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},je.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},je.prototype.signPropagatingRightShiftM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e.get(t,n));return this},je.signPropagatingRightShift=function(e,t){return new Pe(e).signPropagatingRightShift(t)},je.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},je.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},je.prototype.rightShiftM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e.get(t,n));return this},je.rightShift=function(e,t){return new Pe(e).rightShift(t)},je.prototype.zeroFillRightShift=je.prototype.rightShift,je.prototype.zeroFillRightShiftS=je.prototype.rightShiftS,je.prototype.zeroFillRightShiftM=je.prototype.rightShiftM,je.zeroFillRightShift=je.rightShift,je.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},je.not=function(e){return new Pe(e).not()},je.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},je.abs=function(e){return new Pe(e).abs()},je.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},je.acos=function(e){return new Pe(e).acos()},je.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},je.acosh=function(e){return new Pe(e).acosh()},je.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},je.asin=function(e){return new Pe(e).asin()},je.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},je.asinh=function(e){return new Pe(e).asinh()},je.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},je.atan=function(e){return new Pe(e).atan()},je.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},je.atanh=function(e){return new Pe(e).atanh()},je.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},je.cbrt=function(e){return new Pe(e).cbrt()},je.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},je.ceil=function(e){return new Pe(e).ceil()},je.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},je.clz32=function(e){return new Pe(e).clz32()},je.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},je.cos=function(e){return new Pe(e).cos()},je.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},je.cosh=function(e){return new Pe(e).cosh()},je.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},je.exp=function(e){return new Pe(e).exp()},je.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},je.expm1=function(e){return new Pe(e).expm1()},je.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},je.floor=function(e){return new Pe(e).floor()},je.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},je.fround=function(e){return new Pe(e).fround()},je.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},je.log=function(e){return new Pe(e).log()},je.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},je.log1p=function(e){return new Pe(e).log1p()},je.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},je.log10=function(e){return new Pe(e).log10()},je.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},je.log2=function(e){return new Pe(e).log2()},je.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},je.round=function(e){return new Pe(e).round()},je.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},je.sign=function(e){return new Pe(e).sign()},je.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},je.sin=function(e){return new Pe(e).sin()},je.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},je.sinh=function(e){return new Pe(e).sinh()},je.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},je.sqrt=function(e){return new Pe(e).sqrt()},je.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},je.tan=function(e){return new Pe(e).tan()},je.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},je.tanh=function(e){return new Pe(e).tanh()},je.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},je.trunc=function(e){return new Pe(e).trunc()},je.pow=function(e,t){return new Pe(e).pow(t)},je.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},je.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},je.prototype.powM=function(e){if(e=Pe.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e.get(t,n)));return this};n(49);var De=n(562),Ue=n.n(De),Fe=n(244),Be=n.n(Fe),Ge=n(245),Ve=n.n(Ge),He=n(563),ze=n.n(He),We=(n(564),n(534)),Ye=n(558),Xe=n(530);function qe(e){return"number"===typeof e}function Ke(e){return void 0===e?0:e>360||e<-360?e%360:e}function Qe(e,t,n){return qe(e)?Ye.e.fromValues(e,t,n):3===e.length?Ye.e.clone(e):Ye.e.fromValues(e[0],e[1],e[2])}var Je,Ze,$e,et,tt,nt,rt,it,ot,at,st=function(){function e(t,n){Be()(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=Ye.b.clone(n.matrix),this.right=Ye.e.clone(n.right),this.up=Ye.e.clone(n.up),this.forward=Ye.e.clone(n.forward),this.position=Ye.e.clone(n.position),this.focalPoint=Ye.e.clone(n.focalPoint),this.distanceVector=Ye.e.clone(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return Ve()(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=Ye.b.copy(e.matrix,this.matrix),e.right=Ye.e.copy(e.right,this.right),e.up=Ye.e.copy(e.up,this.up),e.forward=Ye.e.copy(e.forward,this.forward),e.position=Ye.e.copy(e.position,this.position),e.focalPoint=Ye.e.copy(e.focalPoint,this.focalPoint),e.distanceVector=Ye.e.copy(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),e}();!function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"}(it||(it={})),function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"}(ot||(ot={})),function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"}(at||(at={}));var ut,ct,lt,ft,ht,dt,pt,mt=Math.PI/180,Et=180/Math.PI,vt=(Je=Object(Xe.injectable)(),Ze=Object(Xe.inject)(We.IDENTIFIER.InteractorService),Je((rt=nt=function(){function e(){Be()(this,e),this.matrix=Ye.b.create(),this.right=Ye.e.fromValues(1,0,0),this.up=Ye.e.fromValues(0,1,0),this.forward=Ye.e.fromValues(0,0,1),this.position=Ye.e.fromValues(0,0,1),this.focalPoint=Ye.e.fromValues(0,0,0),this.distanceVector=Ye.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,Ue()(this,"interactor",tt,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Ye.b.create(),this.view=void 0,this.following=void 0,this.type=it.EXPLORING,this.trackingMode=ot.DEFAULT,this.projectionMode=at.PERSPECTIVE,this.frustum=new We.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return Ve()(e,[{key:"clone",value:function(){var t=new e;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,t){return this.type=e,this.type===it.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===it.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==it.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return Ye.b.invert(Ye.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===at.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===at.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,t,n,r){return this.projectionMode=at.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r,Ye.b.perspective(this.perspective,this.fov*mt,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){this.projectionMode=at.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,l=u-a,f=u+a,h=c+s,d=c-s;if(void 0!==this.view&&this.view.enabled){var p=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(l+=p*this.view.offsetX)+p*this.view.width,d=(h-=m*this.view.offsetY)-m*this.view.height}return Ye.b.ortho(this.perspective,l,f,h,d,i,o),this}},{key:"setPosition",value:function(e,t,n){return this._setPosition(e,t,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,t,n){var r=Ye.e.fromValues(0,1,0);if(this.focalPoint=Qe(e,t,n),this.trackingMode===ot.CINEMATIC){var i=Ye.e.subtract(Ye.e.create(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=Ye.e.length(i),a=Math.asin(t/o)*Et,s=90+Math.atan2(n,e)*Et,u=Ye.b.create();Ye.b.rotateY(u,u,s*mt),Ye.b.rotateX(u,u,a*mt),r=Ye.e.transformMat4(Ye.e.create(),[0,1,0],u)}return Ye.b.invert(this.matrix,Ye.b.lookAt(Ye.b.create(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=Ye.e.create();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=Ke(e),this.computeMatrix(),this._getAxes(),this.type===it.ORBITING||this.type===it.EXPLORING?this._getPosition():this.type===it.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Ke(e),this.computeMatrix(),this._getAxes(),this.type===it.ORBITING||this.type===it.EXPLORING?this._getPosition():this.type===it.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=Ke(e),this.computeMatrix(),this._getAxes(),this.type===it.ORBITING||this.type===it.EXPLORING?this._getPosition():this.type===it.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,t,n){if(this.type===it.EXPLORING){e=Ke(e),t=Ke(t),n=Ke(n);var r=Ye.c.setAxisAngle(Ye.c.create(),[1,0,0],(this.rotateWorld?1:-1)*t*mt),i=Ye.c.setAxisAngle(Ye.c.create(),[0,1,0],(this.rotateWorld?1:-1)*e*mt),o=Ye.c.setAxisAngle(Ye.c.create(),[0,0,1],n*mt),a=Ye.c.multiply(Ye.c.create(),i,r);a=Ye.c.multiply(Ye.c.create(),a,o);var s=Ye.b.fromQuat(Ye.b.create(),a);Ye.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),Ye.b.multiply(this.matrix,this.matrix,s),Ye.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+t)>90)return;this.relElevation=Ke(t),this.relAzimuth=Ke(e),this.relRoll=Ke(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===it.ORBITING||this.type===it.EXPLORING?this._getPosition():this.type===it.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=Qe(e,t,0),r=Ye.e.clone(this.position);return Ye.e.add(r,r,Ye.e.scale(Ye.e.create(),this.right,n[0])),Ye.e.add(r,r,Ye.e.scale(Ye.e.create(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(e){var t=this.forward,n=Ye.e.clone(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===it.ORBITING||this.type===it.EXPLORING?this._getDistance():this.type===it.TRACKING&&Ye.e.add(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(e,t){var n=this.clone();n.setPosition(t.position),n.setFocalPoint(t.focalPoint),void 0!==t.roll&&n.setRoll(t.roll);var r=new st(e,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(e){var t=new st(e,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(t){return t.name===e}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var i,o=r.getPosition(),a=r.getFocalPoint(),s=r.getRoll(),u=function e(r){void 0===i&&(i=r);var u,c=r-i,l=(1-Math.cos(c/n*Math.PI))/2,f=Ye.e.create(),h=Ye.e.create();if(Ye.e.lerp(f,t.focalPoint,a,l),Ye.e.lerp(h,t.position,o,l),u=t.roll*(1-l)+s*l,t.setFocalPoint(f),t.setPosition(h),t.setRoll(u),t.computeMatrix(),!(Ye.e.dist(f,a)+Ye.e.dist(h,o)>.01))return t.setFocalPoint(f),t.setPosition(h),t.setRoll(u),t.computeMatrix(),void t.interactor.connect();c<n&&(t.landmarkAnimationID=window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,t,n=Ye.c.setAxisAngle(Ye.c.create(),[0,0,1],this.roll*mt);Ye.b.identity(this.matrix),e=Ye.c.setAxisAngle(Ye.c.create(),[1,0,0],(this.rotateWorld&&this.type!==it.TRACKING||this.type===it.TRACKING?1:-1)*this.elevation*mt),t=Ye.c.setAxisAngle(Ye.c.create(),[0,1,0],(this.rotateWorld&&this.type!==it.TRACKING||this.type===it.TRACKING?1:-1)*this.azimuth*mt);var r=Ye.c.multiply(Ye.c.create(),t,e);r=Ye.c.multiply(Ye.c.create(),r,n);var i=Ye.b.fromQuat(Ye.b.create(),r);this.type===it.ORBITING||this.type===it.EXPLORING?(Ye.b.translate(this.matrix,this.matrix,this.focalPoint),Ye.b.multiply(this.matrix,this.matrix,i),Ye.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===it.TRACKING&&(Ye.b.translate(this.matrix,this.matrix,this.position),Ye.b.multiply(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=Qe(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){Ye.e.copy(this.right,Qe(Ye.f.transformMat4(Ye.f.create(),[1,0,0,0],this.matrix))),Ye.e.copy(this.up,Qe(Ye.f.transformMat4(Ye.f.create(),[0,1,0,0],this.matrix))),Ye.e.copy(this.forward,Qe(Ye.f.transformMat4(Ye.f.create(),[0,0,1,0],this.matrix))),Ye.e.normalize(this.right,this.right),Ye.e.normalize(this.up,this.up),Ye.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=Ye.e.length(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===it.TRACKING||this.rotateWorld?(this.elevation=Math.asin(t/r)*Et,this.azimuth=Math.atan2(-e,-n)*Et):(this.elevation=-Math.asin(t/r)*Et,this.azimuth=-Math.atan2(-e,-n)*Et)}},{key:"_getPosition",value:function(){Ye.e.copy(this.position,Qe(Ye.f.transformMat4(Ye.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Ye.e.transformMat3(this.distanceVector,[0,0,-this.distance],Ye.a.fromMat4(Ye.a.create(),this.matrix)),Ye.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Ye.e.subtract(Ye.e.create(),this.focalPoint,this.position),this.distance=Ye.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),nt.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},et=rt,tt=ze()(et.prototype,"interactor",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=et))||$e),gt=(ut=Object(Xe.injectable)(),ct=Object(Xe.inject)(We.IDENTIFIER.GeometryComponentManager),ut((pt=dt=function(){function e(){Be()(this,e),this.config=void 0,Ue()(this,"geometry",ht,this),this.entity=void 0,this.component=void 0}return Ve()(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),dt.BOX="box",dt.SPHERE="sphere",dt.PLANE="plane",dt.MERGED="merged",ft=pt,ht=ze()(ft.prototype,"geometry",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=ft))||lt),yt=n(587),bt=n.n(yt),St=n(588),Tt=n.n(St),xt=n(250),Ot=n.n(xt),Rt=n(725);function At(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var _t={}.toString,Nt=function(e,t){return _t.call(e)==="[object "+t+"]"},Ct=n(252),Lt=n.n(Ct),It=9007199254740991,wt={};wt["[object Float32Array]"]=wt["[object Float64Array]"]=wt["[object Int8Array]"]=wt["[object Int16Array]"]=wt["[object Int32Array]"]=wt["[object Uint8Array]"]=wt["[object Uint8ClampedArray]"]=wt["[object Uint16Array]"]=wt["[object Uint32Array]"]=!0,wt["[object Arguments]"]=wt["[object Array]"]=wt["[object ArrayBuffer]"]=wt["[object Boolean]"]=wt["[object DataView]"]=wt["[object Date]"]=wt["[object Error]"]=wt["[object Function]"]=wt["[object Map]"]=wt["[object Number]"]=wt["[object Object]"]=wt["[object RegExp]"]=wt["[object Set]"]=wt["[object String]"]=wt["[object WeakMap]"]=!1;var Mt=Object.prototype.toString;var jt,Pt,kt,Dt,Ut,Ft,Bt,Gt,Vt=function(e){return function(e){return!!e&&"object"===Lt()(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=It}(e.length)&&!!wt[Mt.call(e)]};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Ot()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt,Yt,Xt,qt,Kt,Qt,Jt,Zt,$t,en,tn,nn,rn,on,an,sn,un,cn,ln,fn,hn,dn,pn,mn,En,vn,gn,yn,bn,Sn,Tn,xn,On,Rn,An,_n=(jt=Object(Xe.injectable)(),Pt=Object(Xe.inject)(We.IDENTIFIER.RenderEngine),kt=Object(Xe.inject)(We.IDENTIFIER.ConfigService),jt((Gt=function(){function e(){Be()(this,e),Ue()(this,"engine",Ft,this),Ue()(this,"configService",Bt,this),this.entity=Object(We.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return Ve()(e,[{key:"init",value:function(){var e=this.configService.get(),t=e.canvas,n=e.engineOptions;this.initPromise=this.engine.init(zt({canvas:t||At(),swapChainFormat:Rt.TextureFormat.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,t){var n,r=this;if("string"===typeof e){var i=qe(t)||Vt(t)||(n=t,Array.isArray?Array.isArray(n):Nt(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find((function(t){return t.name===e}));if(o)return o.value=t,this;var a=this.compiledBundle.context.uniforms.find((function(t){return t.name===e}));a&&(i?(a.data=t,a.isReferer=!1,a.storageClass===We.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(a.isReferer=!0,a.data=t))}}else Object.keys(e).forEach((function(t){r.setBinding(t,e[t])}));return this}},{key:"execute",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r=this,i=arguments;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){e.next=6;break}return this.compiledBundle.context&&(t>1?this.compiledBundle.context.maxIteration=t:this.compiledBundle.context.maxIteration++),e.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(e){return e.isReferer})).forEach((function(e){var t=e.data,n=e.name;r.model.confirmInput(t.model,n)})),n=0;n<t;n++)this.model.run();return this.engine.endFrame(),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOutput",value:function(){var e=Tt()(bt.a.mark((function e(){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.readData());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"compile",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:return t=zt({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?We.Target.WGSL:We.Target.GLSL450:We.Target.GLSL100,r=this.compiledBundle.shaders[n],t.defines.filter((function(e){return e.runtime})).forEach((function(e){var t="".concat(We.DefineValuePlaceholder).concat(e.name);r=r.replace(t,"".concat(e.value))})),t.shader=r,t.uniforms.forEach((function(e){if(!e.data&&e.storageClass===We.STORAGE_CLASS.StorageBuffer){var n=1;e.type===We.AST_TOKEN_TYPES.FloatArray?n=1:e.type===We.AST_TOKEN_TYPES.Vector4FloatArray&&(n=4),e.data=new Float32Array(t.output.length*n).fill(0)}})),this.compiledBundle.context=t,e.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=e.sent;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ut=Gt,Ft=ze()(Ut.prototype,"engine",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=ze()(Ut.prototype,"configService",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Ut))||Dt),Nn=(Wt=Object(Xe.injectable)(),Yt=Object(Xe.inject)(We.IDENTIFIER.MaterialComponentManager),Wt((Jt=Qt=function(){function e(){Be()(this,e),this.config=void 0,Ue()(this,"material",Kt,this),this.entity=void 0,this.component=void 0}return Ve()(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,t){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Qt.BASIC="basic",qt=Jt,Kt=ze()(qt.prototype,"material",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=qt))||Xt),Cn=(Zt=Object(Xe.injectable)(),$t=Object(Xe.inject)(We.IDENTIFIER.MeshComponentManager),en=Object(Xe.inject)(We.IDENTIFIER.CullableComponentManager),tn=Object(Xe.inject)(We.IDENTIFIER.TransformComponentManager),nn=Object(Xe.inject)(We.IDENTIFIER.Systems),rn=Object(Xe.named)(We.IDENTIFIER.SceneGraphSystem),Zt((hn=fn=function(){function e(){Be()(this,e),this.attributes={},this.config=void 0,Ue()(this,"mesh",sn,this),Ue()(this,"cullable",un,this),Ue()(this,"transform",cn,this),Ue()(this,"sceneGraphSystem",ln,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return Ve()(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&e[n]!==t.attributes[n]&&(t.onAttributeChanged({name:n,data:e[n]}),t.attributes[n]=e[n])}))}},{key:"setVisible",value:function(e){var t=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach((function(n){var r=t.mesh.getComponentByEntity(n);r&&(r.visible=e)})),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(t),n)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),e}(),fn.POINT="point",fn.LINE="line",fn.GRID="grid",an=hn,sn=ze()(an.prototype,"mesh",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un=ze()(an.prototype,"cullable",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=ze()(an.prototype,"transform",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln=ze()(an.prototype,"sceneGraphSystem",[nn,rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=an))||on),Ln=n(2676),In=n.n(Ln),wn=function(){function e(t,n){Be()(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,o=n.stride,a=n.normalized,s=n.size,u=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:a||!1,divisor:u||0},s&&(this.attribute.size=s)}return Ve()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Mn=(dn={},Ot()(dn,We.gl.POINTS,"points"),Ot()(dn,We.gl.LINES,"lines"),Ot()(dn,We.gl.LINE_LOOP,"line loop"),Ot()(dn,We.gl.LINE_STRIP,"line strip"),Ot()(dn,We.gl.TRIANGLES,"triangles"),Ot()(dn,We.gl.TRIANGLE_FAN,"triangle fan"),Ot()(dn,We.gl.TRIANGLE_STRIP,"triangle strip"),dn),jn=(pn={},Ot()(pn,We.gl.STATIC_DRAW,"static"),Ot()(pn,We.gl.DYNAMIC_DRAW,"dynamic"),Ot()(pn,We.gl.STREAM_DRAW,"stream"),pn),Pn=(mn={},Ot()(mn,We.gl.BYTE,"int8"),Ot()(mn,We.gl.UNSIGNED_INT,"int16"),Ot()(mn,We.gl.INT,"int32"),Ot()(mn,We.gl.UNSIGNED_BYTE,"uint8"),Ot()(mn,We.gl.UNSIGNED_SHORT,"uint16"),Ot()(mn,We.gl.UNSIGNED_INT,"uint32"),Ot()(mn,We.gl.FLOAT,"float"),mn),kn=(En={},Ot()(En,We.gl.ALPHA,"alpha"),Ot()(En,We.gl.LUMINANCE,"luminance"),Ot()(En,We.gl.LUMINANCE_ALPHA,"luminance alpha"),Ot()(En,We.gl.RGB,"rgb"),Ot()(En,We.gl.RGBA,"rgba"),Ot()(En,We.gl.RGBA4,"rgba4"),Ot()(En,We.gl.RGB5_A1,"rgb5 a1"),Ot()(En,We.gl.RGB565,"rgb565"),Ot()(En,We.gl.DEPTH_COMPONENT,"depth"),Ot()(En,We.gl.DEPTH_STENCIL,"depth stencil"),En),Dn=(vn={},Ot()(vn,We.gl.DONT_CARE,"dont care"),Ot()(vn,We.gl.NICEST,"nice"),Ot()(vn,We.gl.FASTEST,"fast"),vn),Un=(gn={},Ot()(gn,We.gl.NEAREST,"nearest"),Ot()(gn,We.gl.LINEAR,"linear"),Ot()(gn,We.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),Ot()(gn,We.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Ot()(gn,We.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Ot()(gn,We.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),gn),Fn=(yn={},Ot()(yn,We.gl.REPEAT,"repeat"),Ot()(yn,We.gl.CLAMP_TO_EDGE,"clamp"),Ot()(yn,We.gl.MIRRORED_REPEAT,"mirror"),yn),Bn=(bn={},Ot()(bn,We.gl.NONE,"none"),Ot()(bn,We.gl.BROWSER_DEFAULT_WEBGL,"browser"),bn),Gn=(Sn={},Ot()(Sn,We.gl.NEVER,"never"),Ot()(Sn,We.gl.ALWAYS,"always"),Ot()(Sn,We.gl.LESS,"less"),Ot()(Sn,We.gl.LEQUAL,"lequal"),Ot()(Sn,We.gl.GREATER,"greater"),Ot()(Sn,We.gl.GEQUAL,"gequal"),Ot()(Sn,We.gl.EQUAL,"equal"),Ot()(Sn,We.gl.NOTEQUAL,"notequal"),Sn),Vn=(Tn={},Ot()(Tn,We.gl.FUNC_ADD,"add"),Ot()(Tn,We.gl.MIN_EXT,"min"),Ot()(Tn,We.gl.MAX_EXT,"max"),Ot()(Tn,We.gl.FUNC_SUBTRACT,"subtract"),Ot()(Tn,We.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Tn),Hn=(xn={},Ot()(xn,We.gl.ZERO,"zero"),Ot()(xn,We.gl.ONE,"one"),Ot()(xn,We.gl.SRC_COLOR,"src color"),Ot()(xn,We.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),Ot()(xn,We.gl.SRC_ALPHA,"src alpha"),Ot()(xn,We.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Ot()(xn,We.gl.DST_COLOR,"dst color"),Ot()(xn,We.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),Ot()(xn,We.gl.DST_ALPHA,"dst alpha"),Ot()(xn,We.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Ot()(xn,We.gl.CONSTANT_COLOR,"constant color"),Ot()(xn,We.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Ot()(xn,We.gl.CONSTANT_ALPHA,"constant alpha"),Ot()(xn,We.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Ot()(xn,We.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),xn),zn=(On={},Ot()(On,We.gl.NEVER,"never"),Ot()(On,We.gl.ALWAYS,"always"),Ot()(On,We.gl.LESS,"less"),Ot()(On,We.gl.LEQUAL,"lequal"),Ot()(On,We.gl.GREATER,"greater"),Ot()(On,We.gl.GEQUAL,"gequal"),Ot()(On,We.gl.EQUAL,"equal"),Ot()(On,We.gl.NOTEQUAL,"notequal"),On),Wn=(Rn={},Ot()(Rn,We.gl.ZERO,"zero"),Ot()(Rn,We.gl.KEEP,"keep"),Ot()(Rn,We.gl.REPLACE,"replace"),Ot()(Rn,We.gl.INVERT,"invert"),Ot()(Rn,We.gl.INCR,"increment"),Ot()(Rn,We.gl.DECR,"decrement"),Ot()(Rn,We.gl.INCR_WRAP,"increment wrap"),Ot()(Rn,We.gl.DECR_WRAP,"decrement wrap"),Rn),Yn=(An={},Ot()(An,We.gl.FRONT,"front"),Ot()(An,We.gl.BACK,"back"),An),Xn=function(){function e(t,n){Be()(this,e),this.buffer=void 0;var r=n.data,i=n.usage,o=n.type;this.buffer=t.buffer({data:r,usage:jn[i||We.gl.STATIC_DRAW],type:Pn[o||We.gl.UNSIGNED_BYTE]})}return Ve()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),qn=n(779),Kn=n.n(qn),Qn=9007199254740991,Jn={};Jn["[object Float32Array]"]=Jn["[object Float64Array]"]=Jn["[object Int8Array]"]=Jn["[object Int16Array]"]=Jn["[object Int32Array]"]=Jn["[object Uint8Array]"]=Jn["[object Uint8ClampedArray]"]=Jn["[object Uint16Array]"]=Jn["[object Uint32Array]"]=!0,Jn["[object Arguments]"]=Jn["[object Array]"]=Jn["[object ArrayBuffer]"]=Jn["[object Boolean]"]=Jn["[object DataView]"]=Jn["[object Date]"]=Jn["[object Error]"]=Jn["[object Function]"]=Jn["[object Map]"]=Jn["[object Number]"]=Jn["[object Object]"]=Jn["[object RegExp]"]=Jn["[object Set]"]=Jn["[object String]"]=Jn["[object WeakMap]"]=!1;var Zn=Object.prototype.toString;var $n=function(e){return function(e){return!!e&&"object"===Lt()(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=Qn}(e.length)&&!!Jn[Zn.call(e)]};function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){Ot()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nr=0,rr=function(){function e(t,n){var r=this;Be()(this,e),this.reGl=t,this.context=n,this.entity=Object(We.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach((function(e){var t=e.name,n=e.type,o=e.data,a=e.isReferer,s=e.storageClass;if(s===We.STORAGE_CLASS.StorageBuffer){if(a)r.textureCache[t]={data:void 0},i["".concat(t,"Size")]=function(){return o.compiledBundle.context.output.textureSize};else{r.textureCache[t]=r.calcDataTexture(t,n,o);var u=r.textureCache[t],c=u.textureWidth,l=u.isOutput;i["".concat(t,"Size")]=[c,c],l&&(r.outputTextureName=t,r.context.needPingpong&&(r.outputTextureName="".concat(t,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(t,n,o)))}i[t]=function(){return r.textureCache[t].texture}}else if(s===We.STORAGE_CLASS.Uniform){if(o&&(Array.isArray(o)||$n(o))&&o.length>16)throw new Error("invalid data type ".concat(n));i[t]=function(){return e.data}}}));var o=this.getOuputDataTexture(),a=o.textureWidth,s=o.texelCount;i.u_OutputTextureSize=[a,a],i.u_OutputTexelCount=s,this.context.output.textureSize=[a,a];var u={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:i,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(u)}return Ve()(e,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){e.computeCommand()}))}},{key:"readData",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r,i,o,a,s,u,c=this;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){t=c.reGl.read()})),!t){e.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(u=0;u<t.length;u+=4)1===i?s.push(t[u]):2===i?s.push(t[u],t[u+1]):s.push(t[u],t[u+1],t[u+2]);else s=t;return e.abrupt("return",new a(s.slice(0,r)));case 6:return e.abrupt("return",new Float32Array);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmInput",value:function(e,t){var n;this.entity===e.entity?(this.dynamicPingpong=!0,n=this):n=e,this.textureCache[t].id=n.getOuputDataTexture().id,this.textureCache[t].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){var n=this.context.uniforms.find((function(t){return t.name===e}));if(n){var r=this.calcDataTexture(e,n.type,t),i=r.texture,o=r.data;this.textureCache[e].data=o,this.textureCache[e].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var t=e.data,n=e.textureWidth;return tr(tr({},e),{},{id:nr++,texture:this.reGl.texture({width:n,height:n,data:t,type:"float"})})}},{key:"calcDataTexture",value:function(e,t,n){var r=1;t===We.AST_TOKEN_TYPES.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),c=u*u;s<c&&i.push.apply(i,Kn()(new Array(4*(c-s)).fill(0)));var l=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:nr++,data:i,originalDataLength:a,typedArrayConstructor:$n(n)?n.constructor:void 0,textureWidth:u,texture:l,texelCount:s,elementsPerTexel:r,isOutput:e===this.context.output.name}}}]),e}(),ir=function(){function e(t,n){Be()(this,e),this.elements=void 0;var r=n.data,i=n.usage,o=n.type,a=n.count;this.elements=t.elements({data:r,usage:jn[i||We.gl.STATIC_DRAW],type:Pn[o||We.gl.UNSIGNED_BYTE],count:a})}return Ve()(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),or=function(){function e(t,n){Be()(this,e),this.framebuffer=void 0;var r=n.width,i=n.height,o=n.color,a=n.colors,s=(n.depth,n.stencil,{width:r,height:i});Array.isArray(a)&&(s.colors=a.map((function(e){return e.get()}))),o&&"boolean"!==typeof o&&(s.color=o.get()),this.framebuffer=t.framebuffer(s)}return Ve()(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();function ar(e){var t={};return Object.keys(e).forEach((function(n){sr(n,e[n],t,"")})),t}function sr(e,t,n,r){null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||$n(t)||""===t||void 0!==t.resize?n["".concat(r&&r+".").concat(e)]=t:(function(e){var t=Lt()(e);return null!=e&&("object"===t||"function"===t)}(t)&&Object.keys(t).forEach((function(i){sr(i,t[i],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,i){Object.keys(t).forEach((function(o){sr(o,t[o],n,"".concat(r&&r+".").concat(e,"[").concat(i,"]"))}))})))}function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){Ot()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lr,fr,hr,dr=function(){function e(t,n){Be()(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,i=n.fs,o=n.defines,a=n.attributes,s=n.uniforms,u=n.primitive,c=n.count,l=n.elements,f=n.depth,h=n.blend,d=n.stencil,p=n.cull,m=n.instances,E=n.scissor,v=n.viewport,g={};s&&(this.uniforms=ar(s),Object.keys(s).forEach((function(e){g[e]=t.prop(e)})));var y={};Object.keys(a).forEach((function(e){y[e]=a[e].get()}));var b=o&&this.generateDefines(o)||"",S={attributes:y,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(b,"\n").concat(i),uniforms:g,vert:"\n".concat(b,"\n").concat(r),primitive:Mn[void 0===u?We.gl.TRIANGLES:u]};m&&(S.instances=m),c&&(S.count=c),l&&(S.elements=l.get()),E&&(S.scissor=E),v&&(S.viewport=v),this.initDepthDrawParams({depth:f},S),this.initBlendDrawParams({blend:h},S),this.initStencilDrawParams({stencil:d},S),this.initCullDrawParams({cull:p},S),this.drawCommand=t(S)}return Ve()(e,[{key:"addUniforms",value:function(e){this.uniforms=cr(cr({},this.uniforms),ar(e))}},{key:"draw",value:function(e){var t=cr(cr({},this.uniforms),ar(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=Lt()(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:"string"===r||(n[e]=t[e].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:Gn[n.func||We.gl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:Hn[i&&i.srcRGB||We.gl.SRC_ALPHA],srcAlpha:Hn[i&&i.srcAlpha||We.gl.SRC_ALPHA],dstRGB:Hn[i&&i.dstRGB||We.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:Hn[i&&i.dstAlpha||We.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Vn[o&&o.rgb||We.gl.FUNC_ADD],alpha:Vn[o&&o.alpha||We.gl.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:We.gl.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,c=void 0===u?{fail:We.gl.KEEP,zfail:We.gl.KEEP,zpass:We.gl.KEEP}:u,l=n.opBack,f=void 0===l?{fail:We.gl.KEEP,zfail:We.gl.KEEP,zpass:We.gl.KEEP}:l;t.stencil={enable:!!r,mask:o,func:cr(cr({},s),{},{cmp:zn[s.cmp]}),opFront:{fail:Wn[c.fail],zfail:Wn[c.zfail],zpass:Wn[c.zpass]},opBack:{fail:Wn[f.fail],zfail:Wn[f.zfail],zpass:Wn[f.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?We.gl.BACK:i;t.cull={enable:!!r,face:Yn[o]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map((function(t){return"#define ".concat(t," ").concat(Number(e[t]))})).join("\n")}}]),e}(),pr=function(){function e(t,n){Be()(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,o=void 0===i?We.gl.UNSIGNED_BYTE:i,a=n.width,s=n.height,u=n.flipY,c=void 0!==u&&u,l=n.format,f=void 0===l?We.gl.RGBA:l,h=n.mipmap,d=void 0!==h&&h,p=n.wrapS,m=void 0===p?We.gl.CLAMP_TO_EDGE:p,E=n.wrapT,v=void 0===E?We.gl.CLAMP_TO_EDGE:E,g=n.aniso,y=void 0===g?0:g,b=n.alignment,S=void 0===b?1:b,T=n.premultiplyAlpha,x=void 0!==T&&T,O=n.mag,R=void 0===O?We.gl.NEAREST:O,A=n.min,_=void 0===A?We.gl.NEAREST:A,N=n.colorSpace,C=void 0===N?We.gl.BROWSER_DEFAULT_WEBGL:N;this.width=a,this.height=s;var L={width:a,height:s,type:Pn[o],format:kn[f],wrapS:Fn[m],wrapT:Fn[v],mag:Un[R],min:Un[_],alignment:S,flipY:c,colorSpace:Bn[C],premultiplyAlpha:x,aniso:y};r&&(L.data=r),"number"===typeof d?L.mipmap=Dn[d]:"boolean"===typeof d&&(L.mipmap=d),this.texture=t.texture(L)}return Ve()(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),mr=Object(Xe.injectable)()((fr=function(){function e(){var t=this;Be()(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=Tt()(bt.a.mark((function e(n){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms){e.next=3;break}return e.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var e=Tt()(bt.a.mark((function e(t){var r;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms[t]||void 0===n.uniforms[t].load){e.next=5;break}return e.next=3,n.uniforms[t].load();case 3:r=e.sent,n.uniforms[t]=r;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",new dr(t.gl,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new wn(t.gl,e)},this.createBuffer=function(e){return new Xn(t.gl,e)},this.createElements=function(e){return new ir(t.gl,e)},this.createTexture2D=function(e){return new pr(t.gl,e)},this.createFramebuffer=function(e){return new or(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=Tt()(bt.a.mark((function e(n){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new rr(t.gl,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,r=e.depth,i=e.stencil,o=e.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable(We.gl.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable(We.gl.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,r,i,o),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return Ve()(e,[{key:"init",value:function(){var e=Tt()(bt.a.mark((function e(t){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inited){e.next=2;break}return e.abrupt("return");case 2:return this.$canvas=t.canvas,e.next=5,new Promise((function(e,n){In()({canvas:t.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,r){!t&&r||n(t),e(r)}})}));case 5:this.gl=e.sent,this.inited=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),lr=fr))||lr;function Er(e,t,n,r){if("undefined"!==typeof window){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),r&&(o.id=r),o.onload=function(){t&&t()},o.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},i.appendChild(o)}}function vr(e,t){return new Promise((function(t,n){Er(e,(function(){t()}),(function(e,t){n(t)}))}))}var gr=function(){return yr.apply(this,arguments)};function yr(){return(yr=Tt()(bt.a.mark((function e(){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hr){e.next=2;break}return e.abrupt("return",hr);case 2:return e.next=4,vr("https://preview.babylonjs.com/glslang/glslang.js");case 4:return hr=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",hr);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var br=function(){function e(t,n){Be()(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,i=r.buffer,o=r.offset,a=r.stride,s=r.normalized,u=r.size,c=r.divisor,l=r.arrayStride,f=r.attributes,h=r.stepMode;this.buffer=i,this.attribute={buffer:i.get(),offset:o||0,stride:a||0,normalized:s||!1,divisor:c||0,arrayStride:l||0,attributes:f,stepMode:h||"vertex"},u&&(this.attribute.size=u)}return Ve()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Sr=function(){function e(t,n){Be()(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,i=r.data,o=r.usage;r.type;this.buffer=this.createBuffer(i instanceof Array?new Float32Array(i):i,o||Rt.BufferUsage.Vertex|Rt.BufferUsage.CopyDst)}return Ve()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.setSubData(this.buffer,n,t instanceof Array?new Float32Array(t):t)}},{key:"createBuffer",value:function(e,t){var n=e.byteLength%4,r={size:e.byteLength+n,usage:t},i=this.engine.device.createBuffer(r);return this.setSubData(i,0,e),i}},{key:"setSubData",value:function(e,t,n){(We.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(e,t,n)}}]),e}();var Tr,xr,Or,Rr,Ar,_r,Nr,Cr=function(){function e(t,n){Be()(this,e),this.engine=t,this.context=n,this.entity=Object(We.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return Ve()(e,[{key:"init",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r,i,o,a,s,u=this;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:t=e.sent,n=t.computeStage,r=this.context.uniforms.filter((function(e){return e.storageClass===We.STORAGE_CLASS.StorageBuffer})),i=this.context.uniforms.filter((function(e){return e.storageClass===We.STORAGE_CLASS.Uniform})),o=i.length?1:0,this.bindGroupEntries=[],o&&(a=0,s=[],i.forEach((function(e){if("number"===typeof e.data)u.uniformGPUBufferLayout.push({name:e.name,offset:a}),a+=4,s.push(e.data);else{var t,n=(null===(t=e.data)||void 0===t?void 0:t.length)||1;3===n&&(n=4,e.data.push(0));var r=a/4%4;if(r>0){var i=4-r;if(n>1&&n<=i)2===n&&(3===i&&(a+=4,s.push(0)),s.push.apply(s,Kn()(e.data)),u.uniformGPUBufferLayout.push({name:e.name,offset:a}));else{for(var o=0;o<i;o++)a+=4,s.push(0);s.push.apply(s,Kn()(e.data)),u.uniformGPUBufferLayout.push({name:e.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new Sr(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:Rt.BufferUsage.Uniform|Rt.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(e){var t;null!==e.data&&(e.type!==We.AST_TOKEN_TYPES.Vector4FloatArray&&e.type!==We.AST_TOKEN_TYPES.FloatArray||(e.name===u.context.output.name?(t=new Sr(u.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:Rt.BufferUsage.Storage|Rt.BufferUsage.CopyDst|Rt.BufferUsage.CopySrc}),u.outputBuffer=t,u.context.output={name:e.name,length:isFinite(Number(e.data))?1:e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:t.get()}):e.isReferer?e.data.model&&e.data.model.outputBuffer&&(t=e.data.model.outputBuffer):t=new Sr(u.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:Rt.BufferUsage.Storage|Rt.BufferUsage.CopyDst|Rt.BufferUsage.CopySrc}),u.vertexBuffers[e.name]=t,u.bindGroupEntries.push({binding:o,resource:{name:e.name,refer:t?void 0:e.data,buffer:t?t.get():void 0}}),o++))})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(t){return e.vertexBuffers[t].destroy()}))}},{key:"readData",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r,i,o,a,s,u,c;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.context.output)){e.next=16;break}if(n=t.length,r=t.typedArrayConstructor,!(i=t.gpuBuffer)){e.next=16;break}return o=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(i,0,a,0,o),(We.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),e.next=12,a.mapAsync(Rt.MapMode.Read);case 12:return u=a.getMappedRange(),c=new r(u.slice(0)),a.unmap(),e.abrupt("return",c);case 16:return e.abrupt("return",new Float32Array);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,Kn()(this.context.dispatch)))}},{key:"updateBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[e];r&&r.subData({data:t,offset:n})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find((function(t){return t.name===e}));n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(e,t){var n=this.vertexBuffers[t],r=e.outputBuffer;if(n&&r&&n!==r){var i=this.engine.device.createCommandEncoder(),o=e.context.output,a=o.length*o.typedArrayConstructor.BYTES_PER_ELEMENT;i.copyBufferToBuffer(r.get(),0,n.get(),0,a),(We.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([i.finish()])}}},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=Tt()(bt.a.mark((function e(t){var n;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"#version 450\n",this.engine.options.useWGSL){e.next=6;break}return e.next=5,this.compileShaderToSpirV(t,"compute","#version 450\n");case 5:n=e.sent;case 6:return e.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:We.isSafari}),entryPoint:"main"}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Lr=function(){function e(t,n){Be()(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,i=r.data,o=(r.usage,r.type,r.count);this.indexCount=o||0,this.buffer=new Sr(t,{data:i instanceof Array?new Uint16Array(i):i,usage:Rt.BufferUsage.Index|Rt.BufferUsage.CopyDst})}return Ve()(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Ir=function(){function e(t,n){Be()(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,i=(r.width,r.height,r.color),o=(r.colors,r.depth);r.stencil;i&&(this.colorTexture=i),o&&(this.depthTexture=o)}return Ve()(e,[{key:"get",value:function(){var e,t;return{color:null===(e=this.colorTexture)||void 0===e?void 0:e.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(e){var t,n,r=e.width,i=e.height;r===this.width&&i===this.height||(null===(t=this.colorTexture)||void 0===t||t.resize({width:r,height:i}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:i}));this.width=r,this.height=i}}]),e}(),wr=(Tr={},Ot()(Tr,We.gl.POINTS,Rt.PrimitiveTopology.PointList),Ot()(Tr,We.gl.LINES,Rt.PrimitiveTopology.LineList),Ot()(Tr,We.gl.LINE_LOOP,Rt.PrimitiveTopology.LineList),Ot()(Tr,We.gl.LINE_STRIP,Rt.PrimitiveTopology.LineStrip),Ot()(Tr,We.gl.TRIANGLES,Rt.PrimitiveTopology.TriangleList),Ot()(Tr,We.gl.TRIANGLE_FAN,Rt.PrimitiveTopology.TriangleList),Ot()(Tr,We.gl.TRIANGLE_STRIP,Rt.PrimitiveTopology.TriangleStrip),Tr),Mr=(xr={},Ot()(xr,We.gl.NEVER,Rt.CompareFunction.Never),Ot()(xr,We.gl.ALWAYS,Rt.CompareFunction.Always),Ot()(xr,We.gl.LESS,Rt.CompareFunction.Less),Ot()(xr,We.gl.LEQUAL,Rt.CompareFunction.LessEqual),Ot()(xr,We.gl.GREATER,Rt.CompareFunction.Greater),Ot()(xr,We.gl.GEQUAL,Rt.CompareFunction.GreaterEqual),Ot()(xr,We.gl.EQUAL,Rt.CompareFunction.Equal),Ot()(xr,We.gl.NOTEQUAL,Rt.CompareFunction.NotEqual),xr),jr=(Or={},Ot()(Or,We.gl.FUNC_ADD,Rt.BlendOperation.Add),Ot()(Or,We.gl.MIN_EXT,Rt.BlendOperation.Min),Ot()(Or,We.gl.MAX_EXT,Rt.BlendOperation.Max),Ot()(Or,We.gl.FUNC_SUBTRACT,Rt.BlendOperation.Subtract),Ot()(Or,We.gl.FUNC_REVERSE_SUBTRACT,Rt.BlendOperation.ReverseSubtract),Or),Pr=(Rr={},Ot()(Rr,We.gl.ZERO,Rt.BlendFactor.Zero),Ot()(Rr,We.gl.ONE,Rt.BlendFactor.One),Ot()(Rr,We.gl.SRC_COLOR,Rt.BlendFactor.SrcColor),Ot()(Rr,We.gl.ONE_MINUS_SRC_COLOR,Rt.BlendFactor.OneMinusSrcColor),Ot()(Rr,We.gl.SRC_ALPHA,Rt.BlendFactor.SrcAlpha),Ot()(Rr,We.gl.ONE_MINUS_SRC_ALPHA,Rt.BlendFactor.OneMinusSrcAlpha),Ot()(Rr,We.gl.DST_COLOR,Rt.BlendFactor.DstColor),Ot()(Rr,We.gl.ONE_MINUS_DST_COLOR,Rt.BlendFactor.OneMinusDstColor),Ot()(Rr,We.gl.DST_ALPHA,Rt.BlendFactor.DstAlpha),Ot()(Rr,We.gl.ONE_MINUS_DST_ALPHA,Rt.BlendFactor.OneMinusDstAlpha),Ot()(Rr,We.gl.CONSTANT_COLOR,Rt.BlendFactor.BlendColor),Ot()(Rr,We.gl.ONE_MINUS_CONSTANT_COLOR,Rt.BlendFactor.OneMinusBlendColor),Ot()(Rr,We.gl.SRC_ALPHA_SATURATE,Rt.BlendFactor.SrcAlphaSaturated),Rr),kr=(Ar={},Ot()(Ar,We.gl.ALPHA,"r8unorm"),Ot()(Ar,We.gl.RGBA,"rgba8unorm"),Ot()(Ar,We.gl.DEPTH_COMPONENT,"depth32float"),Ot()(Ar,We.gl.DEPTH_STENCIL,"depth24plus-stencil8"),Ar),Dr=(_r={},Ot()(_r,We.gl.NEAREST,"nearest"),Ot()(_r,We.gl.LINEAR,"linear"),_r),Ur=(Nr={},Ot()(Nr,We.gl.REPEAT,"repeat"),Ot()(Nr,We.gl.CLAMP_TO_EDGE,"clamp-to-edge"),Ot()(Nr,We.gl.MIRRORED_REPEAT,"mirror-repeat"),Nr);function Fr(e){var t=e.cull;return t&&t.enable?t.face?t.face===We.gl.FRONT?Rt.CullMode.Front:Rt.CullMode.Back:void 0:Rt.CullMode.None}function Br(e){var t=e.depth,n=(e.stencil,{compare:Rt.CompareFunction.Always,depthFailOp:Rt.StencilOperation.Keep,failOp:Rt.StencilOperation.Keep,passOp:Rt.StencilOperation.Keep});return{depthWriteEnabled:t&&t.enable,depthCompare:Mr[(null===t||void 0===t?void 0:t.func)||We.gl.ALWAYS],format:Rt.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Gr(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:Pr[n&&n.func&&n.func.srcAlpha||We.gl.ONE],dstFactor:Pr[n&&n.func&&n.func.dstAlpha||We.gl.ZERO],operation:jr[n&&n.equation&&n.equation.alpha||We.gl.FUNC_ADD]},colorBlend:{srcFactor:Pr[n&&n.func&&n.func.srcRGB||We.gl.ONE],dstFactor:Pr[n&&n.func&&n.func.dstRGB||We.gl.ZERO],operation:jr[n&&n.equation&&n.equation.rgb||We.gl.FUNC_ADD]},writeMask:Rt.ColorWrite.All}]}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){Ot()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t+=s.length}for(var u=new e(t),c=0,l=0,f=r;l<f.length;l++){var h=f[l];u.set(h,c),c+=h.length}return u}var Wr,Yr,Xr,qr=function(){function e(t,n){Be()(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return Ve()(e,[{key:"init",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,m,E,v=this;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.vs,r=t.fs,i=t.attributes,o=t.uniforms,a=t.primitive,t.count,s=t.elements,u=t.depth,c=t.blend,l=t.stencil,f=t.cull,t.instances,e.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=e.sent,d=h.vertexStage,p=h.fragmentStage,o&&this.buildUniformBindGroup(o),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),m={vertexBuffers:Object.keys(i).map((function(e,t){var n=i[e],r=n.get(),o=r.arrayStride,a=r.stepMode,s=r.attributes;return v.attributeCache[e]=n,{arrayStride:o,stepMode:a,attributes:s}}))},E={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:wr[a||We.gl.TRIANGLES],rasterizationState:Hr(Hr({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Fr({cull:f})}),depthStencilState:Br({depth:u,stencil:l}),colorStates:Gr({blend:c},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:d,fragmentStage:p,vertexState:m},this.renderPipeline=this.engine.device.createRenderPipeline(E);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUniforms",value:function(e){this.uniforms=Hr(Hr({},this.uniforms),ar(e))}},{key:"draw",value:function(e){var t=this,n=this.engine.getCurrentRenderPass(),r=Hr(Hr({},this.uniforms),ar(e.uniforms||{})),i=[];Object.keys(r).forEach((function(e){var n=Lt()(r[e]);if("boolean"===n||"number"===n||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT){var o,a=null===(o=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===o?void 0:o.offset;null!==a&&t.uniformBuffer.subData({data:r[e],offset:a})}else{var s,u=null===(s=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===s?void 0:s.offset;if(null!==u){var c=r[e].get(),l=c.color||c,f=l.texture,h=l.sampler;h&&(i.push({binding:u,resource:h}),u++),i.push({binding:u,resource:f.createView()})}}})),this.uniformBuffer&&(i[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:i}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),Rt.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach((function(e,r){n.setVertexBuffer(0+r,t.attributeCache[e].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=Tt()(bt.a.mark((function e(t,n,r){var i,o,a;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="#version 450\n",o=t,a=n,this.engine.options.useWGSL){e.next=10;break}return e.next=6,this.compileShaderToSpirV(t,"vertex",i);case 6:return o=e.sent,e.next=9,this.compileShaderToSpirV(n,"fragment",i);case 9:a=e.sent;case 10:return e.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"createPipelineStageDescriptor",value:function(e,t){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:We.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:We.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:Rt.FrontFace.CCW,cullMode:Rt.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var t=this,n=0,r=zr.apply(void 0,[Float32Array].concat(Kn()(Object.keys(e).map((function(r){return e[r]?(t.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(e[r].length||1),e[r]):[]}))))),i=[],o=!1;r.length&&(o=!0,i.push({binding:0,visibility:Rt.ShaderStage.Fragment|Rt.ShaderStage.Vertex,type:Rt.BindingType.UniformBuffer})),Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(e,n){t.uniformGPUBufferLayout.push({name:e,offset:2*n+(o?1:0)}),i.push({binding:2*n+(o?1:0),visibility:Rt.ShaderStage.Fragment,type:Rt.BindingType.Sampler},{binding:2*n+(o?1:0)+1,visibility:Rt.ShaderStage.Fragment,type:Rt.BindingType.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:i}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new Sr(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:Rt.BufferUsage.Uniform|Rt.BufferUsage.CopyDst}))}}]),e}(),Kr=function(){function e(t,n){Be()(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return Ve()(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var t=e.width,n=e.height;t===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options,t=(e.data,e.type),n=(void 0===t&&We.gl.UNSIGNED_BYTE,e.width),r=e.height,i=(e.flipY,e.format),o=void 0===i?We.gl.RGBA:i,a=(e.mipmap,e.wrapS),s=void 0===a?We.gl.CLAMP_TO_EDGE:a,u=e.wrapT,c=void 0===u?We.gl.CLAMP_TO_EDGE:u,l=e.aniso,f=void 0===l?0:l,h=(e.alignment,e.premultiplyAlpha,e.mag),d=void 0===h?We.gl.NEAREST:h,p=e.min,m=void 0===p?We.gl.NEAREST:p,E=e.colorSpace,v=(void 0===E&&We.gl.BROWSER_DEFAULT_WEBGL,e.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:Rt.TextureDimension.E2d,format:kr[o],usage:v||Rt.TextureUsage.Sampled|Rt.TextureUsage.CopyDst}),(!v||v&Rt.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Ur[s],addressModeV:Ur[c],addressModeW:Ur[s],magFilter:Dr[d],minFilter:Dr[m],maxAnisotropy:f}))}}]),e}(),Qr=Object(Xe.injectable)()((Yr=function(){function e(){var t=this;Be()(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,r=e.depth,i=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!r,!!i)):(t.mainColorAttachments[0].loadValue=n||Rt.LoadOp.Load,t.mainDepthAttachment.depthLoadValue=r||Rt.LoadOp.Load,t.mainDepthAttachment.stencilLoadValue=i?t.clearStencilValue:Rt.LoadOp.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=Tt()(bt.a.mark((function e(n){var r;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new qr(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new br(t,e)},this.createBuffer=function(e){return new Sr(t,e)},this.createElements=function(e){return new Lr(t,e)},this.createTexture2D=function(e){return new Kr(t,e)},this.createFramebuffer=function(e){return new Ir(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:Rt.TextureViewDimension.E2d,arrayLayerCount:1,aspect:Rt.TextureAspect.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=Tt()(bt.a.mark((function e(n){var r;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Cr(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;if(t.currentRenderPass){if(t.transientViewport.x!==1/0){t.getCurrentRenderPass().setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||r!==t.cachedViewport.y||i!==t.cachedViewport.width||o!==t.cachedViewport.height){t.cachedViewport={x:n,y:r,width:i,height:o},t.getCurrentRenderPass().setViewport(n,r,i,o,0,1)}}else t.transientViewport={x:n,y:r,width:i,height:o}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return Ve()(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=Tt()(bt.a.mark((function e(t){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=t.canvas,this.options=t,this.useWGSL=!!t.useWGSL,this.mainPassSampleCount=t.antialiasing?this.defaultSampleCount:1,e.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(e){return e.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),We.isSafari?this.device.getQueue().submit(this.commandBuffers.filter((function(e){return e}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(e){return e})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr();case 2:return this.glslang=e.sent,e.next=5,null===(t=navigator)||void 0===t||null===(n=t.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=e.sent,e.next=8,this.adapter.requestDevice();case 8:this.device=e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(We.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Rt.TextureUsage.OutputAttachment|Rt.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Rt.TextureDimension.E2d,format:Rt.TextureFormat.BGRA8Unorm,usage:Rt.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:We.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:Rt.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:We.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:Rt.StoreOp.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Rt.TextureDimension.E2d,format:We.isSafari?"depth32float-stencil8":Rt.TextureFormat.Depth24PlusStencil8,usage:Rt.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:We.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:Rt.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:Rt.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=We.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=We.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(r=e.get().color)||void 0===r?void 0:r.texture;s&&(o=s.createView(this.currentRenderTargetViewDescriptor));var u,c=null===(i=e.get().depth)||void 0===i?void 0:i.texture;c&&(u=c.createView());var l=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:o,loadValue:null!==t?t:Rt.LoadOp.Load,storeOp:Rt.StoreOp.Store}],depthStencilAttachment:c&&u?{attachment:u,depthLoadValue:n?this.clearDepthValue:Rt.LoadOp.Load,depthStoreOp:Rt.StoreOp.Store,stencilLoadValue:a?this.clearStencilValue:Rt.LoadOp.Load,stencilStoreOp:Rt.StoreOp.Store}:void 0});this.currentRenderPass=l,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}(),Wr=Yr))||Wr,Jr=n(948),Zr=n.n(Jr),$r=n(616),ei=n.n($r),ti=n(617),ni=n.n(ti),ri=n(618),ii=n.n(ri);function oi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var ai,si=4/64,ui=Object(Xe.injectable)()(Xr=function(e){ei()(n,e);var t=oi(n);function n(){return Be()(this,n),t.apply(this,arguments)}return Ve()(n,[{key:"onEntityCreated",value:function(){var e=this.config,t=e.widthSegments,n=void 0===t?1:t,r=e.heightSegments,i=void 0===r?1:r,o=e.depthSegments,a=void 0===o?1:o,s=e.halfExtents,u=void 0===s?Ye.e.fromValues(.5,.5,.5):s,c=n,l=i,f=a,h=Zr()(u,3),d=h[0],p=h[1],m=h[2],E=[Ye.e.fromValues(-d,-p,m),Ye.e.fromValues(d,-p,m),Ye.e.fromValues(d,p,m),Ye.e.fromValues(-d,p,m),Ye.e.fromValues(d,-p,-m),Ye.e.fromValues(-d,-p,-m),Ye.e.fromValues(-d,p,-m),Ye.e.fromValues(d,p,-m)],v=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],g=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],y=1,b=2,S=3,T=4,x=5,O=[],R=[],A=[],_=[],N=[],C=0,L=function(e,t,n){var r,i,o,a;for(o=0;o<=t;o++)for(a=0;a<=n;a++){var s=Ye.e.create(),u=Ye.e.create(),c=Ye.e.create(),l=Ye.e.create();Ye.e.lerp(s,E[v[e][0]],E[v[e][1]],o/t),Ye.e.lerp(u,E[v[e][0]],E[v[e][2]],a/n),Ye.e.sub(c,u,E[v[e][0]]),Ye.e.add(l,s,c),r=o/t,i=a/n,O.push(l[0],l[1],l[2]),R.push(g[e][0],g[e][1],g[e][2]),A.push(r,i),r=.875*(r/=3)+si,i=.875*(i/=3)+si,r+=e%3/3,i+=Math.floor(e/3)/3,_.push(r,i),o<t&&a<n&&(N.push(C+n+1,C+1,C),N.push(C+n+1,C+n+2,C+1)),C++}};L(0,c,l),L(y,c,l),L(b,c,f),L(S,c,f),L(T,f,l),L(x,f,l);var I=Object(We.generateAABBFromVertices)(O),w=this.getComponent();w.indices=Uint32Array.from(N),w.aabb=I,w.vertexCount=C,w.attributes=[{dirty:!0,name:"position",data:Float32Array.from(O),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(R),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(A),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(gt))||Xr;function ci(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var li,fi=Object(Xe.injectable)()(ai=function(e){ei()(n,e);var t=ci(n);function n(){return Be()(this,n),t.apply(this,arguments)}return Ve()(n,[{key:"onEntityCreated",value:function(){var e=this.config.geometries,t=void 0===e?[]:e,n=this.getComponent();n.aabb=new We.AABB;var r=[],i=[],o=0;t.forEach((function(e){var t=e.aabb,a=e.indices,s=e.vertexCount,u=e.attributes;n.aabb.add(t),n.vertexCount+=s,a&&i.push.apply(i,Kn()(a.map((function(e){return e+o})))),o+=s,u.forEach((function(e,t){r[t]?e.data&&(qe(e.data)?r[t].push(e.data):Vt(e.data)?r[t].data=function(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||0===t.length)return e;if(!e||0===e.length)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r[t].data,e.data):r[t].data=r[t].data.concat(e.data)):(r[t]=e,r[t].dirty=!0)}))})),n.attributes=r,n.indices=Uint32Array.from(i),n.dirty=!0}}]),n}(gt))||ai;function hi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var di,pi=Object(Xe.injectable)()(li=function(e){ei()(n,e);var t=hi(n);function n(){return Be()(this,n),t.apply(this,arguments)}return Ve()(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.halfExtents,n=void 0===t?[.5,.5]:t,r=e.widthSegments,i=void 0===r?5:r,o=e.lengthSegments,a=void 0===o?5:o,s=[],u=[],c=[],l=[],f=0,h=0;h<=i;h++)for(var d=0;d<=a;d++){var p=-n[0]+2*n[0]*h/i,m=-(-n[1]+2*n[1]*d/a),E=h/i,v=d/a;s.push(p,0,m),u.push(0,1,0),c.push(E,v),h<i&&d<a&&(l.push(f+a+1,f+1,f),l.push(f+a+1,f+a+2,f+1)),f++}var g=Object(We.generateAABBFromVertices)(s),y=this.getComponent();y.indices=Uint32Array.from(l),y.aabb=g,y.vertexCount=f,y.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(gt))||li;function mi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var Ei,vi,gi,yi,bi,Si,Ti,xi,Oi=Object(Xe.injectable)()(di=function(e){ei()(n,e);var t=mi(n);function n(){return Be()(this,n),t.apply(this,arguments)}return Ve()(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.radius,n=void 0===t?.5:t,r=e.latitudeBands,i=void 0===r?16:r,o=e.longitudeBands,a=void 0===o?16:o,s=[],u=[],c=[],l=[],f=0;f<=i;f++)for(var h=f*Math.PI/i,d=Math.sin(h),p=Math.cos(h),m=0;m<=a;m++){var E=2*m*Math.PI/a-Math.PI/2,v=Math.sin(E),g=Math.cos(E)*d,y=p,b=v*d,S=1-m/a,T=1-f/i;s.push(g*n,y*n,b*n),u.push(g,y,b),c.push(S,T)}for(var x=0;x<i;++x)for(var O=0;O<a;++O){var R=x*(a+1)+O,A=R+a+1;l.push(R+1,A,R),l.push(R+1,A+1,A)}var _=Object(We.generateAABBFromVertices)(s),N=this.getComponent();N.indices=Uint32Array.from(l),N.aabb=_,N.vertexCount=s.length/3,N.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(gt))||di,Ri=n(691),Ai=n.n(Ri);function _i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var Ni,Ci,Li,Ii,wi,Mi,ji,Pi,ki,Di,Ui,Fi,Bi=(Ei=Object(Xe.injectable)(),vi=Object(Xe.inject)(We.IDENTIFIER.RenderEngine),gi=Object(Xe.inject)(We.IDENTIFIER.ShaderModuleService),Ei((xi=function(e){ei()(n,e);var t=_i(n);function n(){var e;Be()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ue()(e,"engine",Si,Ai()(e)),Ue()(e,"shaderModuleService",Ti,Ai()(e)),e}return Ve()(n,[{key:"onEntityCreated",value:function(){var e=this.getComponent(),t=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:t,fs:n});var r=this.shaderModuleService.getModule("material-basic"),i=r.vs,o=r.fs,a=r.uniforms;e.vertexShaderGLSL=i,e.fragmentShaderGLSL=o,e.setUniform(a),this.config.map&&(e.setDefines({USE_UV:1,USE_MAP:1}),e.setUniform({map:this.config.map,uvTransform:Ye.a.create()}))}}]),n}(Nn),bi=xi,Si=ze()(bi.prototype,"engine",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ti=ze()(bi.prototype,"shaderModuleService",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi=bi))||yi);function Gi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var Vi=(Ni=Object(Xe.injectable)(),Ci=Object(Xe.inject)(We.IDENTIFIER.Systems),Li=Object(Xe.named)(We.IDENTIFIER.MaterialSystem),Ii=Object(Xe.inject)(We.IDENTIFIER.Systems),wi=Object(Xe.named)(We.IDENTIFIER.GeometrySystem),Mi=Object(Xe.inject)(We.IDENTIFIER.ShaderModuleService),Ni((Fi=function(e){ei()(n,e);var t=Gi(n);function n(){var e;Be()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ue()(e,"materialSystem",ki,Ai()(e)),Ue()(e,"geometrySystem",Di,Ai()(e)),Ue()(e,"shaderModuleService",Ui,Ai()(e)),e}return Ve()(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===t?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===t&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n});this.setMaterial(i);var o=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(o),i.setCull({enable:!1,face:We.gl.BACK}).setDepth({enable:!0,func:We.gl.LESS}),i.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),o.setIndex([0,3,2,2,1,0]),o.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(Cn),Pi=Fi,ki=ze()(Pi.prototype,"materialSystem",[Ci,Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Di=ze()(Pi.prototype,"geometrySystem",[Ii,wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=ze()(Pi.prototype,"shaderModuleService",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=Pi))||ji),Hi=n(2677),zi=n(2709);function Wi(e,t,n,r,i){Yi(t,r,-i),Yi(t,r,i),e.push(n),e.push(n)}function Yi(e,t,n){e.push([[t[0],t[1]],n])}var Xi,qi,Ki,Qi,Ji,Zi,$i,eo,to,no,ro,io;function oo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var ao,so,uo,co,lo,fo,ho,po,mo,Eo,vo,go,yo=(Xi=Object(Xe.injectable)(),qi=Object(Xe.inject)(We.IDENTIFIER.Systems),Ki=Object(Xe.named)(We.IDENTIFIER.MaterialSystem),Qi=Object(Xe.inject)(We.IDENTIFIER.Systems),Ji=Object(Xe.named)(We.IDENTIFIER.GeometrySystem),Zi=Object(Xe.inject)(We.IDENTIFIER.ShaderModuleService),Xi((io=function(e){ei()(n,e);var t=oo(n);function n(){var e;Be()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ue()(e,"materialSystem",to,Ai()(e)),Ue()(e,"geometrySystem",no,Ai()(e)),Ue()(e,"shaderModuleService",ro,Ai()(e)),e.vertexCount=void 0,e}return Ve()(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();if(r&&r.material)switch(t){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var i=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(e,t){return[].concat(Kn()(e),Kn()(t))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(i),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var e=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var t=this.shaderModuleService.getModule("line"),n=t.vs,r=t.fs,i=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(e,t,n){var r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=-1,u=!1,c=null,l=Object(Hi.create)(),f=n||0,h=[],d=[],p=[],m=[0,0];t&&(e=e.slice()).push(e[0]);for(var E=e.length,v=1;v<E;v++){var g=f,y=e[v-1],b=e[v],S=v<e.length-1?e[v+1]:null;if(m.push(v/E,v/E),Object(zi.direction)(r,b,y),c||(c=[0,0],Object(zi.normal)(c,r)),u||(u=!0,Wi(d,h,y,c,1)),p.push([g+0,g+1,g+2]),S){Object(zi.direction)(i,S,b);var T=Object(zi.computeMiter)(o,a,r,i,1),x=Object(Hi.dot)(o,c)<0?-1:1,O=T>3;if(!isFinite(T)){Object(zi.normal)(c,r),Wi(d,h,b,c,1),p.push(1===s?[g,g+2,g+3]:[g+2,g+1,g+3]),f+=2,s=x;continue}O?(T=3,m.push(v/E),Yi(h,c,-x),d.push(b),Yi(h,a,T*x),d.push(b),p.push(s!==-x?[g,g+2,g+3]:[g+2,g+1,g+3]),p.push([g+2,g+3,g+4]),Object(zi.normal)(l,i),Object(Hi.copy)(c,l),Yi(h,c,-x),d.push(b),f+=3):(Wi(d,h,b,a,T),p.push(1===s?[g,g+2,g+3]:[g+2,g+1,g+3]),x=-1,Object(Hi.copy)(c,a),f+=2),s=x}else Object(zi.normal)(c,r),Wi(d,h,b,c,1),p.push(1===s?[g,g+2,g+3]:[g+2,g+1,g+3]),f+=2}return{normals:h,attrIndex:p,attrPos:d,attrCounters:m}}(this.config.points,!1),s=a.normals,u=a.attrIndex,c=a.attrPos,l=a.attrCounters,f=c.length;this.vertexCount=f;var h=this.geometrySystem.createBufferGeometry({vertexCount:f});this.setMaterial(o),this.setGeometry(h),o.setCull({enable:!1,face:We.gl.BACK}).setUniform(i),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var d=[],p=[];s.forEach((function(e){var t=e[0],n=e[1];d.push([t[0],t[1]]),p.push(n)})),h.setIndex(u.reduce((function(e,t){return[].concat(Kn()(e),Kn()(t))}),[])),h.setAttribute("a_pos",Float32Array.from(c.reduce((function(e,t){return[].concat(Kn()(e),Kn()(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var m=new Array(f).fill(void 0).map((function(){return Kn()(e.config.color)})).reduce((function(e,t){return[].concat(Kn()(e),Kn()(t))}),[]);h.setAttribute("a_color",Float32Array.from(m),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),h.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),h.setAttribute("a_line_normal",Float32Array.from(d.reduce((function(e,t){return[].concat(Kn()(e),Kn()(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),h.setAttribute("a_counters",Float32Array.from(l),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(Cn),eo=io,to=ze()(eo.prototype,"materialSystem",[qi,Ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=ze()(eo.prototype,"geometrySystem",[Qi,Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=ze()(eo.prototype,"shaderModuleService",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=eo))||$i);function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii()(e);if(t){var i=ii()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ni()(this,n)}}var To,xo,Oo,Ro,Ao,_o,No,Co,Lo,Io,wo=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Mo=(ao=Object(Xe.injectable)(),so=Object(Xe.inject)(We.IDENTIFIER.Systems),uo=Object(Xe.named)(We.IDENTIFIER.MaterialSystem),co=Object(Xe.inject)(We.IDENTIFIER.Systems),lo=Object(Xe.named)(We.IDENTIFIER.GeometrySystem),fo=Object(Xe.inject)(We.IDENTIFIER.ShaderModuleService),ao((go=function(e){ei()(n,e);var t=So(n);function n(){var e;Be()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Ue()(e,"materialSystem",mo,Ai()(e)),Ue()(e,"geometrySystem",Eo,Ai()(e)),Ue()(e,"shaderModuleService",vo,Ai()(e)),e}return Ve()(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===t?r.material.setUniform("u_stroke_width",n):"strokeColor"===t?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===t?r.material.setUniform("u_stroke_opacity",n):"opacity"===t?r.material.setUniform("u_opacity",n):"blur"===t&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:We.gl.SRC_ALPHA,dstRGB:We.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});i.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){Ot()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({u_device_pixel_ratio:window.devicePixelRatio},r));var o=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:o.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(o.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(o.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(o.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(o.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(o.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(o.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(i),this.setGeometry(a)}},{key:"buildAttribute",value:function(e,t,n){var r,i,o,a,s;(r=t.instancedPickingColors).push.apply(r,Kn()([(s=e.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),t.instancedShapes.push(wo.indexOf(e.shape||"circle")),(i=t.instancedColors).push.apply(i,Kn()(e.color||[1,0,0,1])),(o=t.instancedOffsets).push.apply(o,Kn()(e.position||[0,0])),(a=t.instancedSizes).push.apply(a,Kn()(e.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var e=this,t={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){e.buildAttribute(n,t,r)})):this.buildAttribute(this.config,t,0),t}}]),n}(Cn),po=go,mo=ze()(po.prototype,"materialSystem",[so,uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=ze()(po.prototype,"geometrySystem",[co,lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=ze()(po.prototype,"shaderModuleService",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ho=po))||ho);function jo(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ko,Do,Uo,Fo,Bo,Go,Vo,Ho,zo,Wo,Yo=(To=Object(Xe.injectable)(),xo=Object(Xe.inject)(We.IDENTIFIER.RenderEngine),Oo=Object(Xe.inject)(We.IDENTIFIER.ShaderModuleService),Ro=Object(Xe.inject)(We.IDENTIFIER.ConfigService),To((Io=function(){function e(){Be()(this,e),this.container=void 0,Ue()(this,"engine",No,this),Ue()(this,"shaderModule",Co,this),Ue()(this,"configService",Lo,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return Ve()(e,[{key:"init",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r,i,o;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),t=this.container.getAll(We.IDENTIFIER.Systems),!(n=this.configService.get()).canvas){e.next=30;break}return e.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:Rt.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:r=jo(t),e.prev=12,r.s();case 14:if((i=r.n()).done){e.next=21;break}if(!(o=i.value).initialize){e.next=19;break}return e.next=19,o.initialize();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:this.inited=!0;case 30:case"end":return e.stop()}}),e,this,[[12,23,26,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r,i,o,a,s,u=arguments;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited&&!this.rendering){e.next=2;break}return e.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(e){e()})),this.rendering=!0,this.engine.beginFrame(),t=this.container.getAll(We.IDENTIFIER.Systems),n=u.length,r=new Array(n),i=0;i<n;i++)r[i]=u[i];o=jo(t),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}if(!(s=a.value).execute){e.next=15;break}return e.next=15,s.execute(r);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return e.stop()}}),e,this,[[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(e){var t=this;return this.inited?this.engine.clear(e):this.pendings.unshift((function(){t.engine.clear(e),t.pendings.shift()})),this}},{key:"setSize",value:function(e){var t=e.width,n=e.height,r=this.engine.getCanvas();return this.size={width:t,height:n},r.width=t,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),e}(),_o=Io,No=ze()(_o.prototype,"engine",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=ze()(_o.prototype,"shaderModule",[Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=ze()(_o.prototype,"configService",[Ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=_o))||Ao),Xo=Object(Xe.injectable)()(ko=function(){function e(){Be()(this,e),this.entities=[]}return Ve()(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return-1===this.entities.indexOf(e)&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var t=this.entities.indexOf(e);return this.entities.splice(t,1),this}}]),e}())||ko,qo=Object(Xe.injectable)()(Do=function(){function e(){Be()(this,e),this.cache={}}return Ve()(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}())||Do;function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){Ot()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jo,Zo,$o,ea,ta,na,ra,ia,oa,aa,sa,ua,ca=(Uo=Object(Xe.injectable)(),Fo=Object(Xe.inject)(qo),Bo=Object(Xe.inject)(We.IDENTIFIER.RenderEngine),Uo((Wo=function(){function e(){Be()(this,e),Ue()(this,"textureCache",Ho,this),Ue()(this,"engine",zo,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return Ve()(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=Tt()(bt.a.mark((function e(){var t=this;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.url){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=t.textureCache.get(t.config.url);if(r)e(r);else{var i=new Image;i.crossOrigin="Anonymous",i.src=t.config.url,i.onload=function(){var n=t.engine.createTexture2D(Qo(Qo({},t.config),{},{data:i,width:i.width,height:i.height,flipY:!0}));t.textureCache.set(t.config.url,n),t.texture=n,t.loaded=!0,e(n)},i.onerror=function(){n()}}})));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),e.abrupt("return",this.texture);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vo=Wo,Ho=ze()(Vo.prototype,"textureCache",[Fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=ze()(Vo.prototype,"engine",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=Vo))||Go),la=(Jo=Object(Xe.injectable)(),Zo=Object(Xe.inject)(We.IDENTIFIER.Systems),$o=Object(Xe.named)(We.IDENTIFIER.RendererSystem),Jo((ta=function(){function e(){Be()(this,e),Ue()(this,"rendererSystem",na,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return Ve()(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),e}(),na=ze()(ta.prototype,"rendererSystem",[Zo,$o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea=ta))||ea);function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){Ot()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ra=Object(Xe.injectable)(),ia=Object(Xe.inject)(We.IDENTIFIER.ConfigService),ra((ua=function(){function e(){Be()(this,e),Ue()(this,"configService",sa,this),this.container=void 0}return Ve()(e,[{key:"getEngine",value:function(){var e=Tt()(bt.a.mark((function e(){var t,n,r,i;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.container.get(We.IDENTIFIER.RenderEngine),n=this.configService.get(),r=n.canvas,i=n.engineOptions,e.next=4,t.init(ha({canvas:r||At(),swapChainFormat:Rt.TextureFormat.BGRA8Unorm,antialiasing:!1},i));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(e){return this.container.get(We.IDENTIFIER.TransformComponentManager).getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){return this.container.get(We.IDENTIFIER.MeshComponentManager).getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(We.createEntity)()}},{key:"createScene",value:function(){return this.container.get(Xo)}},{key:"createCamera",value:function(){return this.container.get(vt)}},{key:"createView",value:function(){return this.container.get(la)}},{key:"createRenderable",value:function(e,t){var n=e?this.container.getNamed(We.IDENTIFIER.Renderable,e):this.container.get(Cn),r=Object(We.createEntity)();return n.setConfig(t||{}),n.setEntity(r),n}},{key:"createGeometry",value:function(e,t){var n=this.container.getNamed(We.IDENTIFIER.Geometry,e),r=Object(We.createEntity)();return n.setConfig(t||{}),n.setEntity(r),n.getComponent()}},{key:"createMaterial",value:function(e,t){var n=this.container.getNamed(We.IDENTIFIER.Material,e),r=Object(We.createEntity)();return n.setConfig(t||{}),n.setEntity(r,e),n.getComponent()}},{key:"createTexture2D",value:function(e){var t=this.container.get(ca);return t.setConfig(e),t}},{key:"createBufferGeometry",value:function(e){return this.container.getNamed(We.IDENTIFIER.Systems,We.IDENTIFIER.GeometrySystem).createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){return this.container.getNamed(We.IDENTIFIER.Systems,We.IDENTIFIER.GeometrySystem).createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){return this.container.getNamed(We.IDENTIFIER.Systems,We.IDENTIFIER.MaterialSystem).createShaderMaterial(e)}},{key:"createKernel",value:function(e){var t=this.container.get(_n);return"string"===typeof e?t.setBundle(JSON.parse(e)):t.setBundle(e),t.init(),t}},{key:"createRenderer",value:function(){var e=this.container.get(Yo);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){this.container.getAll(We.IDENTIFIER.Systems).forEach((function(e){e.tearDown&&e.tearDown()})),this.container.get(We.IDENTIFIER.RenderEngine).destroy(),this.container.get(We.IDENTIFIER.InteractorService).destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(We.createWorldContainer)(),r=navigator.gpu?Qr:mr;n.isBound(We.IDENTIFIER.RenderEngine)||n.bind(We.IDENTIFIER.RenderEngine).to(r).inSingletonScope(),n.bind(Yo).toSelf(),n.bind(_n).toSelf(),n.bind(Cn).toSelf(),n.bind(la).toSelf(),n.bind(vt).toSelf(),n.bind(Xo).toSelf(),n.bind(e).toSelf(),n.bind(qo).toSelf(),n.bind(ca).toSelf(),n.bind(We.IDENTIFIER.Geometry).to(ui).whenTargetNamed(gt.BOX),n.bind(We.IDENTIFIER.Geometry).to(Oi).whenTargetNamed(gt.SPHERE),n.bind(We.IDENTIFIER.Geometry).to(pi).whenTargetNamed(gt.PLANE),n.bind(We.IDENTIFIER.Geometry).to(fi).whenTargetNamed(gt.MERGED),n.bind(We.IDENTIFIER.Material).to(Bi).whenTargetNamed(Nn.BASIC),n.bind(We.IDENTIFIER.Renderable).to(Mo).whenTargetNamed(Cn.POINT),n.bind(We.IDENTIFIER.Renderable).to(yo).whenTargetNamed(Cn.LINE),n.bind(We.IDENTIFIER.Renderable).to(Vi).whenTargetNamed(Cn.GRID);var i=n.get(e);return i.setContainer(n),i.setConfig(t),i}}]),e}(),aa=ua,sa=ze()(aa.prototype,"configService",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oa=aa));var da=function(){function e(){Object(r.a)(this,e),this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return Object(s.a)(e,[{key:"init",value:function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}}},{key:"findGridByNodeId",value:function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(t=this.cells[r][i])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:i};return null}},{key:"sqdist",value:function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}},{key:"occupyNearest",value:function(t){for(var n,r=e.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(t,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i}},{key:"insertColumn",value:function(e,t){if(!(t<=0)){for(var n=0;n<t;n++){this.cells[n+this.columnNum]=[];for(var r=0;r<this.rowNum;r++)this.cells[n+this.columnNum][r]={dx:n,dy:r,x:n*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null}}for(var i=this.columnNum-1;i>e;i--)for(var o=0;o<this.rowNum;o++)this.cells[i+t][o]=Object.assign(Object.assign({},this.cells[i][o]),{x:(i+t)*this.CELL_W,y:o*this.CELL_H}),this.cells[i][o]={x:i*this.CELL_W,y:o*this.CELL_H,occupied:!0,node:null};for(var a=0;a<this.additionColumn.length;a++)this.additionColumn[a]>=e&&(this.additionColumn[a]+=t);for(var s=0;s<t;s++)this.additionColumn.push(e+s+1);this.columnNum+=t}}},{key:"insertRow",value:function(e,t){if(!(t<=0)){for(var n=0;n<t;n++)for(var r=0;r<this.columnNum;r++)this.cells[r][n+this.rowNum]={dx:r,dy:n,x:r*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(var i=0;i<this.columnNum;i++)for(var o=this.rowNum-1;o>e;o--)this.cells[i][o+t]=Object.assign(Object.assign({},this.cells[i][o]),{dx:i,dy:o+t,x:i*this.CELL_W,y:(o+t)*this.CELL_H}),this.cells[i][o]={dx:i,dy:o,x:i*this.CELL_W,y:o*this.CELL_H,occupied:!1,node:null};for(var a=0;a<this.additionRow.length;a++)this.additionRow[a]>=e&&(this.additionRow[a]+=t);for(var s=0;s<t;s++)this.additionRow.push(e+s+1);this.rowNum+=t}}},{key:"getNodes",value:function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e}}]),e}();da.MIN_DIST=50,da.DEFAULT_CELL_W=80,da.DEFAULT_CELL_H=80;new Map},2983:function(e,t,n){"use strict";var r=n(2),i=n(13),o=n(1),a=(n(10),n(290)),s=n(53),u=n(109),c=n(29),l=n(0),f=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],h={entering:{transform:"none"},entered:{transform:"none"}},d=o.forwardRef((function(e,t){var n=Object(s.a)(),d={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},p=e.addEndListener,m=e.appear,E=void 0===m||m,v=e.children,g=e.easing,y=e.in,b=e.onEnter,S=e.onEntered,T=e.onEntering,x=e.onExit,O=e.onExited,R=e.onExiting,A=e.style,_=e.timeout,N=void 0===_?d:_,C=e.TransitionComponent,L=void 0===C?a.a:C,I=Object(i.a)(e,f),w=o.useRef(null),M=Object(c.a)(v.ref,t),j=Object(c.a)(w,M),P=function(e){return function(t){if(e){var n=w.current;void 0===t?e(n):e(n,t)}}},k=P(T),D=P((function(e,t){Object(u.b)(e);var r=Object(u.a)({style:A,timeout:N,easing:g},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",r),e.style.transition=n.transitions.create("transform",r),b&&b(e,t)})),U=P(S),F=P(R),B=P((function(e){var t=Object(u.a)({style:A,timeout:N,easing:g},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),x&&x(e)})),G=P(O);return Object(l.jsx)(L,Object(r.a)({appear:E,in:y,nodeRef:w,onEnter:D,onEntered:U,onEntering:k,onExit:B,onExited:G,onExiting:F,addEndListener:function(e){p&&p(w.current,e)},timeout:N},I,{children:function(e,t){return o.cloneElement(v,Object(r.a)({style:Object(r.a)({transform:"scale(0)",visibility:"exited"!==e||y?void 0:"hidden"},h[e],A,v.props.style),ref:j},t))}}))}));t.a=d},3040:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23),i=n(270),o=n(9);function a(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(i.a)(e,-n)}},3052:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"}),"CenterFocusStrong");t.default=a},3053:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");t.default=a},3054:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");t.default=a},3055:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4h4zm-6 4h-4v-4h4v4z"}),"Grid3x3");t.default=a},3362:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(1345),i=n(1005),o=n(1),a=n(566);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(i.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var u={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},c=n(379),l=(n(10),n(304)),f=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var h=n(899),d=n(900),p=n(901),m=n(937),E=n(902),v=n(932),g=n(903);function y(){return{plugins:[Object(h.a)(),Object(d.a)(),Object(p.a)(),Object(m.a)(),Object(E.a)(),"undefined"===typeof window?null:Object(v.a)(),Object(g.a)()]}}n(0);var b=Object(a.c)(y()),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==f.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[l.a]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),T={disableGeneration:!1,generateClassName:S,jss:b,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},x=o.createContext(T);var O=-1e9;function R(){return O+=1}var A=n(167),_=n(315),N=["variant"];function C(e){return 0===e.length}function L(e){var t="function"===typeof e;return{create:function(n,o){var a;try{a=t?e(n):e}catch(l){throw l}if(!o||!n.components||!n.components[o]||!n.components[o].styleOverrides&&!n.components[o].variants)return a;var s=n.components[o].styleOverrides||{},u=n.components[o].variants||[],c=Object(i.a)({},a);return Object.keys(s).forEach((function(e){c[e]=Object(A.a)(c[e]||{},s[e])})),u.forEach((function(e){var t=function(e){var t=e.variant,n=Object(r.a)(e,N),i=t||"";return Object.keys(n).sort().forEach((function(t){i+="color"===t?C(i)?e[t]:Object(_.a)(e[t]):"".concat(C(i)?t:Object(_.a)(t)).concat(Object(_.a)(e[t].toString()))})),i}(e.props);c[t]=Object(A.a)(c[t]||{},e.style)})),c},options:{}}}var I={},w=["name","classNamePrefix","Component","defaultTheme"];function M(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=s({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function j(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,c=e.stylesCreator,l=e.name;if(!o.disableGeneration){var f=u.get(o.sheetsManager,c,r);f||(f={refs:0,staticSheet:null,dynamicStyles:null},u.set(o.sheetsManager,c,r,f));var h=Object(i.a)({},c.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});h.generateId=h.serverGenerateClassName||h.generateClassName;var d=o.sheetsRegistry;if(0===f.refs){var p;o.sheetsCache&&(p=u.get(o.sheetsCache,c,r));var m=c.create(r,l);p||((p=o.jss.createStyleSheet(m,Object(i.a)({link:!1},h))).attach(),o.sheetsCache&&u.set(o.sheetsCache,c,r,p)),d&&d.add(p),f.staticSheet=p,f.dynamicStyles=Object(a.e)(m)}if(f.dynamicStyles){var E=o.jss.createStyleSheet(f.dynamicStyles,Object(i.a)({link:!0},h));E.update(t),E.attach(),n.dynamicSheet=E,n.classes=s({baseClasses:f.staticSheet.classes,newClasses:E.classes}),d&&d.add(E)}else n.classes=f.staticSheet.classes;f.refs+=1}}function P(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function k(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=u.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(u.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function D(e,t){var n,r=o.useRef([]),i=o.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.useEffect((function(){return function(){n&&n()}}),[i])}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,u=t.defaultTheme,l=void 0===u?I:u,f=Object(r.a)(t,w),h=L(e),d=n||a||"makeStyles";h.options={index:R(),name:n,meta:d,classNamePrefix:d};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.a)()||l,r=Object(i.a)({},o.useContext(x),f),a=o.useRef(),u=o.useRef();D((function(){var i={name:n,state:{},stylesCreator:h,stylesOptions:r,theme:t};return j(i,e),u.current=!1,a.current=i,function(){k(i)}}),[t,h]),o.useEffect((function(){u.current&&P(a.current,e),u.current=!0}));var d=M(a.current,e.classes,s);return d};return p}},3367:function(e,t,n){"use strict";var r=n(3),i=n(13),o=n(2),a=n(1),s=(n(10),n(14)),u=n(134),c=n(450),l=n(17),f=n(15),h=n(69),d=n(78);function p(e){return Object(h.a)("MuiFab",e)}var m=Object(d.a)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),E=n(8),v=n(0),g=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],y=Object(E.a)(c.a,{name:"MuiFab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat(Object(l.a)(n.size))],"inherit"===n.color&&t.colorInherit,t[Object(l.a)(n.size)],t[n.color]]}})((function(e){var t,n=e.theme,i=e.ownerState;return Object(o.a)({},n.typography.button,(t={minHeight:36,transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:n.shadows[6],"&:active":{boxShadow:n.shadows[12]},color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],"&:hover":{backgroundColor:n.palette.grey.A100,"@media (hover: none)":{backgroundColor:n.palette.grey[300]},textDecoration:"none"}},Object(r.a)(t,"&.".concat(m.focusVisible),{boxShadow:n.shadows[6]}),Object(r.a)(t,"&.".concat(m.disabled),{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground}),t),"small"===i.size&&{width:40,height:40},"medium"===i.size&&{width:48,height:48},"extended"===i.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===i.variant&&"small"===i.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===i.variant&&"medium"===i.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===i.color&&{color:"inherit"})}),(function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({},"inherit"!==n.color&&"default"!==n.color&&null!=t.palette[n.color]&&{color:t.palette[n.color].contrastText,backgroundColor:t.palette[n.color].main,"&:hover":{backgroundColor:t.palette[n.color].dark,"@media (hover: none)":{backgroundColor:t.palette[n.color].main}}})})),b=a.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiFab"}),r=n.children,a=n.className,c=n.color,h=void 0===c?"default":c,d=n.component,m=void 0===d?"button":d,E=n.disabled,b=void 0!==E&&E,S=n.disableFocusRipple,T=void 0!==S&&S,x=n.focusVisibleClassName,O=n.size,R=void 0===O?"large":O,A=n.variant,_=void 0===A?"circular":A,N=Object(i.a)(n,g),C=Object(o.a)({},n,{color:h,component:m,disabled:b,disableFocusRipple:T,size:R,variant:_}),L=function(e){var t=e.color,n=e.variant,r=e.classes,i=e.size,o={root:["root",n,"size".concat(Object(l.a)(i)),"inherit"===t?"colorInherit":t]};return Object(u.a)(o,p,r)}(C);return Object(v.jsx)(y,Object(o.a)({className:Object(s.default)(L.root,a),component:m,disabled:b,focusRipple:!T,focusVisibleClassName:Object(s.default)(L.focusVisible,x),ownerState:C,ref:t},N,{children:r}))}));t.a=b},3473:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.default=a},3477:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize");t.default=a},3478:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"StorageOutlined");t.default=a},3479:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1.41 2L5 17.59V5h12.59zM6.41 19 19 6.41V19H6.41zM6 7h5v1.5H6zm10 5.5h-1.5v2h-2V16h2v2H16v-2h2v-1.5h-2z"}),"ExposureOutlined");t.default=a},3480:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"m17 16-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"}),"DeviceHubOutlined");t.default=a},3481:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsxs)("g",{fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H4V5h16v14z"}),(0,o.jsx)("path",{d:"M19.41 10.42 17.99 9l-3.17 3.17-1.41-1.42L12 12.16 14.82 15zM5 7h5v2H5zm0 4h5v2H5zm0 4h5v2H5z"})]}),"FactCheckOutlined");t.default=a},3482:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"m17.73 12.02 3.98-3.98c.39-.39.39-1.02 0-1.41l-4.34-4.34a.9959.9959 0 0 0-1.41 0l-3.98 3.98L8 2.29C7.8 2.1 7.55 2 7.29 2c-.25 0-.51.1-.7.29L2.25 6.63c-.39.39-.39 1.02 0 1.41l3.98 3.98L2.25 16c-.39.39-.39 1.02 0 1.41l4.34 4.34c.39.39 1.02.39 1.41 0l3.98-3.98 3.98 3.98c.2.2.45.29.71.29.26 0 .51-.1.71-.29l4.34-4.34c.39-.39.39-1.02 0-1.41l-3.99-3.98zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.71 1.96L3.66 7.34l3.63-3.63 3.62 3.62-3.62 3.63zM10 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.66 9.34-3.63-3.62 3.63-3.63 3.62 3.62-3.62 3.63z"}),"Healing");t.default=a},3483:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M3 4c0-.55.45-1 1-1h2V1H4C2.34 1 1 2.34 1 4v2h2V4zm0 16v-2H1v2c0 1.66 1.34 3 3 3h2v-2H4c-.55 0-1-.45-1-1zM20 1h-2v2h2c.55 0 1 .45 1 1v2h2V4c0-1.66-1.34-3-3-3zm1 19c0 .55-.45 1-1 1h-2v2h2c1.66 0 3-1.34 3-3v-2h-2v2zm-2-5.13V9.13c0-.72-.38-1.38-1-1.73l-5-2.88c-.31-.18-.65-.27-1-.27s-.69.09-1 .27L6 7.39c-.62.36-1 1.02-1 1.74v5.74c0 .72.38 1.38 1 1.73l5 2.88c.31.18.65.27 1 .27s.69-.09 1-.27l5-2.88c.62-.35 1-1.01 1-1.73zm-8 2.3-4-2.3v-4.63l4 2.33v4.6zm1-6.33L8.04 8.53 12 6.25l3.96 2.28L12 10.84zm5 4.03-4 2.3v-4.6l4-2.33v4.63z"}),"ViewInArOutlined");t.default=a},3484:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"}),"CropFree");t.default=a},3485:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"}),"CropOriginal");t.default=a},3802:function(e,t,n){"use strict";n.r(t);var r=n(18),i=n(32),o=n(1),a=n.n(o),s=n(53),u=(n(328),n(381)),c=n(3),l=n(13),f=n(2),h=(n(136),n(10),n(14)),d=n(134),p=n(8),m=n(15),E=n(2983),v=n(3367),g=n(17),y=n(113),b=n(29),S=n(103),T=n(69),x=n(78);function O(e){return Object(T.a)("MuiSpeedDial",e)}var R=Object(x.a)("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),A=n(0),_=["ref"],N=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],C=["ref"];function L(e){return"up"===e||"down"===e?"vertical":"right"===e||"left"===e?"horizontal":void 0}var I=Object(p.a)("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["direction".concat(Object(g.a)(n.direction))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(f.a)({zIndex:t.zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},"up"===n.direction&&Object(c.a)({flexDirection:"column-reverse"},"& .".concat(R.actions),{flexDirection:"column-reverse",marginBottom:-32,paddingBottom:48}),"down"===n.direction&&Object(c.a)({flexDirection:"column"},"& .".concat(R.actions),{flexDirection:"column",marginTop:-32,paddingTop:48}),"left"===n.direction&&Object(c.a)({flexDirection:"row-reverse"},"& .".concat(R.actions),{flexDirection:"row-reverse",marginRight:-32,paddingRight:48}),"right"===n.direction&&Object(c.a)({flexDirection:"row"},"& .".concat(R.actions),{flexDirection:"row",marginLeft:-32,paddingLeft:48}))})),w=Object(p.a)(v.a,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:function(e,t){return t.fab}})((function(){return{pointerEvents:"auto"}})),M=Object(p.a)("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:function(e,t){var n=e.ownerState;return[t.actions,!n.open&&t.actionsClosed]}})((function(e){var t=e.ownerState;return Object(f.a)({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})})),j=o.forwardRef((function(e,t){var n=Object(m.a)({props:e,name:"MuiSpeedDial"}),i=Object(s.a)(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},u=n.ariaLabel,c=n.FabProps,p=(c=void 0===c?{}:c).ref,v=n.children,T=n.className,x=n.direction,R=void 0===x?"up":x,j=n.hidden,P=void 0!==j&&j,k=n.icon,D=n.onBlur,U=n.onClose,F=n.onFocus,B=n.onKeyDown,G=n.onMouseEnter,V=n.onMouseLeave,H=n.onOpen,z=n.open,W=n.TransitionComponent,Y=void 0===W?E.a:W,X=n.transitionDuration,q=void 0===X?a:X,K=n.TransitionProps,Q=Object(l.a)(n.FabProps,_),J=Object(l.a)(n,N),Z=Object(S.a)({controlled:z,default:!1,name:"SpeedDial",state:"open"}),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=Object(f.a)({},n,{open:ee,direction:R}),re=function(e){var t=e.classes,n=e.open,r=e.direction,i={root:["root","direction".concat(Object(g.a)(r))],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return Object(d.a)(i,O,t)}(ne),ie=o.useRef();o.useEffect((function(){return function(){clearTimeout(ie.current)}}),[]);var oe=o.useRef(0),ae=o.useRef(),se=o.useRef([]);se.current=[se.current[0]];var ue=o.useCallback((function(e){se.current[0]=e}),[]),ce=Object(b.a)(p,ue),le=function(e,t){return function(n){se.current[e+1]=n,t&&t(n)}};o.useEffect((function(){ee||(oe.current=0,ae.current=void 0)}),[ee]);var fe=function(e){"mouseleave"===e.type&&V&&V(e),"blur"===e.type&&D&&D(e),clearTimeout(ie.current),"blur"===e.type?ie.current=setTimeout((function(){te(!1),U&&U(e,"blur")})):(te(!1),U&&U(e,"mouseLeave"))},he=function(e){"mouseenter"===e.type&&G&&G(e),"focus"===e.type&&F&&F(e),clearTimeout(ie.current),ee||(ie.current=setTimeout((function(){if(te(!0),H){H(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])}})))},de=u.replace(/^[^a-z]+|[^\w:.-]+/gi,""),pe=o.Children.toArray(v).filter((function(e){return o.isValidElement(e)})),me=pe.map((function(e,t){var n=e.props,r=n.FabProps,i=(r=void 0===r?{}:r).ref,a=n.tooltipPlacement,s=Object(l.a)(n.FabProps,C),u=a||("vertical"===L(R)?"left":"top");return o.cloneElement(e,{FabProps:Object(f.a)({},s,{ref:le(t,i)}),delay:30*(ee?t:pe.length-t),open:ee,tooltipPlacement:u,id:"".concat(de,"-action-").concat(t)})}));return Object(A.jsxs)(I,Object(f.a)({className:Object(h.default)(re.root,T),ref:t,role:"presentation",onKeyDown:function(e){B&&B(e);var t,n,r,i=e.key.replace("Arrow","").toLowerCase(),o=ae.current,a=void 0===o?i:o;if("Escape"===e.key)return te(!1),se.current[0].focus(),void(U&&U(e,"escapeKeyDown"));if(L(i)===L(a)&&void 0!==L(i)){e.preventDefault();var s=i===a?1:-1,u=(t=oe.current+s,n=0,r=se.current.length-1,t<n?n:t>r?r:t);se.current[u].focus(),oe.current=u,ae.current=a}},onBlur:fe,onFocus:he,onMouseEnter:he,onMouseLeave:fe,ownerState:ne},J,{children:[Object(A.jsx)(Y,Object(f.a)({in:!P,timeout:q,unmountOnExit:!0},K,{children:Object(A.jsx)(w,Object(f.a)({color:"primary","aria-label":u,"aria-haspopup":"true","aria-expanded":ee,"aria-controls":"".concat(de,"-actions")},Q,{onClick:function(e){Q.onClick&&Q.onClick(e),clearTimeout(ie.current),ee?(te(!1),U&&U(e,"toggle")):(te(!0),H&&H(e,"toggle"))},className:Object(h.default)(re.fab,Q.className),ref:ce,ownerState:ne,children:o.isValidElement(k)&&Object(y.a)(k,["SpeedDialIcon"])?o.cloneElement(k,{open:ee}):k}))})),Object(A.jsx)(M,{id:"".concat(de,"-actions"),role:"menu","aria-orientation":L(R),className:Object(h.default)(re.actions,!ee&&re.actionsClosed),ownerState:ne,children:me})]}))})),P=n(42),k=Object(P.a)(Object(A.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function D(e){return Object(T.a)("MuiSpeedDialIcon",e)}var U=Object(x.a)("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),F=["className","icon","open","openIcon"],B=Object(p.a)("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(c.a)({},"& .".concat(U.icon),t.icon),Object(c.a)({},"& .".concat(U.icon),n.open&&t.iconOpen),Object(c.a)({},"& .".concat(U.icon),n.open&&n.openIcon&&t.iconWithOpenIconOpen),Object(c.a)({},"& .".concat(U.openIcon),t.openIcon),Object(c.a)({},"& .".concat(U.openIcon),n.open&&t.openIconOpen),t.root]}})((function(e){var t,n=e.theme,r=e.ownerState;return t={height:24},Object(c.a)(t,"& .".concat(U.icon),Object(f.a)({transition:n.transitions.create(["transform","opacity"],{duration:n.transitions.duration.short})},r.open&&Object(f.a)({transform:"rotate(45deg)"},r.openIcon&&{opacity:0}))),Object(c.a)(t,"& .".concat(U.openIcon),Object(f.a)({position:"absolute",transition:n.transitions.create(["transform","opacity"],{duration:n.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},r.open&&{transform:"rotate(0deg)",opacity:1})),t})),G=o.forwardRef((function(e,t){var n=Object(m.a)({props:e,name:"MuiSpeedDialIcon"}),r=n.className,i=n.icon,a=n.openIcon,s=Object(l.a)(n,F),u=n,c=function(e){var t=e.classes,n=e.open,r={root:["root"],icon:["icon",n&&"iconOpen",e.openIcon&&n&&"iconWithOpenIconOpen"],openIcon:["openIcon",n&&"openIconOpen"]};return Object(d.a)(r,D,t)}(u);function p(e,t){return o.isValidElement(e)?o.cloneElement(e,{className:t}):e}return Object(A.jsxs)(B,Object(f.a)({className:Object(h.default)(c.root,r),ref:t,ownerState:u},s,{children:[a?p(a,c.openIcon):null,i?p(i,c.icon):Object(A.jsx)(k,{className:c.icon})]}))}));G.muiName="SpeedDialIcon";var V=G,H=n(321),z=n(442),W=n(433),Y=n(227),X=n(3473),q=n.n(X),K=n(242),Q=function(e){return Object(A.jsxs)(H.a,{sx:{cursor:"move",":hover":{bgcolor:Object(K.a)(e.color,.1)},width:100,height:100,border:"1px dashed "+e.color},children:[e.error&&Object(A.jsx)(z.a,{title:"\u8282\u70b9\u9519\u8bef",children:Object(A.jsx)(q.a,{sx:{position:"absolute",right:15,top:-15},color:"error"})}),Object(A.jsxs)(W.a,{width:1,height:1,alignItems:"center",justifyContent:"center",children:[e.icon,Object(A.jsx)(Y.a,{variant:"overline",children:e.title})]})]})},J=n(24),Z=n(320),$=function(e){return Object(A.jsx)(Z.a,Object(J.a)(Object(J.a)({},e),{},{children:Object(A.jsx)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M870.4 65.1H153.6c-48.9 0-88.7 39.8-88.7 88.7v716.3c0 48.9 39.8 88.7 88.7 88.7h716.8c48.9 0 88.7-39.8 88.7-88.7V153.8c0-48.9-39.8-88.7-88.7-88.7z m-454 542.5V416.4h191.2v191.2H416.4z m191.2 80v191.2H416.4V687.6h191.2zM144.9 416.4h191.5v191.2H144.9V416.4z m542.7 0h191.5v191.2H687.6V416.4z m-534-271.3h716.8c4.8 0 8.7 3.9 8.7 8.7v182.6H144.9V153.8c0-4.8 3.9-8.7 8.7-8.7z m-8.7 725.1V687.6h191.5v191.2H153.6c-4.8 0.1-8.7-3.8-8.7-8.6z m725.5 8.7H687.6V687.6h191.5v182.6c0 4.8-3.9 8.7-8.7 8.7z"})})}))},ee=n(3478),te=n.n(ee),ne=n(1010),re=function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(u.a,{width:"100%",height:"100%",sx:{borderRadius:"25px",boxShadow:e.selected?"0 0 6px 2px rgb(50 75 216 / 37%)":""},children:[Object(A.jsx)(u.a,{sx:{width:1,height:1},onClick:function(){a(!i)},children:e.header}),Object(A.jsx)(u.a,{onClick:function(e){return e.stopPropagation()},children:Object(A.jsx)(ne.a,{sx:{width:"500px",paddingTop:"10px"},in:i,children:e.configForm})})]})})},ie=n(471),oe=n(1385),ae=n(452),se=n(440),ue=n(456),ce=n(457),le=n(458),fe=n(459),he=n(460),de=[{code:"msisdn",name:"\u7528\u6237\u7f16\u53f7",desc:"\u7528\u6237\u52a0\u5bc6\u624b\u673a\u53f7"},{code:"name",name:"\u7528\u6237\u540d",desc:"\u7528\u6237\u7684\u540d\u5b57"}],pe=function(e){var t=Object(o.useState)(""),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(o.useEffect)((function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{type:"data-source",configs:{alias:i}})}),[i]),Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(ie.a,{children:[Object(A.jsx)(oe.a,{disableTypography:!0,title:Object(A.jsxs)(u.a,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)(Y.a,{color:"textPrimary",variant:"h6",children:"\u6570\u636e\u8be6\u60c5"}),Object(A.jsx)(ae.a,{label:"\u522b\u540d",value:i,onChange:function(e){return a(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u522b\u540d",required:!0})]})}),Object(A.jsx)(se.a,{}),Object(A.jsxs)(ue.a,{children:[Object(A.jsx)(ce.a,{children:Object(A.jsxs)(le.a,{children:[Object(A.jsx)(fe.a,{children:"\u5b57\u6bb5"}),Object(A.jsx)(fe.a,{children:"\u540d\u79f0"}),Object(A.jsx)(fe.a,{children:"\u63cf\u8ff0"})]})}),Object(A.jsx)(he.a,{children:de.map((function(e){return Object(A.jsxs)(le.a,{sx:{"&:last-child td":{border:0}},children:[Object(A.jsx)(fe.a,{children:Object(A.jsx)(u.a,{sx:{alignItems:"center",display:"flex"},children:Object(A.jsx)(Y.a,{color:"textPrimary",variant:"subtitle2",children:e.code})})}),Object(A.jsx)(fe.a,{children:e.name}),Object(A.jsx)(fe.a,{children:e.desc})]},e.code)}))})]})]})})},me=n(3479),Ee=n.n(me),ve=function(e){return Object(A.jsx)(Z.a,Object(J.a)(Object(J.a)({},e),{},{children:Object(A.jsxs)("svg",{className:"icon",viewBox:"0 0 1071 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(A.jsx)("path",{d:"M133.779571 380.562789a66.949032 66.949032 0 1 0 66.949033-66.949032 66.949032 66.949032 0 0 0-66.949033 66.949032zM487.009776 624.84447a60.919011 60.919011 0 1 0 60.919011-60.919011 60.919011 60.919011 0 0 0-60.919011 60.919011zM305.082199 274.74777a66.949032 66.949032 0 0 0 133.911231 0 66.949032 66.949032 0 1 0-133.911231 0zM305.082199 737.80862a66.949032 66.949032 0 1 0 66.949032-66.949033 66.949032 66.949032 0 0 0-66.949032 66.949033zM295.194544 506.284778a76.849853 76.849853 0 1 0 76.863019-76.863019 76.849853 76.849853 0 0 0-76.863019 76.863019zM133.779571 624.84447a72.017937 72.017937 0 0 0 144.035873 0 72.017937 72.017937 0 0 0-144.035873 0z",fill:"#0066EB"}),Object(A.jsx)("path",{d:"M697.152059 517.015055a60.050056 60.050056 0 1 0 60.050056-60.050056 60.050056 60.050056 0 0 0-60.050056 60.050056zM824.190646 395.163866a60.050056 60.050056 0 0 0 120.100112 0 60.050056 60.050056 0 0 0-120.100112 0zM824.190646 638.853078a60.050056 60.050056 0 1 0 60.050056-60.050056A60.050056 60.050056 0 0 0 824.190646 638.853078z",fill:"#00D929"}),Object(A.jsx)("path",{d:"M490.985903 371.188608a56.942884 56.942884 0 1 0 113.885769 0 56.942884 56.942884 0 1 0-113.885769 0zM0 506.284778a42.131151 42.131151 0 1 0 42.131151-42.131152 42.131151 42.131151 0 0 0-42.131151 42.131152z",fill:"#0066EB"}),Object(A.jsx)("path",{d:"M787.957855 753.528805v30.163271c0 23.172133-20.960248 51.505332-48.33233 63.736533l-127.051752 56.811224c-40.643395 18.169059-107.105286 50.702207-107.105286-22.92198v-738.611744c0-70.122035 66.448725-41.091038 107.105286-22.92198l127.051752 56.811224c27.372082 12.244366 48.33233 40.564399 48.33233 63.736533v30.163271h47.884687v-55.297136c0-21.592215-18.155893-48.59565-41.762504-60.721522l-269.902687-138.690483C474.739078-9.755995 430.317046-3.949795 430.317046 31.01906v961.946344c0 34.982021 44.422033 40.814553 93.899803 15.338372l269.902687-138.690483c23.606611-12.139038 41.762504-39.129307 41.762504-60.721522v-55.297136z",fill:"#0066EB"}),Object(A.jsx)("path",{d:"M951.321394 517.015055a60.050056 60.050056 0 1 0 60.050057-60.050056 60.050056 60.050056 0 0 0-60.050057 60.050056z",fill:"#00D929"})]})}))},ge=n(472),ye=n(451),be=n(466),Se=n(435),Te=n(584),xe=(A.Fragment,function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(!1),s=Object(r.a)(a,2),c=s[0],l=s[1],f=Object(o.useState)(""),h=Object(r.a)(f,2),d=(h[0],h[1]),p=Object(o.useState)(""),m=Object(r.a)(p,2),E=m[0],v=m[1],g=Object(o.useState)(""),y=Object(r.a)(g,2),b=y[0],S=y[1],T=Object(o.useState)(""),x=Object(r.a)(T,2),O=x[0],R=x[1],_=Object(o.useState)(""),N=Object(r.a)(_,2),C=N[0],L=N[1];return Object(A.jsxs)(ie.a,{children:[Object(A.jsx)(oe.a,{disableTypography:!0,title:Object(A.jsxs)(u.a,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)(Y.a,{color:"textPrimary",variant:"h6",children:"\u8fc7\u6ee4\u8282\u70b9\u914d\u7f6e"}),Object(A.jsx)(z.a,{title:"\u8868\u7ed3\u6784\u8868\u8ff0\u4fe1\u606f",children:Object(A.jsx)(Te.a,{})})]})}),Object(A.jsxs)(ue.a,{children:[!c&&Object(A.jsx)("caption",{children:Object(A.jsx)(ge.a,{color:"primary",fullWidth:!0,onClick:function(){l(!0)},variant:"text",children:"\u6dfb\u52a0\u8fc7\u6ee4\u6761\u4ef6"})}),Object(A.jsx)(ce.a,{children:Object(A.jsxs)(le.a,{children:[Object(A.jsx)(fe.a,{children:"\u5b57\u6bb5"}),Object(A.jsx)(fe.a,{children:"\u6bd4\u8f83\u7c7b\u578b"}),Object(A.jsx)(fe.a,{children:"\u6bd4\u8f83\u5bf9\u8c61"}),Object(A.jsx)(fe.a,{children:"\u503c"})]})}),Object(A.jsxs)(he.a,{children:[n.map((function(e){return Object(A.jsxs)(le.a,{sx:{"&:last-child td":{border:0}},children:[Object(A.jsx)(fe.a,{children:e.field}),Object(A.jsx)(fe.a,{children:e.type}),Object(A.jsx)(fe.a,{children:e.obj}),Object(A.jsx)(fe.a,{children:e.value})]},Math.random())})),c&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(le.a,{children:[Object(A.jsx)(fe.a,{children:Object(A.jsx)(ye.a,{id:"demo-simple-select",value:E,onChange:function(e){v(e.target.value)},children:["id","name","age"].map((function(e){return Object(A.jsx)(be.a,{value:e,children:e})}))})}),Object(A.jsx)(fe.a,{children:Object(A.jsx)(ye.a,{id:"demo-simple-select",value:b,onChange:function(e){S(e.target.value)},children:["\u5927\u4e8e","\u5c0f\u4e8e","\u7b49\u4e8e"].map((function(e){return Object(A.jsx)(be.a,{value:e,children:e})}))})}),Object(A.jsx)(fe.a,{children:Object(A.jsx)(ye.a,{id:"demo-simple-select",value:O,onChange:function(e){R(e.target.value)},children:["\u5b57\u6bb5","\u7279\u5b9a\u503c","\u53d8\u91cf"].map((function(e){return Object(A.jsx)(be.a,{value:e,children:e})}))})}),Object(A.jsx)(fe.a,{children:Object(A.jsx)(Se.a,{autoFocus:!0,value:C,placeholder:"\u8bf7\u8f93\u5165\u503c",onChange:function(e){return L(e.target.value)}})})]},Math.random()),Object(A.jsx)(le.a,{children:Object(A.jsxs)(fe.a,{colSpan:4,align:"right",children:[Object(A.jsx)(ge.a,{color:"primary",onClick:function(){l(!1),d("")},variant:"text",children:"\u5173\u95ed"}),Object(A.jsx)(ge.a,{color:"primary",variant:"contained",onClick:function(){i(n.concat({field:E,type:b,obj:O,value:C}))},children:"\u6dfb\u52a0"})]})})]})]})]})]})}),Oe=function(e){return Object(A.jsx)(Z.a,Object(J.a)(Object(J.a)({},e),{},{children:Object(A.jsxs)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(A.jsx)("path",{d:"M271.1 327.5 208.6 382.7c-22-30.6-44.3-45.8-67.1-45.8-11.1 0-20.1 3-27.2 8.9-7 5.9-10.6 12.6-10.6 20.1 0 7.4 2.5 14.5 7.6 21.1 6.8 8.9 27.5 27.9 61.9 57 32.2 26.9 51.8 43.9 58.6 51 17.1 17.3 29.3 33.8 36.4 49.6 7.1 15.8 10.7 33 10.7 51.7 0 36.4-12.6 66.5-37.7 90.2-25.2 23.7-58 35.6-98.4 35.6-31.6 0-59.1-7.7-82.6-23.2-23.4-15.5-43.5-39.8-60.2-73l71-42.8c21.3 39.2 45.9 58.8 73.7 58.8 14.5 0 26.7-4.2 36.6-12.7 9.9-8.4 14.8-18.2 14.8-29.3 0-10.1-3.7-20.1-11.2-30.2-7.5-10.1-23.9-25.4-49.2-46.1-48.3-39.4-79.6-69.8-93.7-91.2-14.1-21.4-21.1-42.8-21.1-64.1 0-30.8 11.7-57.2 35.2-79.2 23.4-22 52.4-33 86.8-33 22.1 0 43.2 5.1 63.3 15.4C226.1 281.6 247.8 300.3 271.1 327.5z"}),Object(A.jsx)("path",{d:"M709.2 646l77.2 99.8-100 0-39.2-50.5c-32.4 17.8-68.6 26.6-108.4 26.6-66.6 0-122-23-166.1-68.9-44.1-45.9-66.1-100.7-66.1-164.2 0-42.4 10.3-81.4 30.8-116.9 20.5-35.5 48.7-63.7 84.7-84.6 35.9-20.9 74.5-31.4 115.7-31.4 63 0 117 22.7 162.2 68.2 45.2 45.4 67.8 100.8 67.8 166.2C767.8 550.5 748.2 602.3 709.2 646zM656.5 577.8c17.9-26.5 26.8-55.9 26.8-88.1 0-42-14.2-77.7-42.6-107.1-28.4-29.3-62.7-44-103-44-41.5 0-76.2 14.3-104.2 42.8-28 28.6-42 64.8-42 108.9 0 49.1 17.6 87.9 52.9 116.4 27.6 22.3 58.9 33.5 94 33.5 20.1 0 39.1-3.9 56.8-11.8l-79.4-102.2 100.7 0L656.5 577.8z"}),Object(A.jsx)("path",{d:"M816.5 267.1l84.4 0 0 363.1L1024 630.2l0 80.5L816.5 710.7 816.5 267.1z"})]})}))},Re=n(469),Ae=n(837),_e=n(394),Ne=n(441),Ce=n(828),Le=n(3477),Ie=n.n(Le),we=Object(P.a)(Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(A.jsx)("path",{stroke:"#374151",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8V4m0 0h4M3 4l4 4m8 0V4m0 0h-4m4 0l-4 4m-8 4v4m0 0h4m-4 0l4-4m8 4l-4-4m4 4v-4m0 4h-4"})}),"ArrowsExpand"),Me=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(A.jsxs)(H.a,{sx:Object(J.a)({display:"flex",flexDirection:"column",outline:"none",px:2,py:1},n&&{height:"100%",width:"100%"}),children:[Object(A.jsxs)(u.a,{sx:{alignItems:"center",display:"flex"},children:[Object(A.jsx)(Y.a,{variant:"h6",color:"textPrimary",children:"\u8282\u70b9\u914d\u7f6e"}),Object(A.jsx)(u.a,{sx:{flexGrow:1}}),n?Object(A.jsx)(Re.a,{onClick:function(){i(!1)},children:Object(A.jsx)(Ie.a,{})}):Object(A.jsx)(Re.a,{onClick:function(){i(!0)},children:Object(A.jsx)(we,{})})]}),Object(A.jsx)(se.a,{}),Object(A.jsx)(u.a,{sx:{py:3},children:Object(A.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(A.jsxs)(Ae.a,{container:!0,spacing:3,children:[Object(A.jsx)(Ae.a,{item:!0,xs:12,children:Object(A.jsx)(ae.a,{label:"\u540d\u79f0",fullWidth:!0,name:"name",required:!0})}),Object(A.jsx)(Ae.a,{item:!0,xs:12,children:Object(A.jsx)(ae.a,{label:"\u63cf\u8ff0",fullWidth:!0,name:"message",required:!0,multiline:!0,rows:3})}),Object(A.jsxs)(Ae.a,{item:!0,xs:12,children:[Object(A.jsx)(Y.a,{color:"textPrimary",sx:{mb:1},variant:"subtitle2",children:"SQL"}),Object(A.jsx)(Ce.a,{value:""})]})]})})})]});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(_e.a,{open:n}),n?Object(A.jsx)(Ne.a,{fullWidth:!0,sx:{zIndex:7},maxWidth:"lg",open:n,children:a}):a]})},je=n(3480),Pe=n.n(je),ke=function(e){return Object(A.jsx)(Z.a,Object(J.a)(Object(J.a)({},e),{},{children:Object(A.jsx)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M947.272501 612.228749 825.290309 733.259266c-7.582699 7.520277-17.575284 11.282974-27.495214 11.282974-9.925047 0-19.97903-3.762697-27.561729-11.282974l-122.213459-121.030517c-15.193027-15.083533-15.770172-39.570227-0.624217-54.69674 15.145955-15.125489 38.659485-15.172561 53.862745-0.084934l53.514821 55.255465L754.773256 357.13591 413.993872 357.13591c-21.451568 0-38.845727-17.486256-38.845727-38.844703 0-21.357424 17.393135-38.844703 38.845727-38.844703l383.937322 0c21.452591 0 34.530444 16.276708 34.530444 37.634132l0 295.623951 57.83215-55.257511c15.198144-15.069207 41.948391-15.036461 57.098439 0.084934C962.53716 572.662615 962.466552 597.145216 947.272501 612.228749zM609.997941 667.890466 269.218558 667.890466 269.218558 410.253688l53.519937 55.257511c7.582699 7.525394 16.424064 11.282974 26.349111 11.282974 9.962909 0 19.382443-3.791349 26.973328-11.367909 15.145955-15.130605 14.838963-39.613206-0.354064-54.69674L253.623371 289.701055c-15.163351-15.040555-39.757492-15.040555-54.921867 0L76.719312 410.730549c-15.19405 15.083533-15.248286 39.566134-0.103354 54.69674 15.156188 15.125489 41.896202 15.159258 57.08923 0.084934l57.824987-55.257511 0 295.623951c0 21.357424 13.077853 39.702234 34.530444 39.702234l383.937322 0c21.451568 0 38.845727-17.48728 38.845727-38.844703C648.842645 685.377746 631.449509 667.890466 609.997941 667.890466z"})})}))},De=function(e){return Object(A.jsx)(Z.a,Object(J.a)(Object(J.a)({},e),{},{children:Object(A.jsxs)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(A.jsx)("path",{d:"M889.173333 267.52L757.76 136.533333a33.706667 33.706667 0 0 0-58.026667 23.893334v262.4a34.133333 34.133333 0 0 0 58.026667 23.893333l131.413333-130.986667a34.133333 34.133333 0 0 0 0-48.213333zM889.173333 736.853333l-131.413333-130.986666a33.706667 33.706667 0 0 0-58.026667 23.893333v262.4a34.133333 34.133333 0 0 0 58.026667 23.893333l131.413333-130.986666a34.133333 34.133333 0 0 0 0-48.213334z"}),Object(A.jsx)("path",{d:"M102.4 426.666667m42.666667 0l256 0q42.666667 0 42.666666 42.666666l0 0q0 42.666667-42.666666 42.666667l-256 0q-42.666667 0-42.666667-42.666667l0 0q0-42.666667 42.666667-42.666666Z"}),Object(A.jsx)("path",{d:"M742.4 810.666667h-170.666667a42.666667 42.666667 0 0 1-30.293333-12.373334l-170.666667-170.666666a42.666667 42.666667 0 1 1 60.586667-60.586667l157.866667 158.293333h153.173333a42.666667 42.666667 0 0 1 0 85.333334zM401.066667 512a42.666667 42.666667 0 0 1-30.293334-12.373333 42.666667 42.666667 0 0 1 0-60.586667l170.666667-170.666667A42.666667 42.666667 0 0 1 571.733333 256h170.666667a42.666667 42.666667 0 0 1 0 85.333333h-153.173333l-157.866667 158.293334a42.666667 42.666667 0 0 1-30.293333 12.373333z"})]})}))},Ue=n(3481),Fe=n.n(Ue),Be=function(e){return Object(A.jsx)(Z.a,Object(J.a)(Object(J.a)({},e),{},{children:Object(A.jsxs)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[Object(A.jsx)("path",{d:"M169.8 169v686H856V169H169.8zM810 215v146.7H215.8V215H810zM215.8 809V407.7H810V809H215.8z"}),Object(A.jsx)("path",{d:"M256.9 267.2h64v46h-64zM384.9 267.2h64v46h-64zM512.9 267.2h64v46h-64zM448.9 489.5h255.2v46H448.9zM320.1 585.3h384v46h-384zM320.1 681.1h384v46h-384z"})]})}))},Ge=n(2556),Ve=n(1774),He=function(e){return Object(A.jsx)(Q,{icon:Object(A.jsx)($,{fontSize:"large",htmlColor:"rgb(0, 0, 255)"}),color:"rgb(0, 0, 255)",title:e})},ze=function(e){return[{icon:Object(A.jsx)(te.a,{}),name:"\u6570\u636e\u8282\u70b9",groupId:"group-data-node",nodes:["\u7528\u6237\u5c5e\u6027\u8868","\u7528\u6237\u8f68\u8ff9\u8868","\u7528\u6237\u6d88\u8d39\u8868","\u57fa\u7ad9\u5de5\u53c2\u8868","\u7528\u6237\u6f2b\u6e38\u8868","\u666f\u533a\u8f6e\u5ed3\u8868","POI\u8868"].map((function(t,n){return{id:"graph-node"+t+n,simpleView:(r=t,Object(A.jsx)(Q,{icon:Object(A.jsx)($,{fontSize:"large",htmlColor:"rgb(0, 0, 255)"}),color:"rgb(0, 0, 255)",title:r})),node:Object(A.jsx)(re,{configForm:Object(A.jsx)(pe,{onChange:e}),header:He(t)})};var r}))},{icon:Object(A.jsx)(Ee.a,{}),name:"\u5206\u6790\u8282\u70b9",groupId:"group-analyse-node",nodes:[{id:"graph-node-filter-8",simpleView:Object(A.jsx)(Q,{icon:Object(A.jsx)(ve,{fontSize:"large",htmlColor:"blue"}),color:"rgb(84, 196, 195)",title:"Filter"}),node:Object(A.jsx)(re,{configForm:Object(A.jsx)(xe,{}),header:Object(A.jsx)(Q,{error:!0,icon:Object(A.jsx)(ve,{fontSize:"large",htmlColor:"rgb(84, 196, 195)"}),color:"rgb(84, 196, 195)",title:"Filter"})})},{id:"graph-node-sql-15",simpleView:Object(A.jsx)(Q,{icon:Object(A.jsx)(Oe,{fontSize:"large",htmlColor:"rgb(84, 196, 195)"}),color:"rgb(84, 196, 195)",title:"SQL"}),node:Object(A.jsx)(re,{configForm:Object(A.jsx)(Me,{}),header:Object(A.jsx)(Q,{icon:Object(A.jsx)(Oe,{fontSize:"large",htmlColor:"blue"}),color:"rgb(84, 196, 195)",title:"SQL"})})}]},{icon:Object(A.jsx)(Pe.a,{}),name:"\u63a7\u5236\u8282\u70b9",groupId:"group-control-node",nodes:[{id:"graph-node-9",simpleView:Object(A.jsx)(Q,{icon:Object(A.jsx)(ke,{fontSize:"large",htmlColor:"rgb(64, 128, 0)"}),color:"rgb(64, 128, 0)",title:"\u5faa\u73af"}),node:Object(A.jsx)(re,{header:Object(A.jsx)(Q,{icon:Object(A.jsx)(ke,{fontSize:"large",htmlColor:"rgb(64, 128, 0)"}),color:"rgb(64, 128, 0)",title:"\u5faa\u73af"})})},{id:"graph-node-10",simpleView:Object(A.jsx)(Q,{icon:Object(A.jsx)(De,{fontSize:"large",htmlColor:"rgb(64, 128, 0)"}),color:"#515151",title:"\u5224\u65ad"}),node:Object(A.jsx)(re,{header:Object(A.jsx)(Q,{icon:Object(A.jsx)(De,{fontSize:"large",htmlColor:"rgb(64, 128, 0)"}),color:"rgb(64, 128, 0)",title:"\u5224\u65ad"})})}]},{icon:Object(A.jsx)(Fe.a,{}),name:"\u8f93\u51fa\u8282\u70b9",groupId:"group-output-node",nodes:[{id:"graph-node-11",simpleView:Object(A.jsx)(Q,{icon:Object(A.jsx)(Be,{fontSize:"large",htmlColor:"rgb(255, 153, 0)"}),color:"rgb(255, 153, 0)",title:"Temp View"}),node:Object(A.jsx)(re,{header:Object(A.jsx)(Q,{icon:Object(A.jsx)(Be,{fontSize:"large",htmlColor:"rgb(255, 153, 0)"}),color:"rgb(255, 153, 0)",title:"Temp View"})})},{id:"graph-node-12",simpleView:Object(A.jsx)(Q,{icon:Object(A.jsx)(Ge.a,{fontSize:"large",htmlColor:"rgb(255, 153, 0)"}),color:"rgb(255, 153, 0)",title:"Hive"}),node:Object(A.jsx)(re,{header:Object(A.jsx)(Q,{icon:Object(A.jsx)(Ge.a,{fontSize:"large",htmlColor:"rgb(255, 153, 0)"}),color:"rgb(255, 153, 0)",title:"Hive"})})},{id:"graph-node-14",simpleView:Object(A.jsx)(Q,{icon:Object(A.jsx)(Ve.a,{fontSize:"large",htmlColor:"rgb(255, 153, 0)"}),color:"rgb(255, 153, 0)",title:"MySQL"}),node:Object(A.jsx)(re,{header:Object(A.jsx)(Q,{icon:Object(A.jsx)(Ve.a,{fontSize:"large",htmlColor:"rgb(255, 153, 0)"}),color:"rgb(255, 153, 0)",title:"MySQL"})})}]}]};function We(e){return Object(T.a)("MuiSpeedDialAction",e)}var Ye=Object(x.a)("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),Xe=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],qe=Object(p.a)(v.a,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:function(e,t){var n=e.ownerState;return[t.fab,!n.open&&t.fabClosed]}})((function(e){var t=e.theme,n=e.ownerState;return Object(f.a)({margin:8,color:t.palette.text.secondary,backgroundColor:t.palette.background.paper,"&:hover":{backgroundColor:Object(K.c)(t.palette.background.paper,.15)},transition:"".concat(t.transitions.create("transform",{duration:t.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},!n.open&&{opacity:0,transform:"scale(0)"})})),Ke=Object(p.a)("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.staticTooltip,!n.open&&t.staticTooltipClosed,t["tooltipPlacement".concat(Object(g.a)(n.tooltipPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(c.a)({position:"relative",display:"flex",alignItems:"center"},"& .".concat(Ye.staticTooltipLabel),Object(f.a)({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!n.open&&{opacity:0,transform:"scale(0.5)"},"left"===n.tooltipPlacement&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},"right"===n.tooltipPlacement&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8}))})),Qe=Object(p.a)("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:function(e,t){return t.staticTooltipLabel}})((function(e){var t=e.theme;return Object(f.a)({position:"absolute"},t.typography.body1,{backgroundColor:t.palette.background.paper,borderRadius:t.shape.borderRadius,boxShadow:t.shadows[1],color:t.palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})})),Je=o.forwardRef((function(e,t){var n=Object(m.a)({props:e,name:"MuiSpeedDialAction"}),i=n.className,a=n.delay,s=void 0===a?0:a,u=n.FabProps,c=void 0===u?{}:u,p=n.icon,E=n.id,v=n.open,y=n.TooltipClasses,b=n.tooltipOpen,S=void 0!==b&&b,T=n.tooltipPlacement,x=void 0===T?"left":T,O=n.tooltipTitle,R=Object(l.a)(n,Xe),_=Object(f.a)({},n,{tooltipPlacement:x}),N=function(e){var t=e.open,n=e.tooltipPlacement,r=e.classes,i={fab:["fab",!t&&"fabClosed"],staticTooltip:["staticTooltip","tooltipPlacement".concat(Object(g.a)(n)),!t&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Object(d.a)(i,We,r)}(_),C=o.useState(S),L=Object(r.a)(C,2),I=L[0],w=L[1],M={transitionDelay:"".concat(s,"ms")},j=Object(A.jsx)(qe,Object(f.a)({size:"small",className:Object(h.default)(N.fab,i),tabIndex:-1,role:"menuitem",ownerState:_},c,{style:Object(f.a)({},M,c.style),children:p}));return S?Object(A.jsxs)(Ke,Object(f.a)({id:E,ref:t,className:N.staticTooltip,ownerState:_},R,{children:[Object(A.jsx)(Qe,{style:M,id:"".concat(E,"-label"),className:N.staticTooltipLabel,ownerState:_,children:O}),o.cloneElement(j,{"aria-labelledby":"".concat(E,"-label")})]})):(!v&&I&&w(!1),Object(A.jsx)(z.a,Object(f.a)({id:E,ref:t,title:O,placement:x,onClose:function(){w(!1)},onOpen:function(){w(!0)},open:v&&I,classes:y},R,{children:j})))})),Ze=n(3362),$e=n(1530),et=n(1554),tt=n(876),nt=n.n(tt),rt=n(246),it=Object(Ze.a)({root:{margin:0,padding:0,display:"none"},staticTooltip:{padding:0}}),ot=function(e){var t=it(),n=e.group,r=e.open,i=e.onClick,o=e.handleMouseDown;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(Je,{sx:{"& .MuiSpeedDialAction-staticTooltipLabel":{padding:0,marginTop:"300px"},"& .MuiSpeedDialAction-fab":{backgroundColor:"rgb(216, 216, 216)"}},id:n.id,icon:null,onClick:i,onMouseEnter:function(e){e.stopPropagation()},tooltipOpen:r,TooltipClasses:{tooltip:t.root},tooltipTitle:Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(u.a,{width:600,height:400,onClick:function(e){return e.stopPropagation()},children:Object(A.jsxs)(ie.a,{sx:{width:"100%",height:"100%"},children:[Object(A.jsx)(oe.a,{title:n.name,sx:{py:1},action:Object(A.jsx)(ae.a,{InputProps:{startAdornment:Object(A.jsx)($e.a,{position:"start",children:Object(A.jsx)(nt.a,{})})},placeholder:"\u641c\u7d22\u8282\u70b9",variant:"outlined"})}),Object(A.jsx)(se.a,{}),Object(A.jsx)(et.a,{children:Object(A.jsx)(rt.a,{options:{suppressScrollX:!0},children:Object(A.jsx)(Ae.a,{container:!0,spacing:2,children:n.nodes.map((function(e){return Object(A.jsx)(Ae.a,{sx:{height:"150px"},item:!0,xs:3,children:Object(A.jsx)(u.a,{width:1,height:1,onMouseDown:o,children:Object(A.jsx)(Q,{icon:null,description:e.description,color:e.color,title:e.displayName})})},e.id)}))})})})]})})}),tooltipPlacement:"right"},n.id)})},at=n(1346),st=[{id:Object(at.a)(),displayName:"",description:"",icon:"",type:0,color:"",groupDetail:{id:Object(at.a)(),name:"\u6570\u636e\u8282\u70b9",description:"\u6570\u636e\u8282\u70b9\u63cf\u8ff0\u4fe1\u606f",icon:""}}];function ut(e){var t=ze(),n=Object(o.useState)(st),i=Object(r.a)(n,2),a=i[0],s=(i[1],function(e){var t=[];return e.forEach((function(e){var n=t.findIndex((function(t){return t.id===e.groupDetail.id}));n>=0?t[n].nodes.push({id:e.id,displayName:e.displayName,description:e.description,icon:e.icon,type:e.type,color:e.color}):t.push({id:e.groupDetail.id,name:e.groupDetail.name,description:e.groupDetail.description,icon:e.groupDetail.icon,nodes:[{id:e.id,displayName:e.displayName,description:e.description,icon:e.icon,type:e.type,color:e.color}]})})),t}(a)),c=Object(o.useState)(!0),l=Object(r.a)(c,2),f=l[0],h=l[1],d=Object(o.useState)(new Array(a.length).fill(!1)),p=Object(r.a)(d,2),m=p[0],E=p[1];return Object(A.jsx)(u.a,{sx:{position:"relative",mt:3,height:320},children:Object(A.jsx)(j,{ariaLabel:"SpeedDial",open:f,onClick:function(){return h(!f)},icon:Object(A.jsx)(V,{}),direction:"down",children:s.map((function(e,n){return Object(A.jsx)(ot,{group:e,handleMouseDown:function(e){},open:m[n],onClick:function(e){e.stopPropagation();var r=new Array(t.length).fill(!1);r[n]=!m[n],E(r)}})}))})})}var ct=n(985),lt=n.n(ct),ft=n(1295),ht=n.n(ft),dt=n(2559),pt=n.n(dt),mt=n(576),Et=n(2557),vt=n(3482),gt=n.n(vt),yt={name:"\u6d4b\u8bd5\u5de5\u4f5c\u6d41\u540d\u79f0",desc:"\u5de5\u4f5c\u6d41\u7684\u63cf\u8ff0\u4fe1\u606f",type:"3",tagArray:["\u4eba\u53e3\u666e\u67e5","\u5e38\u4f4f\u4eba\u53e3"],group:"1",type1:"\u5b9e\u65f6\u5de5\u4f5c\u6d41"},bt=function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(A.jsxs)(ie.a,{sx:{borderRadius:"0px",width:"100%"},children:[Object(A.jsxs)(et.a,{sx:{height:"60px",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(A.jsxs)(W.a,{direction:"row",spacing:1,children:[Object(A.jsx)(Y.a,{variant:"h6",children:"\u9ed8\u8ba4\u540d\u79f0"}),Object(A.jsx)(Re.a,{onClick:function(){return a(!0)},children:Object(A.jsx)(mt.a,{})})]}),Object(A.jsxs)(W.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(A.jsxs)(W.a,{px:2,height:"100%",borderRadius:"5px",border:"1px solid #d8dadd",alignItems:"center",direction:"row",spacing:2,children:[Object(A.jsxs)(W.a,{alignItems:"center",direction:"row",spacing:1,children:[Object(A.jsx)(u.a,{sx:{border:3,borderColor:function(e){return e.palette.secondary.main},borderRadius:"50%",height:16,width:16}}),Object(A.jsx)(Y.a,{children:"\u5b9e\u65f6"})]}),Object(A.jsx)(se.a,{orientation:"vertical",flexItem:!0}),Object(A.jsxs)(W.a,{alignItems:"center",direction:"row",spacing:1,children:[Object(A.jsx)(gt.a,{color:"primary"}),Object(A.jsx)(Y.a,{children:"\u7efc\u5408\u7c7b"})]})]}),Object(A.jsx)(ge.a,{color:"inherit",variant:"outlined",children:Object(A.jsx)(ht.a,{})}),Object(A.jsx)(ge.a,{color:"inherit",variant:"outlined",children:Object(A.jsx)(pt.a,{})}),Object(A.jsx)(ge.a,{variant:"outlined",component:"a",href:"/analyse",children:Object(A.jsx)(lt.a,{})})]})]}),Object(A.jsx)(Et.a,{initValue:yt,open:i,handlerClose:function(){return a(!1)}})]})},St=n(251),Tt=n(4),xt=n(5),Ot=n(6),Rt=n(7),At=function(e){Object(Ot.a)(n,e);var t=Object(Rt.a)(n);function n(){var e;Object(Tt.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).collapsed=!1,e.expandSize=void 0,e}return Object(xt.a)(n,[{key:"postprocess",value:function(){this.toggleCollapse(!1)}},{key:"isCollapsed",value:function(){return this.collapsed}},{key:"toggleCollapse",value:function(e){var t=null==e?!this.collapsed:e;t?(this.attr("buttonSign",{d:"M 1 5 9 5 M 5 1 5 9"}),this.expandSize=this.getSize(),this.resize(100,32)):(this.attr("buttonSign",{d:"M 2 5 8 5"}),this.expandSize&&this.resize(this.expandSize.width,this.expandSize.height)),this.collapsed=t}}]),n}(i.f);At.config({shape:"rect",markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"},{tagName:"g",selector:"buttonGroup",children:[{tagName:"rect",selector:"button",attrs:{"pointer-events":"visiblePainted"}},{tagName:"path",selector:"buttonSign",attrs:{fill:"none","pointer-events":"none"}}]}],attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:1,fill:"#ffffff",stroke:"none"},buttonGroup:{refX:8,refY:8},button:{height:14,width:16,rx:2,ry:2,fill:"#f5f5f5",stroke:"#ccc",cursor:"pointer",event:"node:collapse"},buttonSign:{refX:3,refY:2,stroke:"#808080"},label:{fontSzie:12,fill:"#fff",refX:32,refY:10}}});var _t=n(610),Nt=n.n(_t),Ct=function(e){var t=Object(o.useState)(!0),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(u.a,{width:e.width,height:i?e.height:30,boxShadow:"0 0 6px 2px rgb(50 75 216 / 37%)",borderRadius:"5px",px:1,children:[Object(A.jsxs)(W.a,{height:30,direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(A.jsx)(Y.a,{variant:"subtitle2",children:e.title}),Object(A.jsx)(Re.a,{onClick:function(){a(!i),e.onChange(!i)},children:Object(A.jsx)(Nt.a,{})})]}),Object(A.jsx)(se.a,{}),Object(A.jsx)(ne.a,{in:i,children:Object(A.jsx)(u.a,{height:e.height-30,width:e.width,children:e.children})})]})})},Lt=n(2915),It=n(474),wt=n(463),Mt=n(784),jt=n.n(Mt),Pt=n(841),kt=n.n(Pt),Dt=n(533),Ut=n.n(Dt),Ft=n(2009),Bt=n.n(Ft),Gt=n(3052),Vt=n.n(Gt),Ht=n(3483),zt=n.n(Ht),Wt=function(){return Object(A.jsx)("div",{id:"mini-map-container",style:{width:"100%",height:"100%"}})},Yt=n(3053),Xt=n.n(Yt),qt=n(3054),Kt=n.n(qt),Qt=n(3055),Jt=n.n(Qt),Zt=n(3484),$t=n.n(Zt),en=n(2711),tn=n.n(en),nn=n(2712),rn=n.n(nn),on=n(706),an=n.n(on),sn=n(3485),un=n.n(sn),cn=n(3040),ln=n(1991),fn=n(1552),hn=n(465),dn=n(475),pn=n(443),mn=n(891),En=n(1316),vn=n(2710),gn=n.n(vn),yn=n(1022),bn=n.n(yn),Sn=new Date,Tn=[{id:"5e8883f1b51cc1956a5a1ec0",createdAt:Object(cn.a)(Sn,2).getTime(),description:"\u4fdd\u5b58\u4e8e\uff1a"+Object(cn.a)(Sn,2).toLocaleString(),title:"\u81ea\u52a8\u4fdd\u5b58"},{id:"5e8883f7ed1486d665d8be1e",createdAt:Object(ln.a)(Sn,1).getTime(),description:"\u4fdd\u5b58\u4e8e\uff1a"+Object(ln.a)(Sn,1).toLocaleString(),title:"\u81ea\u52a8\u4fdd\u5b58"},{id:"5e8883fca0e8612044248ecf",createdAt:Object(ln.a)(Sn,3).getTime(),description:"\u4fdd\u5b58\u4e8e\uff1a"+Object(ln.a)(Sn,3).toLocaleString(),title:"\u81ea\u52a8\u4fdd\u5b58"},{id:"5e88840187f6b09b431bae68",createdAt:Object(ln.a)(Sn,7).getTime(),description:"\u4fdd\u5b58\u4e8e\uff1a"+Object(ln.a)(Sn,7).toLocaleString(),title:"\u81ea\u52a8\u4fdd\u5b58"}],xn=function(){var e=Object(o.useRef)(null),t=Object(o.useState)(!1),n=Object(r.a)(t,2),i=n[0],a=n[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(z.a,{title:"\u4fee\u6539\u8bb0\u5f55",children:Object(A.jsx)(Re.a,{color:"inherit",ref:e,onClick:function(){a(!0)},children:Object(A.jsx)(fn.a,{sx:{"& .MuiBadge-standard":{height:"unset"}},color:"error",badgeContent:4,children:Object(A.jsx)(bn.a,{})})})}),Object(A.jsxs)(wt.a,{anchorEl:e.current,anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:function(){a(!1)},open:i,PaperProps:{sx:{width:320}},children:[Object(A.jsx)(u.a,{sx:{p:2},children:Object(A.jsx)(Y.a,{color:"textPrimary",variant:"h6",children:"\u4fee\u6539\u8bb0\u5f55"})}),0===Tn.length?Object(A.jsx)(u.a,{sx:{p:2},children:Object(A.jsx)(Y.a,{color:"textPrimary",variant:"subtitle2",children:"\u4e0d\u5b58\u5728\u4efb\u4f55\u4fee\u6539\u8bb0\u5f55"})}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(hn.a,{disablePadding:!0,children:Tn.map((function(e){return Object(A.jsxs)(dn.a,{divider:!0,children:[Object(A.jsx)(pn.a,{primary:Object(A.jsx)(mn.a,{color:"textPrimary",sx:{cursor:"pointer"},underline:"none",variant:"subtitle2",children:e.title}),secondary:e.description}),Object(A.jsx)(En.a,{children:Object(A.jsx)(z.a,{title:"\u8fd8\u539f\u81f3\u6b64\u7248\u672c",children:Object(A.jsx)(Re.a,{children:Object(A.jsx)(gn.a,{})})})})]},e.id)}))}),Object(A.jsx)(u.a,{sx:{display:"flex",justifyContent:"center",p:1},children:Object(A.jsx)(ge.a,{color:"primary",variant:"text",children:"\u67e5\u770b\u5168\u90e8\u4fee\u6539\u8bb0\u5f55"})})]})]})]})},On=function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),i=n[0],c=n[1],l=Object(s.a)(),f=a.a.useState(null),h=Object(r.a)(f,2),d=h[0],p=h[1],m=Boolean(d),E=m?"simple-popover":void 0,v=Object(o.useState)(!0),g=Object(r.a)(v,2),y=g[0],b=g[1],S=Object(o.useState)(!1),T=Object(r.a)(S,2),x=T[0],O=T[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(u.a,{sx:{position:"absolute",top:100,right:50,zIndex:999,bgcolor:l.palette.background.paper,boxShadow:"rgb(221 221 221) 0rem 0.0625rem 0.3125rem 0.0625rem",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(A.jsx)(ne.a,{orientation:"horizontal",in:i,children:Object(A.jsxs)(W.a,{direction:"row",spacing:1,children:[Object(A.jsxs)(It.a,{color:"inherit",children:[Object(A.jsx)(Re.a,{onClick:e.onAddZoom,children:Object(A.jsx)(Ut.a,{})}),Object(A.jsx)(Re.a,{onClick:e.onDelZoom,children:Object(A.jsx)(Bt.a,{})}),Object(A.jsx)(Re.a,{onClick:e.onCenter,children:Object(A.jsx)(Vt.a,{})}),Object(A.jsx)(Re.a,{onClick:function(t){p(t.currentTarget),e.onMiniMap()},children:Object(A.jsx)(zt.a,{color:m?"primary":"inherit"})}),Object(A.jsx)(wt.a,{open:m,id:E,onClose:function(){return p(null)},anchorEl:d,PaperProps:{sx:{width:300,height:300}},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(A.jsx)(Wt,{})})]}),Object(A.jsx)(se.a,{orientation:"vertical",flexItem:!0}),Object(A.jsxs)(It.a,{color:"inherit",children:[Object(A.jsx)(Re.a,{onClick:e.onUnDo,children:Object(A.jsx)(Xt.a,{})}),Object(A.jsx)(Re.a,{onClick:e.onReDo,children:Object(A.jsx)(Kt.a,{})})]}),Object(A.jsx)(se.a,{orientation:"vertical",flexItem:!0}),Object(A.jsxs)(It.a,{color:"inherit",children:[Object(A.jsx)(Re.a,{onClick:function(){b(!y),e.onShowGridChange(!y)},children:Object(A.jsx)(Jt.a,{color:y?"primary":"inherit"})}),Object(A.jsx)(Re.a,{onClick:function(t){O(!x),e.onRubberband()},children:Object(A.jsx)($t.a,{color:x?"primary":"inherit"})}),Object(A.jsx)(Re.a,{disabled:!e.enableGroup,onClick:function(t){e.onGroup()},children:Object(A.jsx)(tn.a,{})})]}),Object(A.jsx)(se.a,{orientation:"vertical",flexItem:!0}),Object(A.jsx)(It.a,{color:"inherit",children:Object(A.jsx)(Re.a,{onClick:function(t){e.onLayout()},children:Object(A.jsx)(rn.a,{})})}),Object(A.jsx)(se.a,{orientation:"vertical",flexItem:!0}),Object(A.jsxs)(It.a,{color:"inherit",children:[Object(A.jsx)(Re.a,{children:Object(A.jsx)(jt.a,{})}),Object(A.jsx)(Re.a,{children:Object(A.jsx)(an.a,{})}),Object(A.jsx)(Re.a,{children:Object(A.jsx)(un.a,{})}),Object(A.jsx)(xn,{})]})]})}),Object(A.jsx)(Re.a,{onClick:function(e){return c(!i)},children:Object(A.jsx)(kt.a,{color:"primary"})})]})})};t.default=function(){var e=Object(o.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(null),l=Object(r.a)(c,2),f=l[0],h=l[1],d=Object(s.a)(),p=(d.palette.mode,[{color:d.palette.background.paper,thickness:1},{color:d.palette.grey[300],thickness:1}]),m=Object(o.useState)(0),E=Object(r.a)(m,2),v=E[0],g=E[1],y=Object(o.useState)(0),b=Object(r.a)(y,2),S=(b[0],b[1],new Lt.a({type:"dagre",rankdir:"LR",align:"UR",ranksep:35,nodesep:15}));return Object(o.useEffect)((function(){a(new i.d({translating:{restrict:function(e){var t=e.cell;if(t.isNode()){var n=t.getParent();if(n)return n.getBBox()}return null}},history:{enabled:!0},container:document.getElementById("container"),scroller:{enabled:!0,pannable:!0},panning:{enabled:!0,modifiers:"shift"},minimap:{enabled:!0,width:370,height:320,padding:0,container:document.getElementById("mini-map-container")},snapline:{enabled:!0},grid:{size:15,visible:!0,type:"doubleMesh",args:p},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:10}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge:function(){return new i.k.Edge({attrs:{line:{targetMarker:"classic",stroke:"#10B981"}},zIndex:0})},validateConnection:function(e){return!!e.targetMagnet}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}},selecting:{enabled:!0,strict:!0,following:!0},clipboard:!0,interacting:{nodeMovable:!0}}))}),[]),Object(o.useEffect)((function(){n&&("light"===d.palette.mode?n.grid.update([{color:d.palette.background.paper,thickness:1},{color:d.palette.grey[300],thickness:1}]):n.grid.update([{color:d.palette.background.paper,thickness:1},{color:d.palette.grey[700],thickness:1}]))}),[d.palette.background.paper]),Object(o.useEffect)((function(){if(n){h(new i.a.Dnd({target:n,getDropNode:function(e){var t=e.size();t.width,t.height;return e.clone()}}));!function(e,t){for(var n=0,r=e.length;n<r;n+=1)e[n].style.visibility=t?"visible":"hidden"}(document.getElementById("container").querySelectorAll(".x6-port-body"),!0),n.on("viewPath",(function(e){if(e.isEdge()){var t=n.findViewByCell(e);if(t){var r=i.l.create("circle",{r:6,fill:"#feb662"}),o=e.getTargetCell();setTimeout((function(){t.sendToken(r.node,1e3,(function(){o&&n.trigger("signal",o)}))}),300)}}})),n.on("node:selected",(function(e){e.node.prop("attrs/body/selected",!0);var t=e.node.attr("type/nodeType");g("node-type-group"===t?n.getSelectedCellCount()-1:n.getSelectedCellCount()),n.model.getConnectedEdges(e.cell,{outgoing:!0}).forEach((function(e){return n.trigger("viewPath",e)}))})),n.on("node:unselected",(function(e){e.node.prop("attrs/body/selected",!1),g(n.getSelectedCellCount())})),n.on("edge:mouseenter",(function(e){e.cell.addTools(["vertices","button-remove"],"onhover")})),n.on("edge:mouseleave",(function(e){var t=e.cell;t.hasTools("onhover")&&t.removeTools()})),n.on("node:collapse",(function(e){var t=e.node;t.toggleCollapse();var n=t.isCollapsed();!function e(t){var r=t.getChildren();r&&r.forEach((function(t){n?t.hide():t.show(),t instanceof At&&(t.isCollapsed()||e(t))}))}(t)}))}}),[n]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(St.a,{children:Object(A.jsx)("title",{children:"\u5206\u6790 | Everything"})}),Object(A.jsx)(u.a,{sx:{position:"fixed",zIndex:2,mt:10,ml:5},children:Object(A.jsx)(ut,{handlerMouseDown:function(e,t,r){var i=n.createNode({width:100,height:100,shape:"react-shape",component:function(n){var r=n.attr("body/selected");return function(e,t,n,r){var i=ze(r).find((function(t){return t.groupId===e})).nodes.find((function(e){return e.id===t})).node;return o.cloneElement(i,{selected:n.selected})}(e,t,{selected:r},(function(e){n.setData(e)}))},ports:{groups:{left:{markup:[{tagName:"rect"}],position:[-5,40],attrs:{rect:{width:10,height:20,magnet:!0,stroke:"#3b4e5b",strokeWidth:2,fill:"#3b4e5b"}}},right:{position:"right",attrs:{circle:{r:6,magnet:!0,stroke:"#3b4e5b",strokeWidth:2,fill:"#3b4e5b"}}}},items:[{group:"left"},{group:"right"}]}});f.start(i,r.nativeEvent)}})}),Object(A.jsxs)(u.a,{position:"relative",width:"100%",height:"100%",children:[Object(A.jsx)(On,{onCenter:function(){n.getCells().length>0&&n.scrollToCell(n.getCells()[0])},onAddZoom:function(){return n.zoom(.1)},onDelZoom:function(){return n.zoom(-.1)},onUnDo:function(){return n.undo()},onReDo:function(){return n.redo()},onShowGridChange:function(e){e?n.showGrid():n.hideGrid()},onRubberband:function(){n.toggleRubberband(),n.togglePanning()},enableGroup:v>0,onGroup:function(){var e=n.getSelectedCells(),t=e[0].getBBox().x,r=e[0].getBBox().y,i=e[0].getBBox().x,o=e[0].getBBox().y;e.forEach((function(e){var n=e.getBBox();t=Math.min(t,n.x),r=Math.min(r,n.y),i=Math.max(i,n.x),o=Math.max(o,n.y)}));var a=i+100-t+40,s=o+110-r+40,u=n.createNode({x:t-20,y:r-40,attrs:{type:{nodeType:"node-type-group"}},shape:"react-shape",component:Object(A.jsx)(Ct,{width:a,height:s,title:"\u5206\u7ec4\u540d\u79f0",onChange:function(e){e?(u.resize(a,s),u.children.forEach((function(e){return e.show()}))):(u.resize(a,30),u.children.forEach((function(e){return e.hide()})))}})});e.forEach((function(e){u.addChild(e)})),n.addNode(u)},onMiniMap:function(){},onLayout:function(){var e={nodes:n.getNodes().filter((function(e){return"node-type-group"!==e.attr("type/nodeType")})).map((function(e){return e.toJSON()})),edges:n.getEdges().map((function(e){return e.toJSON()}))},t=S.layout(e);n.getNodes().filter((function(e){return"node-type-group"===e.attr("type/nodeType")}));n.fromJSON(t)}}),Object(A.jsx)(bt,{}),Object(A.jsx)(ie.a,{sx:{width:"calc(100vw - 35px)",height:"calc(100vh - 96px)",m:2},children:Object(A.jsx)(u.a,{flex:1,height:"100%",id:"container"})})]})]})}},530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n(601);t.METADATA_KEY=r;var i=n(2647);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=n(758);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n(2663);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n(2664);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var u=n(2665);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return u.tagged}});var c=n(2666);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return c.named}});var l=n(1914);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return l.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return l.LazyServiceIdentifer}});var f=n(2667);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return f.optional}});var h=n(2668);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return h.unmanaged}});var d=n(2669);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return d.multiInject}});var p=n(2670);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return p.targetName}});var m=n(2671);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return m.postConstruct}});var E=n(1912);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return E.MetadataReader}});var v=n(829);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return v.id}});var g=n(781);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return g.decorate}});var y=n(1917);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return y.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return y.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return y.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return y.typeConstraint}});var b=n(986);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return b.getServiceIdentifierAsString}});var S=n(2672);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return S.multiBindToService}})},533:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=a},534:function(e,t,n){"use strict";n.d(t,"AST_TOKEN_TYPES",(function(){return f})),n.d(t,"STORAGE_CLASS",(function(){return d})),n.d(t,"Target",(function(){return p})),n.d(t,"DefineValuePlaceholder",(function(){return E}));n(1911),n(651),n(1523),n(1532),n(1449),n(1450),n(1451),n(1452),n(1453),n(1454),n(1300),n(1457),n(1458),n(1459),n(1460);var r=n(1446);n.d(t,"createEntity",(function(){return r.b}));var i=n(653);n.d(t,"IDENTIFIER",(function(){return i.a}));var o=n(998);n.d(t,"createWorldContainer",(function(){return o.a}));var a=n(1919);n.d(t,"generateAABBFromVertices",(function(){return a.a}));var s=n(1920);n.d(t,"isSafari",(function(){return s.a}));n(1961);var u=n(1965);n.d(t,"AABB",(function(){return u.a})),n.d(t,"Frustum",(function(){return u.b}));var c=n(1302);n.o(c,"gl")&&n.d(t,"gl",(function(){return c.gl}));var l=n(1932);n.o(l,"gl")&&n.d(t,"gl",(function(){return l.gl}));var f,h,d,p,m=n(1933);n.o(m,"gl")&&n.d(t,"gl",(function(){return m.gl})),n.o(c,"gl")&&n.d(t,"gl",(function(){return c.gl})),function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(f||(f={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(h||(h={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(d||(d={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(p||(p={}));var E="__DefineValuePlaceholder__"},537:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(586)),i=c(n(967)),o=c(n(968)),a=c(n(969)),s=n(642),u=n(688);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfg=t,this.indentation=new i.default(this.cfg.indent),this.inlineBlock=new o.default,this.params=new a.default(this.cfg.params),this.previousReservedToken={},this.tokens=[],this.index=0}var t,n,c;return t=e,n=[{key:"tokenizer",value:function(){throw new Error("tokenizer() not implemented by subclass")}},{key:"tokenOverride",value:function(e){return e}},{key:"format",value:function(e){return this.tokens=this.tokenizer().tokenize(e),this.getFormattedQueryFromTokens().trim()}},{key:"getFormattedQueryFromTokens",value:function(){var e=this,t="";return this.tokens.forEach((function(n,i){e.index=i,(n=e.tokenOverride(n)).type===r.default.LINE_COMMENT?t=e.formatLineComment(n,t):n.type===r.default.BLOCK_COMMENT?t=e.formatBlockComment(n,t):n.type===r.default.RESERVED_TOP_LEVEL?(t=e.formatTopLevelReservedWord(n,t),e.previousReservedToken=n):n.type===r.default.RESERVED_TOP_LEVEL_NO_INDENT?(t=e.formatTopLevelReservedWordNoIndent(n,t),e.previousReservedToken=n):n.type===r.default.RESERVED_NEWLINE?(t=e.formatNewlineReservedWord(n,t),e.previousReservedToken=n):n.type===r.default.RESERVED?(t=e.formatWithSpaces(n,t),e.previousReservedToken=n):t=n.type===r.default.OPEN_PAREN?e.formatOpeningParentheses(n,t):n.type===r.default.CLOSE_PAREN?e.formatClosingParentheses(n,t):n.type===r.default.PLACEHOLDER?e.formatPlaceholder(n,t):","===n.value?e.formatComma(n,t):":"===n.value?e.formatWithSpaceAfter(n,t):"."===n.value?e.formatWithoutSpaces(n,t):";"===n.value?e.formatQuerySeparator(n,t):e.formatWithSpaces(n,t)})),t}},{key:"formatLineComment",value:function(e,t){return this.addNewline(t+this.show(e))}},{key:"formatBlockComment",value:function(e,t){return this.addNewline(this.addNewline(t)+this.indentComment(e.value))}},{key:"indentComment",value:function(e){return e.replace(/\n[\t ]*/g,"\n"+this.indentation.getIndent()+" ")}},{key:"formatTopLevelReservedWordNoIndent",value:function(e,t){return this.indentation.decreaseTopLevel(),t=this.addNewline(t)+this.equalizeWhitespace(this.show(e)),this.addNewline(t)}},{key:"formatTopLevelReservedWord",value:function(e,t){return this.indentation.decreaseTopLevel(),t=this.addNewline(t),this.indentation.increaseTopLevel(),t+=this.equalizeWhitespace(this.show(e)),this.addNewline(t)}},{key:"formatNewlineReservedWord",value:function(e,t){return(0,u.isAnd)(e)&&(0,u.isBetween)(this.tokenLookBehind(2))?this.formatWithSpaces(e,t):this.addNewline(t)+this.equalizeWhitespace(this.show(e))+" "}},{key:"equalizeWhitespace",value:function(e){return e.replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g," ")}},{key:"formatOpeningParentheses",value:function(e,t){var n,i,o=(l(n={},r.default.OPEN_PAREN,!0),l(n,r.default.LINE_COMMENT,!0),l(n,r.default.OPERATOR,!0),n);return 0!==e.whitespaceBefore.length||o[null===(i=this.tokenLookBehind())||void 0===i?void 0:i.type]||(t=(0,s.trimSpacesEnd)(t)),t+=this.show(e),this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),t=this.addNewline(t)),t}},{key:"formatClosingParentheses",value:function(e,t){return this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(e,t)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(e,this.addNewline(t)))}},{key:"formatPlaceholder",value:function(e,t){return t+this.params.get(e)+" "}},{key:"formatComma",value:function(e,t){return t=(0,s.trimSpacesEnd)(t)+this.show(e)+" ",this.inlineBlock.isActive()||(0,u.isLimit)(this.previousReservedToken)?t:this.addNewline(t)}},{key:"formatWithSpaceAfter",value:function(e,t){return(0,s.trimSpacesEnd)(t)+this.show(e)+" "}},{key:"formatWithoutSpaces",value:function(e,t){return(0,s.trimSpacesEnd)(t)+this.show(e)}},{key:"formatWithSpaces",value:function(e,t){return t+this.show(e)+" "}},{key:"formatQuerySeparator",value:function(e,t){return this.indentation.resetIndentation(),(0,s.trimSpacesEnd)(t)+this.show(e)+"\n".repeat(this.cfg.linesBetweenQueries||1)}},{key:"show",value:function(e){var t=e.type,n=e.value;return!this.cfg.uppercase||t!==r.default.RESERVED&&t!==r.default.RESERVED_TOP_LEVEL&&t!==r.default.RESERVED_TOP_LEVEL_NO_INDENT&&t!==r.default.RESERVED_NEWLINE&&t!==r.default.OPEN_PAREN&&t!==r.default.CLOSE_PAREN?n:n.toUpperCase()}},{key:"addNewline",value:function(e){return(e=(0,s.trimSpacesEnd)(e)).endsWith("\n")||(e+="\n"),e+this.indentation.getIndent()}},{key:"tokenLookBehind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.tokens[this.index-e]}},{key:"tokenLookAhead",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.tokens[this.index+e]}}],n&&f(t.prototype,n),c&&f(t,c),e}();t.default=h,e.exports=t.default},538:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(586))&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(970)),s=n(642);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WHITESPACE_REGEX=/^([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)/,this.NUMBER_REGEX=/^((\x2D[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?[0-9]+(\.[0-9]+)?([Ee]\x2D?[0-9]+(\.[0-9]+)?)?|0x[0-9A-Fa-f]+|0b[01]+)\b/,this.OPERATOR_REGEX=a.createOperatorRegex(["<>","<=",">="].concat(h(t.operators||[]))),this.BLOCK_COMMENT_REGEX=/^(\/\*(?:(?![])[\s\S])*?(?:\*\/|$))/,this.LINE_COMMENT_REGEX=a.createLineCommentRegex(t.lineCommentTypes),this.RESERVED_TOP_LEVEL_REGEX=a.createReservedWordRegex(t.reservedTopLevelWords),this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX=a.createReservedWordRegex(t.reservedTopLevelWordsNoIndent),this.RESERVED_NEWLINE_REGEX=a.createReservedWordRegex(t.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=a.createReservedWordRegex(t.reservedWords),this.WORD_REGEX=a.createWordRegex(t.specialWordChars),this.STRING_REGEX=a.createStringRegex(t.stringTypes),this.OPEN_PAREN_REGEX=a.createParenRegex(t.openParens),this.CLOSE_PAREN_REGEX=a.createParenRegex(t.closeParens),this.INDEXED_PLACEHOLDER_REGEX=a.createPlaceholderRegex(t.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=a.createPlaceholderRegex(t.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=a.createPlaceholderRegex(t.namedPlaceholderTypes,a.createStringPattern(t.stringTypes))}var t,n,r;return t=e,(n=[{key:"tokenize",value:function(e){for(var t,n=[];e.length;){var r=this.getWhitespace(e);(e=e.substring(r.length)).length&&(t=this.getNextToken(e,t),e=e.substring(t.value.length),n.push(l(l({},t),{},{whitespaceBefore:r})))}return n}},{key:"getWhitespace",value:function(e){var t=e.match(this.WHITESPACE_REGEX);return t?t[1]:""}},{key:"getNextToken",value:function(e,t){return this.getCommentToken(e)||this.getStringToken(e)||this.getOpenParenToken(e)||this.getCloseParenToken(e)||this.getPlaceholderToken(e)||this.getNumberToken(e)||this.getReservedWordToken(e,t)||this.getWordToken(e)||this.getOperatorToken(e)}},{key:"getCommentToken",value:function(e){return this.getLineCommentToken(e)||this.getBlockCommentToken(e)}},{key:"getLineCommentToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})}},{key:"getBlockCommentToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})}},{key:"getStringToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.STRING,regex:this.STRING_REGEX})}},{key:"getOpenParenToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})}},{key:"getCloseParenToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})}},{key:"getPlaceholderToken",value:function(e){return this.getIdentNamedPlaceholderToken(e)||this.getStringNamedPlaceholderToken(e)||this.getIndexedPlaceholderToken(e)}},{key:"getIdentNamedPlaceholderToken",value:function(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:function(e){return e.slice(1)}})}},{key:"getStringNamedPlaceholderToken",value:function(e){var t=this;return this.getPlaceholderTokenWithKey({input:e,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:function(e){return t.getEscapedPlaceholderKey({key:e.slice(2,-1),quoteChar:e.slice(-1)})}})}},{key:"getIndexedPlaceholderToken",value:function(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:function(e){return e.slice(1)}})}},{key:"getPlaceholderTokenWithKey",value:function(e){var t=e.input,n=e.regex,r=e.parseKey,i=this.getTokenOnFirstMatch({input:t,regex:n,type:o.default.PLACEHOLDER});return i&&(i.key=r(i.value)),i}},{key:"getEscapedPlaceholderKey",value:function(e){var t=e.key,n=e.quoteChar;return t.replace(new RegExp((0,s.escapeRegExp)("\\"+n),"gu"),n)}},{key:"getNumberToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.NUMBER,regex:this.NUMBER_REGEX})}},{key:"getOperatorToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.OPERATOR,regex:this.OPERATOR_REGEX})}},{key:"getReservedWordToken",value:function(e,t){if(!t||!t.value||"."!==t.value)return this.getTopLevelReservedToken(e)||this.getNewlineReservedToken(e)||this.getTopLevelReservedTokenNoIndent(e)||this.getPlainReservedToken(e)}},{key:"getTopLevelReservedToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.RESERVED_TOP_LEVEL,regex:this.RESERVED_TOP_LEVEL_REGEX})}},{key:"getNewlineReservedToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})}},{key:"getTopLevelReservedTokenNoIndent",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.RESERVED_TOP_LEVEL_NO_INDENT,regex:this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX})}},{key:"getPlainReservedToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.RESERVED,regex:this.RESERVED_PLAIN_REGEX})}},{key:"getWordToken",value:function(e){return this.getTokenOnFirstMatch({input:e,type:o.default.WORD,regex:this.WORD_REGEX})}},{key:"getTokenOnFirstMatch",value:function(e){var t=e.input,n=e.type,r=e.regex,i=t.match(r);return i?{type:n,value:i[1]}:void 0}}])&&p(t.prototype,n),r&&p(t,r),e}();t.default=m,e.exports=t.default},556:function(e,t,n){var r;try{r={cloneDeep:n(1331),constant:n(1444),defaults:n(2594),each:n(1888),filter:n(1891),find:n(2595),flatten:n(1906),forEach:n(1889),forIn:n(2599),has:n(1004),isUndefined:n(1892),last:n(2120),map:n(1893),mapValues:n(1341),max:n(2600),merge:n(2602),min:n(2607),minBy:n(2608),now:n(1406),pick:n(2609),range:n(2612),reduce:n(1895),sortBy:n(2615),uniqueId:n(2620),values:n(1899),zipObject:n(2621)}}catch(i){}r||(r=window._),e.exports=r},558:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return fn})),n.d(t,"e",(function(){return De})),n.d(t,"f",(function(){return o}));var r={};n.r(r),n.d(r,"create",(function(){return u})),n.d(r,"fromMat4",(function(){return c})),n.d(r,"clone",(function(){return l})),n.d(r,"copy",(function(){return f})),n.d(r,"fromValues",(function(){return h})),n.d(r,"set",(function(){return d})),n.d(r,"identity",(function(){return p})),n.d(r,"transpose",(function(){return m})),n.d(r,"invert",(function(){return E})),n.d(r,"adjoint",(function(){return v})),n.d(r,"determinant",(function(){return g})),n.d(r,"multiply",(function(){return y})),n.d(r,"translate",(function(){return b})),n.d(r,"rotate",(function(){return S})),n.d(r,"scale",(function(){return T})),n.d(r,"fromTranslation",(function(){return x})),n.d(r,"fromRotation",(function(){return O})),n.d(r,"fromScaling",(function(){return R})),n.d(r,"fromMat2d",(function(){return A})),n.d(r,"fromQuat",(function(){return _})),n.d(r,"normalFromMat4",(function(){return N})),n.d(r,"projection",(function(){return C})),n.d(r,"str",(function(){return L})),n.d(r,"frob",(function(){return I})),n.d(r,"add",(function(){return w})),n.d(r,"subtract",(function(){return M})),n.d(r,"multiplyScalar",(function(){return j})),n.d(r,"multiplyScalarAndAdd",(function(){return P})),n.d(r,"exactEquals",(function(){return k})),n.d(r,"equals",(function(){return D})),n.d(r,"mul",(function(){return U})),n.d(r,"sub",(function(){return F}));var i={};n.r(i),n.d(i,"create",(function(){return B})),n.d(i,"clone",(function(){return G})),n.d(i,"copy",(function(){return V})),n.d(i,"fromValues",(function(){return H})),n.d(i,"set",(function(){return z})),n.d(i,"identity",(function(){return W})),n.d(i,"transpose",(function(){return Y})),n.d(i,"invert",(function(){return X})),n.d(i,"adjoint",(function(){return q})),n.d(i,"determinant",(function(){return K})),n.d(i,"multiply",(function(){return Q})),n.d(i,"translate",(function(){return J})),n.d(i,"scale",(function(){return Z})),n.d(i,"rotate",(function(){return $})),n.d(i,"rotateX",(function(){return ee})),n.d(i,"rotateY",(function(){return te})),n.d(i,"rotateZ",(function(){return ne})),n.d(i,"fromTranslation",(function(){return re})),n.d(i,"fromScaling",(function(){return ie})),n.d(i,"fromRotation",(function(){return oe})),n.d(i,"fromXRotation",(function(){return ae})),n.d(i,"fromYRotation",(function(){return se})),n.d(i,"fromZRotation",(function(){return ue})),n.d(i,"fromRotationTranslation",(function(){return ce})),n.d(i,"fromQuat2",(function(){return le})),n.d(i,"getTranslation",(function(){return fe})),n.d(i,"getScaling",(function(){return he})),n.d(i,"getRotation",(function(){return de})),n.d(i,"fromRotationTranslationScale",(function(){return pe})),n.d(i,"fromRotationTranslationScaleOrigin",(function(){return me})),n.d(i,"fromQuat",(function(){return Ee})),n.d(i,"frustum",(function(){return ve})),n.d(i,"perspectiveNO",(function(){return ge})),n.d(i,"perspective",(function(){return ye})),n.d(i,"perspectiveZO",(function(){return be})),n.d(i,"perspectiveFromFieldOfView",(function(){return Se})),n.d(i,"orthoNO",(function(){return Te})),n.d(i,"ortho",(function(){return xe})),n.d(i,"orthoZO",(function(){return Oe})),n.d(i,"lookAt",(function(){return Re})),n.d(i,"targetTo",(function(){return Ae})),n.d(i,"str",(function(){return _e})),n.d(i,"frob",(function(){return Ne})),n.d(i,"add",(function(){return Ce})),n.d(i,"subtract",(function(){return Le})),n.d(i,"multiplyScalar",(function(){return Ie})),n.d(i,"multiplyScalarAndAdd",(function(){return we})),n.d(i,"exactEquals",(function(){return Me})),n.d(i,"equals",(function(){return je})),n.d(i,"mul",(function(){return Pe})),n.d(i,"sub",(function(){return ke}));var o={};n.r(o),n.d(o,"create",(function(){return Ue})),n.d(o,"clone",(function(){return Fe})),n.d(o,"fromValues",(function(){return Be})),n.d(o,"copy",(function(){return Ge})),n.d(o,"set",(function(){return Ve})),n.d(o,"add",(function(){return He})),n.d(o,"subtract",(function(){return ze})),n.d(o,"multiply",(function(){return We})),n.d(o,"divide",(function(){return Ye})),n.d(o,"ceil",(function(){return Xe})),n.d(o,"floor",(function(){return qe})),n.d(o,"min",(function(){return Ke})),n.d(o,"max",(function(){return Qe})),n.d(o,"round",(function(){return Je})),n.d(o,"scale",(function(){return Ze})),n.d(o,"scaleAndAdd",(function(){return $e})),n.d(o,"distance",(function(){return et})),n.d(o,"squaredDistance",(function(){return tt})),n.d(o,"length",(function(){return nt})),n.d(o,"squaredLength",(function(){return rt})),n.d(o,"negate",(function(){return it})),n.d(o,"inverse",(function(){return ot})),n.d(o,"normalize",(function(){return at})),n.d(o,"dot",(function(){return st})),n.d(o,"cross",(function(){return ut})),n.d(o,"lerp",(function(){return ct})),n.d(o,"random",(function(){return lt})),n.d(o,"transformMat4",(function(){return ft})),n.d(o,"transformQuat",(function(){return ht})),n.d(o,"zero",(function(){return dt})),n.d(o,"str",(function(){return pt})),n.d(o,"exactEquals",(function(){return mt})),n.d(o,"equals",(function(){return Et})),n.d(o,"sub",(function(){return vt})),n.d(o,"mul",(function(){return gt})),n.d(o,"div",(function(){return yt})),n.d(o,"dist",(function(){return bt})),n.d(o,"sqrDist",(function(){return St})),n.d(o,"len",(function(){return Tt})),n.d(o,"sqrLen",(function(){return xt})),n.d(o,"forEach",(function(){return Ot}));var a={};n.r(a),n.d(a,"create",(function(){return Rt})),n.d(a,"identity",(function(){return At})),n.d(a,"setAxisAngle",(function(){return _t})),n.d(a,"getAxisAngle",(function(){return Nt})),n.d(a,"getAngle",(function(){return Ct})),n.d(a,"multiply",(function(){return Lt})),n.d(a,"rotateX",(function(){return It})),n.d(a,"rotateY",(function(){return wt})),n.d(a,"rotateZ",(function(){return Mt})),n.d(a,"calculateW",(function(){return jt})),n.d(a,"exp",(function(){return Pt})),n.d(a,"ln",(function(){return kt})),n.d(a,"pow",(function(){return Dt})),n.d(a,"slerp",(function(){return Ut})),n.d(a,"random",(function(){return Ft})),n.d(a,"invert",(function(){return Bt})),n.d(a,"conjugate",(function(){return Gt})),n.d(a,"fromMat3",(function(){return Vt})),n.d(a,"fromEuler",(function(){return Ht})),n.d(a,"str",(function(){return zt})),n.d(a,"clone",(function(){return Wt})),n.d(a,"fromValues",(function(){return Yt})),n.d(a,"copy",(function(){return Xt})),n.d(a,"set",(function(){return qt})),n.d(a,"add",(function(){return Kt})),n.d(a,"mul",(function(){return Qt})),n.d(a,"scale",(function(){return Jt})),n.d(a,"dot",(function(){return Zt})),n.d(a,"lerp",(function(){return $t})),n.d(a,"length",(function(){return en})),n.d(a,"len",(function(){return tn})),n.d(a,"squaredLength",(function(){return nn})),n.d(a,"sqrLen",(function(){return rn})),n.d(a,"normalize",(function(){return on})),n.d(a,"exactEquals",(function(){return an})),n.d(a,"equals",(function(){return sn})),n.d(a,"rotationTo",(function(){return un})),n.d(a,"sqlerp",(function(){return cn})),n.d(a,"setAxes",(function(){return ln}));var s=n(644);function u(){var e=new s.a(9);return s.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function l(e){var t=new s.a(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function h(e,t,n,r,i,o,a,u,c){var l=new s.a(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=o,l[6]=a,l[7]=u,l[8]=c,l}function d(e,t,n,r,i,o,a,s,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function p(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function m(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function E(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,h=-l*o+s*u,d=c*o-a*u,p=n*f+r*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-l*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=h*p,e[4]=(l*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}function v(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-s*c,e[1]=i*c-r*l,e[2]=r*s-i*a,e[3]=s*u-o*l,e[4]=n*l-i*u,e[5]=i*o-n*s,e[6]=o*c-a*u,e[7]=r*u-n*c,e[8]=n*a-r*o,e}function g(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function y(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=n[0],d=n[1],p=n[2],m=n[3],E=n[4],v=n[5],g=n[6],y=n[7],b=n[8];return e[0]=h*r+d*a+p*c,e[1]=h*i+d*s+p*l,e[2]=h*o+d*u+p*f,e[3]=m*r+E*a+v*c,e[4]=m*i+E*s+v*l,e[5]=m*o+E*u+v*f,e[6]=g*r+y*a+b*c,e[7]=g*i+y*s+b*l,e[8]=g*o+y*u+b*f,e}function b(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=h*r+d*a+c,e[7]=h*i+d*s+l,e[8]=h*o+d*u+f,e}function S(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=Math.sin(n),d=Math.cos(n);return e[0]=d*r+h*a,e[1]=d*i+h*s,e[2]=d*o+h*u,e[3]=d*a-h*r,e[4]=d*s-h*i,e[5]=d*u-h*o,e[6]=c,e[7]=l,e[8]=f,e}function T(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function x(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function O(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function R(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function A(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function _(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,h=i*a,d=i*s,p=i*u,m=o*a,E=o*s,v=o*u;return e[0]=1-f-p,e[3]=l-v,e[6]=h+E,e[1]=l+v,e[4]=1-c-p,e[7]=d-m,e[2]=h-E,e[5]=d+m,e[8]=1-c-f,e}function N(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],E=t[14],v=t[15],g=n*s-r*a,y=n*u-i*a,b=n*c-o*a,S=r*u-i*s,T=r*c-o*s,x=i*c-o*u,O=l*m-f*p,R=l*E-h*p,A=l*v-d*p,_=f*E-h*m,N=f*v-d*m,C=h*v-d*E,L=g*C-y*N+b*_+S*A-T*R+x*O;return L?(L=1/L,e[0]=(s*C-u*N+c*_)*L,e[1]=(u*A-a*C-c*R)*L,e[2]=(a*N-s*A+c*O)*L,e[3]=(i*N-r*C-o*_)*L,e[4]=(n*C-i*A+o*R)*L,e[5]=(r*A-n*N-o*O)*L,e[6]=(m*x-E*T+v*S)*L,e[7]=(E*b-p*x-v*y)*L,e[8]=(p*T-m*b+v*g)*L,e):null}function C(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function L(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function I(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function w(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function M(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function j(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function P(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function k(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function D(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=t[0],d=t[1],p=t[2],m=t[3],E=t[4],v=t[5],g=t[6],y=t[7],b=t[8];return Math.abs(n-h)<=s.b*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-d)<=s.b*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=s.b*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-m)<=s.b*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-E)<=s.b*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(u-v)<=s.b*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=s.b*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-y)<=s.b*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(f-b)<=s.b*Math.max(1,Math.abs(f),Math.abs(b))}var U=y,F=M;function B(){var e=new s.a(16);return s.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function G(e){var t=new s.a(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function V(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function H(e,t,n,r,i,o,a,u,c,l,f,h,d,p,m,E){var v=new s.a(16);return v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=u,v[8]=c,v[9]=l,v[10]=f,v[11]=h,v[12]=d,v[13]=p,v[14]=m,v[15]=E,v}function z(e,t,n,r,i,o,a,s,u,c,l,f,h,d,p,m,E){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e[9]=l,e[10]=f,e[11]=h,e[12]=d,e[13]=p,e[14]=m,e[15]=E,e}function W(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Y(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function X(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],E=t[14],v=t[15],g=n*s-r*a,y=n*u-i*a,b=n*c-o*a,S=r*u-i*s,T=r*c-o*s,x=i*c-o*u,O=l*m-f*p,R=l*E-h*p,A=l*v-d*p,_=f*E-h*m,N=f*v-d*m,C=h*v-d*E,L=g*C-y*N+b*_+S*A-T*R+x*O;return L?(L=1/L,e[0]=(s*C-u*N+c*_)*L,e[1]=(i*N-r*C-o*_)*L,e[2]=(m*x-E*T+v*S)*L,e[3]=(h*T-f*x-d*S)*L,e[4]=(u*A-a*C-c*R)*L,e[5]=(n*C-i*A+o*R)*L,e[6]=(E*b-p*x-v*y)*L,e[7]=(l*x-h*b+d*y)*L,e[8]=(a*N-s*A+c*O)*L,e[9]=(r*A-n*N-o*O)*L,e[10]=(p*T-m*b+v*g)*L,e[11]=(f*b-l*T-d*g)*L,e[12]=(s*R-a*_-u*O)*L,e[13]=(n*_-r*R+i*O)*L,e[14]=(m*y-p*S-E*g)*L,e[15]=(l*S-f*y+h*g)*L,e):null}function q(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],d=t[11],p=t[12],m=t[13],E=t[14],v=t[15];return e[0]=s*(h*v-d*E)-f*(u*v-c*E)+m*(u*d-c*h),e[1]=-(r*(h*v-d*E)-f*(i*v-o*E)+m*(i*d-o*h)),e[2]=r*(u*v-c*E)-s*(i*v-o*E)+m*(i*c-o*u),e[3]=-(r*(u*d-c*h)-s*(i*d-o*h)+f*(i*c-o*u)),e[4]=-(a*(h*v-d*E)-l*(u*v-c*E)+p*(u*d-c*h)),e[5]=n*(h*v-d*E)-l*(i*v-o*E)+p*(i*d-o*h),e[6]=-(n*(u*v-c*E)-a*(i*v-o*E)+p*(i*c-o*u)),e[7]=n*(u*d-c*h)-a*(i*d-o*h)+l*(i*c-o*u),e[8]=a*(f*v-d*m)-l*(s*v-c*m)+p*(s*d-c*f),e[9]=-(n*(f*v-d*m)-l*(r*v-o*m)+p*(r*d-o*f)),e[10]=n*(s*v-c*m)-a*(r*v-o*m)+p*(r*c-o*s),e[11]=-(n*(s*d-c*f)-a*(r*d-o*f)+l*(r*c-o*s)),e[12]=-(a*(f*E-h*m)-l*(s*E-u*m)+p*(s*h-u*f)),e[13]=n*(f*E-h*m)-l*(r*E-i*m)+p*(r*h-i*f),e[14]=-(n*(s*E-u*m)-a*(r*E-i*m)+p*(r*u-i*s)),e[15]=n*(s*h-u*f)-a*(r*h-i*f)+l*(r*u-i*s),e}function K(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11],d=e[12],p=e[13],m=e[14],E=e[15];return(t*a-n*o)*(f*E-h*m)-(t*s-r*o)*(l*E-h*p)+(t*u-i*o)*(l*m-f*p)+(n*s-r*a)*(c*E-h*d)-(n*u-i*a)*(c*m-f*d)+(r*u-i*s)*(c*p-l*d)}function Q(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],m=t[12],E=t[13],v=t[14],g=t[15],y=n[0],b=n[1],S=n[2],T=n[3];return e[0]=y*r+b*s+S*f+T*m,e[1]=y*i+b*u+S*h+T*E,e[2]=y*o+b*c+S*d+T*v,e[3]=y*a+b*l+S*p+T*g,y=n[4],b=n[5],S=n[6],T=n[7],e[4]=y*r+b*s+S*f+T*m,e[5]=y*i+b*u+S*h+T*E,e[6]=y*o+b*c+S*d+T*v,e[7]=y*a+b*l+S*p+T*g,y=n[8],b=n[9],S=n[10],T=n[11],e[8]=y*r+b*s+S*f+T*m,e[9]=y*i+b*u+S*h+T*E,e[10]=y*o+b*c+S*d+T*v,e[11]=y*a+b*l+S*p+T*g,y=n[12],b=n[13],S=n[14],T=n[15],e[12]=y*r+b*s+S*f+T*m,e[13]=y*i+b*u+S*h+T*E,e[14]=y*o+b*c+S*d+T*v,e[15]=y*a+b*l+S*p+T*g,e}function J(e,t,n){var r,i,o,a,s,u,c,l,f,h,d,p,m=n[0],E=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*E+t[8]*v+t[12],e[13]=t[1]*m+t[5]*E+t[9]*v+t[13],e[14]=t[2]*m+t[6]*E+t[10]*v+t[14],e[15]=t[3]*m+t[7]*E+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*m+s*E+f*v+t[12],e[13]=i*m+u*E+h*v+t[13],e[14]=o*m+c*E+d*v+t[14],e[15]=a*m+l*E+p*v+t[15]),e}function Z(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $(e,t,n,r){var i,o,a,u,c,l,f,h,d,p,m,E,v,g,y,b,S,T,x,O,R,A,_,N,C=r[0],L=r[1],I=r[2],w=Math.hypot(C,L,I);return w<s.b?null:(C*=w=1/w,L*=w,I*=w,i=Math.sin(n),a=1-(o=Math.cos(n)),u=t[0],c=t[1],l=t[2],f=t[3],h=t[4],d=t[5],p=t[6],m=t[7],E=t[8],v=t[9],g=t[10],y=t[11],b=C*C*a+o,S=L*C*a+I*i,T=I*C*a-L*i,x=C*L*a-I*i,O=L*L*a+o,R=I*L*a+C*i,A=C*I*a+L*i,_=L*I*a-C*i,N=I*I*a+o,e[0]=u*b+h*S+E*T,e[1]=c*b+d*S+v*T,e[2]=l*b+p*S+g*T,e[3]=f*b+m*S+y*T,e[4]=u*x+h*O+E*R,e[5]=c*x+d*O+v*R,e[6]=l*x+p*O+g*R,e[7]=f*x+m*O+y*R,e[8]=u*A+h*_+E*N,e[9]=c*A+d*_+v*N,e[10]=l*A+p*_+g*N,e[11]=f*A+m*_+y*N,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ee(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+l*r,e[6]=s*i+f*r,e[7]=u*i+h*r,e[8]=c*i-o*r,e[9]=l*i-a*r,e[10]=f*i-s*r,e[11]=h*i-u*r,e}function te(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-l*r,e[2]=s*i-f*r,e[3]=u*i-h*r,e[8]=o*r+c*i,e[9]=a*r+l*i,e[10]=s*r+f*i,e[11]=u*r+h*i,e}function ne(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+l*r,e[2]=s*i+f*r,e[3]=u*i+h*r,e[4]=c*i-o*r,e[5]=l*i-a*r,e[6]=f*i-s*r,e[7]=h*i-u*r,e}function re(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function oe(e,t,n){var r,i,o,a=n[0],u=n[1],c=n[2],l=Math.hypot(a,u,c);return l<s.b?null:(a*=l=1/l,u*=l,c*=l,r=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=u*a*o+c*r,e[2]=c*a*o-u*r,e[3]=0,e[4]=a*u*o-c*r,e[5]=u*u*o+i,e[6]=c*u*o+a*r,e[7]=0,e[8]=a*c*o+u*r,e[9]=u*c*o-a*r,e[10]=c*c*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function ae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function se(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ue(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ce(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,u=i+i,c=o+o,l=r*s,f=r*u,h=r*c,d=i*u,p=i*c,m=o*c,E=a*s,v=a*u,g=a*c;return e[0]=1-(d+m),e[1]=f+g,e[2]=h-v,e[3]=0,e[4]=f-g,e[5]=1-(l+m),e[6]=p+E,e[7]=0,e[8]=h+v,e[9]=p-E,e[10]=1-(l+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function le(e,t){var n=new s.a(3),r=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],c=t[5],l=t[6],f=t[7],h=r*r+i*i+o*o+a*a;return h>0?(n[0]=2*(u*a+f*r+c*o-l*i)/h,n[1]=2*(c*a+f*i+l*r-u*o)/h,n[2]=2*(l*a+f*o+u*i-c*r)/h):(n[0]=2*(u*a+f*r+c*o-l*i),n[1]=2*(c*a+f*i+l*r-u*o),n[2]=2*(l*a+f*o+u*i-c*r)),ce(e,t,n),e}function fe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function he(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,c,l),e}function de(e,t){var n=new s.a(3);he(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,u=t[1]*i,c=t[2]*o,l=t[4]*r,f=t[5]*i,h=t[6]*o,d=t[8]*r,p=t[9]*i,m=t[10]*o,E=a+f+m,v=0;return E>0?(v=2*Math.sqrt(E+1),e[3]=.25*v,e[0]=(h-p)/v,e[1]=(d-c)/v,e[2]=(u-l)/v):a>f&&a>m?(v=2*Math.sqrt(1+a-f-m),e[3]=(h-p)/v,e[0]=.25*v,e[1]=(u+l)/v,e[2]=(d+c)/v):f>m?(v=2*Math.sqrt(1+f-a-m),e[3]=(d-c)/v,e[0]=(u+l)/v,e[1]=.25*v,e[2]=(h+p)/v):(v=2*Math.sqrt(1+m-a-f),e[3]=(u-l)/v,e[0]=(d+c)/v,e[1]=(h+p)/v,e[2]=.25*v),e}function pe(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,c=o+o,l=a+a,f=i*u,h=i*c,d=i*l,p=o*c,m=o*l,E=a*l,v=s*u,g=s*c,y=s*l,b=r[0],S=r[1],T=r[2];return e[0]=(1-(p+E))*b,e[1]=(h+y)*b,e[2]=(d-g)*b,e[3]=0,e[4]=(h-y)*S,e[5]=(1-(f+E))*S,e[6]=(m+v)*S,e[7]=0,e[8]=(d+g)*T,e[9]=(m-v)*T,e[10]=(1-(f+p))*T,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function me(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],u=t[3],c=o+o,l=a+a,f=s+s,h=o*c,d=o*l,p=o*f,m=a*l,E=a*f,v=s*f,g=u*c,y=u*l,b=u*f,S=r[0],T=r[1],x=r[2],O=i[0],R=i[1],A=i[2],_=(1-(m+v))*S,N=(d+b)*S,C=(p-y)*S,L=(d-b)*T,I=(1-(h+v))*T,w=(E+g)*T,M=(p+y)*x,j=(E-g)*x,P=(1-(h+m))*x;return e[0]=_,e[1]=N,e[2]=C,e[3]=0,e[4]=L,e[5]=I,e[6]=w,e[7]=0,e[8]=M,e[9]=j,e[10]=P,e[11]=0,e[12]=n[0]+O-(_*O+L*R+M*A),e[13]=n[1]+R-(N*O+I*R+j*A),e[14]=n[2]+A-(C*O+w*R+P*A),e[15]=1,e}function Ee(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,h=i*a,d=i*s,p=i*u,m=o*a,E=o*s,v=o*u;return e[0]=1-f-p,e[1]=l+v,e[2]=h-E,e[3]=0,e[4]=l-v,e[5]=1-c-p,e[6]=d+m,e[7]=0,e[8]=h+E,e[9]=d-m,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ve(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function ge(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}var ye=ge;function be(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=i*o,e[14]=i*r*o):(e[10]=-1,e[14]=-r),e}function Se(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(i-o)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function Te(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1,e}var xe=Te;function Oe(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=o*c,e[15]=1,e}function Re(e,t,n,r){var i,o,a,u,c,l,f,h,d,p,m=t[0],E=t[1],v=t[2],g=r[0],y=r[1],b=r[2],S=n[0],T=n[1],x=n[2];return Math.abs(m-S)<s.b&&Math.abs(E-T)<s.b&&Math.abs(v-x)<s.b?W(e):(f=m-S,h=E-T,d=v-x,i=y*(d*=p=1/Math.hypot(f,h,d))-b*(h*=p),o=b*(f*=p)-g*d,a=g*h-y*f,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),u=h*a-d*o,c=d*i-f*a,l=f*o-h*i,(p=Math.hypot(u,c,l))?(u*=p=1/p,c*=p,l*=p):(u=0,c=0,l=0),e[0]=i,e[1]=u,e[2]=f,e[3]=0,e[4]=o,e[5]=c,e[6]=h,e[7]=0,e[8]=a,e[9]=l,e[10]=d,e[11]=0,e[12]=-(i*m+o*E+a*v),e[13]=-(u*m+c*E+l*v),e[14]=-(f*m+h*E+d*v),e[15]=1,e)}function Ae(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=r[0],u=r[1],c=r[2],l=i-n[0],f=o-n[1],h=a-n[2],d=l*l+f*f+h*h;d>0&&(l*=d=1/Math.sqrt(d),f*=d,h*=d);var p=u*h-c*f,m=c*l-s*h,E=s*f-u*l;return(d=p*p+m*m+E*E)>0&&(p*=d=1/Math.sqrt(d),m*=d,E*=d),e[0]=p,e[1]=m,e[2]=E,e[3]=0,e[4]=f*E-h*m,e[5]=h*p-l*E,e[6]=l*m-f*p,e[7]=0,e[8]=l,e[9]=f,e[10]=h,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function _e(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ne(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Ce(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Le(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Ie(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function we(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Me(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function je(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],m=e[12],E=e[13],v=e[14],g=e[15],y=t[0],b=t[1],S=t[2],T=t[3],x=t[4],O=t[5],R=t[6],A=t[7],_=t[8],N=t[9],C=t[10],L=t[11],I=t[12],w=t[13],M=t[14],j=t[15];return Math.abs(n-y)<=s.b*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=s.b*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-S)<=s.b*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(o-T)<=s.b*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(a-x)<=s.b*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-O)<=s.b*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(c-R)<=s.b*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(l-A)<=s.b*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(f-_)<=s.b*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(h-N)<=s.b*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(d-C)<=s.b*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-L)<=s.b*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(m-I)<=s.b*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(E-w)<=s.b*Math.max(1,Math.abs(E),Math.abs(w))&&Math.abs(v-M)<=s.b*Math.max(1,Math.abs(v),Math.abs(M))&&Math.abs(g-j)<=s.b*Math.max(1,Math.abs(g),Math.abs(j))}var Pe=Q,ke=Le,De=n(860);function Ue(){var e=new s.a(4);return s.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Fe(e){var t=new s.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Be(e,t,n,r){var i=new s.a(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Ge(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Ve(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function He(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function ze(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function We(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Ye(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Xe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function qe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Ke(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Qe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Je(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Ze(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function $e(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function et(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,r,i,o)}function tt(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function nt(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function rt(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function it(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ot(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function at(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e}function st(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ut(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=t[0],f=t[1],h=t[2],d=t[3];return e[0]=f*c-h*u+d*s,e[1]=-l*c+h*a-d*o,e[2]=l*u-f*a+d*i,e[3]=-l*s+f*o-h*i,e}function ct(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}function lt(e,t){var n,r,i,o,a,u;t=t||1;do{a=(n=2*s.c()-1)*n+(r=2*s.c()-1)*r}while(a>=1);do{u=(i=2*s.c()-1)*i+(o=2*s.c()-1)*o}while(u>=1);var c=Math.sqrt((1-a)/u);return e[0]=t*n,e[1]=t*r,e[2]=t*i*c,e[3]=t*o*c,e}function ft(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function ht(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,f=c*i+u*r-a*o,h=c*o+a*i-s*r,d=-a*r-s*i-u*o;return e[0]=l*c+d*-a+f*-u-h*-s,e[1]=f*c+d*-s+h*-a-l*-u,e[2]=h*c+d*-u+l*-s-f*-a,e[3]=t[3],e}function dt(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function pt(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function mt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Et(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],u=t[1],c=t[2],l=t[3];return Math.abs(n-a)<=s.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=s.b*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=s.b*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-l)<=s.b*Math.max(1,Math.abs(o),Math.abs(l))}var vt=ze,gt=We,yt=Ye,bt=et,St=tt,Tt=nt,xt=rt,Ot=function(){var e=Ue();return function(t,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function Rt(){var e=new s.a(4);return s.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function At(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function _t(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Nt(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>s.b?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function Ct(e,t){var n=Zt(e,t);return Math.acos(2*n*n-1)}function Lt(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+a*s+i*c-o*u,e[1]=i*l+a*u+o*s-r*c,e[2]=o*l+a*c+r*u-i*s,e[3]=a*l-r*s-i*u-o*c,e}function It(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-r*s,e}function wt(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-o*s,e[1]=i*u+a*s,e[2]=o*u+r*s,e[3]=a*u-i*s,e}function Mt(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=o*u+a*s,e[3]=a*u-o*s,e}function jt(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}function Pt(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),u=a>0?s*Math.sin(a)/a:0;return e[0]=n*u,e[1]=r*u,e[2]=i*u,e[3]=s*Math.cos(a),e}function kt(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=.5*Math.log(n*n+r*r+i*i+o*o),e}function Dt(e,t,n){return kt(e,t),Jt(e,e,n),Pt(e,e),e}function Ut(e,t,n,r){var i,o,a,u,c,l=t[0],f=t[1],h=t[2],d=t[3],p=n[0],m=n[1],E=n[2],v=n[3];return(o=l*p+f*m+h*E+d*v)<0&&(o=-o,p=-p,m=-m,E=-E,v=-v),1-o>s.b?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-r)*i)/a,c=Math.sin(r*i)/a):(u=1-r,c=r),e[0]=u*l+c*p,e[1]=u*f+c*m,e[2]=u*h+c*E,e[3]=u*d+c*v,e}function Ft(e){var t=s.c(),n=s.c(),r=s.c(),i=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e}function Bt(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function Gt(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Vt(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}function Ht(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return e[0]=o*u*l-a*s*c,e[1]=a*s*l+o*u*c,e[2]=a*u*c-o*s*l,e[3]=a*u*l+o*s*c,e}function zt(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Wt=Fe,Yt=Be,Xt=Ge,qt=Ve,Kt=He,Qt=Lt,Jt=Ze,Zt=st,$t=ct,en=nt,tn=en,nn=rt,rn=nn,on=at,an=mt,sn=Et,un=function(){var e=De.create(),t=De.fromValues(1,0,0),n=De.fromValues(0,1,0);return function(r,i,o){var a=De.dot(i,o);return a<-.999999?(De.cross(e,t,i),De.len(e)<1e-6&&De.cross(e,n,i),De.normalize(e,e),_t(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(De.cross(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,on(r,r))}}(),cn=function(){var e=Rt(),t=Rt();return function(n,r,i,o,a,s){return Ut(e,r,a,s),Ut(t,i,o,s),Ut(n,e,t,2*s*(1-s)),n}}(),ln=function(){var e=u();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],on(t,Vt(t,e))}}(),fn=n(1006)},562:function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})},e.exports.default=e.exports,e.exports.__esModule=!0},563:function(e,t){e.exports=function(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o},e.exports.default=e.exports,e.exports.__esModule=!0},564:function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},e.exports.default=e.exports,e.exports.__esModule=!0},566:function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return Ee})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return ge})),n.d(t,"f",(function(){return ve})),n.d(t,"g",(function(){return d}));var r=n(36),i=n(735),o=(n(646),n(64)),a=n(185),s=n(72),u=n(81),c={}.constructor;function l(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(l);if(e.constructor!==c)return e;var t={};for(var n in e)t[n]=l(e[n]);return t}function f(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=l(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var h=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},d=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=h(e[r]," ");else n=h(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function p(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function m(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function E(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=p(n),u=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var f=a[l];for(var h in f){var E=f[h];null!=E&&(r&&(r+=u),r+=m(h+":"+c+d(E)+";",o))}}else for(var v in a){var g=a[v];null!=g&&(r&&(r+=u),r+=m(v+":"+c+d(g)+";",o))}for(var y in t){var b=t[y];null!=b&&"fallbacks"!==y&&(r&&(r+=u),r+=m(y+":"+c+d(b)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),m(""+e+c+"{"+r,--o)+m("}",o)):r}var v=/([[\].#*$><+~=|^:(),"'`\s])/g,g="undefined"!==typeof CSS&&CSS.escape,y=function(e){return g?g(e):e.replace(v,"\\$1")},b=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),S=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+y(i.id)),i}Object(a.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=d(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return E(this.selectorText,this.style,n)},Object(o.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(b),T={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},x={indent:1,children:!0},O=/@([\w-]+)/,R=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(O);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new q(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=x);var t=p(e).linebreak;if(null==e.indent&&(e.indent=x.indent),null==e.children&&(e.children=x.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),A=/@media|@supports\s+/,_={onCreateRule:function(e,t,n){return A.test(e)?new R(e,t,n):null}},N={indent:1,children:!0},C=/@keyframes\s+([\w-]+)/,L=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(C);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:y(s(this,a)),this.rules=new q(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=N);var t=p(e).linebreak;if(null==e.indent&&(e.indent=N.indent),null==e.children&&(e.children=N.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),I=/@keyframes\s+/,w=/\$([\w-]+)/g,M=function(e,t){return"string"===typeof e?e.replace(w,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=M(r,n);i!==r&&(e[t]=i)},P={onCreateRule:function(e,t,n){return"string"===typeof e&&I.test(e)?new L(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return M(e,r.keyframes);default:return e}}},k=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return E(this.key,this.style,n)},t}(b),D={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new k(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=p(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=E(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return E(this.at,this.style,e)},e}(),F=/@font-face/,B={onCreateRule:function(e,t,n){return F.test(e)?new U(e,t,n):null}},G=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return E(this.key,this.style,e)},e}(),V={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new G(e,t,n):null}},H=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),z={"@charset":!0,"@import":!0,"@namespace":!0},W=[T,_,P,D,B,V,{onCreateRule:function(e,t,n){return e in z?new H(e,t,n):null}}],Y={process:!0},X={force:!0,process:!0},q=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,h=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(h.selector="."+y(this.classes[d]));var p=f(d,t,h);if(!p)return null;this.register(p);var m=void 0===h.index?this.index.length:h.index;return this.index.splice(m,0,p),p},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=Object(r.a)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof L&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof L&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Y);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,X)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,X)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=p(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),K=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new q(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Q=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),J=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i=p(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},Object(o.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Z=new J,$="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ee="2f1acc6c3a606b082e5eef5e54414ffb";null==$[ee]&&($[ee]=0);var te=$[ee]++,ne=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+te+i+t:o+n.key+"-"+te+(i?"-"+i:"")+"-"+t}},re=function(e){var t;return function(){return t||(t=e()),t}},ie=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},oe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=d(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ae=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},se=function(e,t){return e.selectorText=t,e.selectorText===t},ue=re((function(){return document.querySelector("head")}));function ce(e){var t=Z.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ue(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var le=re((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),fe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},he=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},de=function(){function e(e){this.getPropertyValue=ie,this.setProperty=oe,this.removeProperty=ae,this.setSelector=se,this.hasInsertedRules=!1,this.cssRules=[],e&&Z.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=le();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ce(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ue().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=he(n,t);if(!1===(i=fe(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=he(n,t),u=fe(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof K&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),pe=0,me=function(){function e(e){this.id=pe++,this.version="10.9.0",this.plugins=new Q,this.options={id:{minify:!1},createGenerateId:ne,Renderer:i.a?de:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<W.length;t++)this.plugins.use(W[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Z.index?0:Z.index+1);var i=new K(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),Z.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=f(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ee=function(e){return new me(e)},ve="object"===typeof CSS&&null!=CSS&&"number"in CSS;function ge(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ge(r);o&&(t||(t={}),t[n]=o)}}return t}Ee()},576:function(e,t,n){"use strict";var r=n(42),i=n(0),o=Object(r.a)(Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(i.jsx)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),Object(i.jsx)("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"PencilAlt");t.a=o},584:function(e,t,n){"use strict";var r=n(42),i=n(0),o=Object(r.a)(Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(i.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"InformationCircle");t.a=o},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={WORD:"word",STRING:"string",RESERVED:"reserved",RESERVED_TOP_LEVEL:"reserved-top-level",RESERVED_TOP_LEVEL_NO_INDENT:"reserved-top-level-no-indent",RESERVED_NEWLINE:"reserved-newline",OPERATOR:"operator",OPEN_PAREN:"open-paren",CLOSE_PAREN:"close-paren",LINE_COMMENT:"line-comment",BLOCK_COMMENT:"block-comment",NUMBER:"number",PLACEHOLDER:"placeholder"},e.exports=t.default},587:function(e,t,n){e.exports=n(330)},588:function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},610:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.default=a},616:function(e,t,n){var r=n(2673);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},617:function(e,t,n){var r=n(252).default,i=n(691);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0},618:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},633:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=a},642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortByLengthDesc=t.escapeRegExp=t.isEmpty=t.last=t.trimSpacesEnd=void 0;t.trimSpacesEnd=function(e){return e.replace(/[\t ]+$/,"")};t.last=function(e){return e[e.length-1]};t.isEmpty=function(e){return!Array.isArray(e)||0===e.length};t.escapeRegExp=function(e){return e.replace(/[\$\(-\+\.\?\[-\^\{-\}]/g,"\\$&")};t.sortByLengthDesc=function(e){return e.sort((function(e,t){return t.length-e.length||e.localeCompare(t)}))}},643:function(e,t,n){"use strict";var r=n(556),i=n(689).Graph;function o(e,t,n,i){var o;do{o=r.uniqueId(i)}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function a(e){return r.max(r.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n})))}e.exports={addDummyNode:o,simplify:function(e){var t=(new i).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new i({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),(function(){return[]}));return r.forEach(e.nodes(),(function(n){var i=e.node(n),o=i.rank;r.isUndefined(o)||(t[o][i.order]=n)})),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank})));r.forEach(e.nodes(),(function(n){var i=e.node(n);r.has(i,"rank")&&(i.rank-=t)}))},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];r.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var i=0,o=e.graph().nodeRankFactor;r.forEach(n,(function(t,n){r.isUndefined(t)&&n%o!==0?--i:i&&r.forEach(t,(function(t){e.node(t).rank+=i}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return o(e,"border",i,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){r.now();try{return t()}finally{}},notime:function(e,t){return t()}}},644:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},646:function(e,t,n){"use strict";t.a=function(e,t){}},651:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(587),i=n.n(r),o=n(588),a=n.n(o),s=n(245),u=n.n(s),c=n(244),l=n.n(c),f=n(1446),h=function e(t){l()(this,e)},d=function(){function e(t){l()(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return u()(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,t){this.lookup[e]=this.components.length;var n=new this.clazz(t||{});return this.components.push(n),this.entities.push(e),n}},{key:"remove",value:function(e){var t=this.lookup[e];t>-1&&t<this.components.length-1&&(this.components[t]=this.components[this.components.length-1],this.entities[t]=this.entities[this.entities.length-1],this.lookup[this.entities[t]]=t),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var t=this.lookup[e];if(t>-1){var n=this.entities[t];if(t<this.components.length-1){for(var r=t+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var i=t+1;i<this.entities.length;++i)this.entities[i-1]=this.entities[i],this.lookup[this.entities[i-1]]=i-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(e,t){if(e!==t){for(var n=this.components[e],r=this.entities[e],i=e<t?1:-1,o=e;o!==t;o+=i){var a=o+i;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[t]=n,this.entities[t]=r,this.lookup[r]=t}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var t=this.lookup[e];return t>-1?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r);if(this.lookup[i]===e)return i}return f.a}},{key:"find",value:function(e){for(var t=0;t<this.getCount();t++){var n=this.getComponent(t);if(e(n,t))return n}return null}},{key:"findIndex",value:function(e){for(var t=0;t<this.getCount();t++){if(e(this.getComponent(t),t))return t}return-1}},{key:"forEach",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r),o=this.lookup[i];e(i,this.getComponent(o))}}},{key:"forEachAsync",value:function(){var e=a()(i.a.mark((function e(t){var n,r,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){e.next=10;break}return o=r[n],a=Number(o),s=this.lookup[a],e.next=7,t(a,this.getComponent(s));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){for(var t=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var i=r[n],o=Number(i),a=this.lookup[o];t.push(e(o,this.getComponent(a)))}return t}}]),e}()},652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},653:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},661:function(e,t,n){"use strict";var r=n(1),i=r.createContext(void 0);t.a=i},679:function(e,t,n){var r;try{r={clone:n(1775),constant:n(1444),each:n(1888),filter:n(1891),has:n(1004),isArray:n(585),isEmpty:n(1433),isFunction:n(1414),isUndefined:n(1892),keys:n(723),map:n(1893),reduce:n(1895),size:n(2566),transform:n(2571),union:n(2572),values:n(1899)}}catch(i){}r||(r=window._),e.exports=r},686:function(e,t,n){var r=n(1998),i=n(1417),o=n(728);e.exports=function(e){return o(e)?r(e,!0):i(e)}},687:function(e,t,n){var r=n(1591),i=n(1601),o=n(772),a=n(585),s=n(1603);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEnd=t.isWindow=t.isBy=t.isSet=t.isLimit=t.isBetween=t.isAnd=void 0;var r,i=(r=n(586))&&r.__esModule?r:{default:r};var o=function(e,t){return function(n){return(null===n||void 0===n?void 0:n.type)===e&&t.test(null===n||void 0===n?void 0:n.value)}},a=o(i.default.RESERVED_NEWLINE,/^AND$/i);t.isAnd=a;var s=o(i.default.RESERVED,/^BETWEEN$/i);t.isBetween=s;var u=o(i.default.RESERVED_TOP_LEVEL,/^LIMIT$/i);t.isLimit=u;var c=o(i.default.RESERVED_TOP_LEVEL,/^[S\u017F]ET$/i);t.isSet=c;var l=o(i.default.RESERVED,/^BY$/i);t.isBy=l;var f=o(i.default.RESERVED_TOP_LEVEL,/^WINDOW$/i);t.isWindow=f;var h=o(i.default.CLOSE_PAREN,/^END$/i);t.isEnd=h},689:function(e,t,n){var r;try{r=n(2561)}catch(i){}r||(r=window.graphlib),e.exports=r},690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(601),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},691:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},715:function(e,t,n){var r=n(790),i=n(838);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TextureCompressionBC="texture-compression-bc"}(t.ExtensionName||(t.ExtensionName={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.AddressMode||(t.AddressMode={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.BindingType||(t.BindingType={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.BlendFactor||(t.BlendFactor={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.BlendOperation||(t.BlendOperation={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.CompareFunction||(t.CompareFunction={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.CullMode||(t.CullMode={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.FilterMode||(t.FilterMode={})),function(e){e.CCW="ccw",e.CW="cw"}(t.FrontFace||(t.FrontFace={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.IndexFormat||(t.IndexFormat={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.InputStepMode||(t.InputStepMode={})),function(e){e.Load="load"}(t.LoadOp||(t.LoadOp={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.PrimitiveTopology||(t.PrimitiveTopology={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.StencilOperation||(t.StencilOperation={})),function(e){e.Store="store",e.Clear="clear"}(t.StoreOp||(t.StoreOp={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.TextureDimension||(t.TextureDimension={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.TextureFormat||(t.TextureFormat={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.TextureComponentType||(t.TextureComponentType={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.TextureViewDimension||(t.TextureViewDimension={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.VertexFormat||(t.VertexFormat={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.TextureAspect||(t.TextureAspect={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.CompilationMessageType||(t.CompilationMessageType={})),function(e){e.Occlusion="occlusion"}(t.QueryType||(t.QueryType={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.BufferUsage||(t.BufferUsage={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.ColorWrite||(t.ColorWrite={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.ShaderStage||(t.ShaderStage={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.TextureUsage||(t.TextureUsage={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.MapMode||(t.MapMode={}))},735:function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t.a=i},758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},772:function(e,t){e.exports=function(e){return e}},779:function(e,t,n){var r=n(1399),i=n(1400),o=n(1401),a=n(1402);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},781:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(652),i=n(601);function o(e,t,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var c=a[u];if(Array.isArray(c))for(var l=0,f=c;l<f.length;l++){var h=f[l];if(h.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key.toString())}else c=[];c.push(i),a[u]=c,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"===typeof n?a([s(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):a([e],t)}},790:function(e,t,n){var r=n(838),i=n(855),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},823:function(e,t,n){var r=n(2e3)(Object.getPrototypeOf,Object);e.exports=r},824:function(e,t,n){var r=n(1424);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},828:function(e,t,n){"use strict";var r=n(24),i=n(18),o=n(1),a=n.n(o),s=n(836),u=n(53),c=n(381),l=n(442),f=n(469),h=n(1010),d=n(433),p=n(463),m=n(452),E=n(472),v=n(227),g=n(465),y=n(475),b=n(443),S=n(784),T=n.n(S),x=n(706),O=n.n(x),R=n(984),A=n.n(R),_=n(841),N=n.n(_),C=n(877),L=n.n(C),I=n(982),w=n.n(I),M=n(584),j=n(983),P=n.n(j),k=n(633),D=n.n(k),U=n(981),F=n.n(U),B=n(926),G=n(980),V=n(0),H=[{value:"on",label:"\u5f00\u542f\u884c\u53f7"},{value:"off",label:"\u5173\u95ed\u884c\u53f7"},{value:"relative",label:"\u76f8\u5bf9\u884c\u53f7"},{value:"interval",label:"\u533a\u95f4\u884c\u53f7"}];t.a=function(e){var t,n=Object(u.a)(),S=Object(o.useState)("light"===n.palette.mode?"vs":"vs-dark"),x=Object(i.a)(S,2),R=x[0],_=x[1],C=Object(o.useState)(!1),I=Object(i.a)(C,2),j=I[0],k=I[1],U=Object(o.useState)(!1),z=Object(i.a)(U,2),W=z[0],Y=z[1],X=a.a.useState(null),q=Object(i.a)(X,2),K=q[0],Q=q[1],J=a.a.useState(null),Z=Object(i.a)(J,2),$=Z[0],ee=Z[1],te=a.a.useState(null),ne=Object(i.a)(te,2),re=ne[0],ie=ne[1],oe=Object(o.useState)([80]),ae=Object(i.a)(oe,2),se=ae[0],ue=ae[1],ce=Object(o.useState)("80"),le=Object(i.a)(ce,2),fe=le[0],he=le[1],de=Object(o.useState)("on"),pe=Object(i.a)(de,2),me=pe[0],Ee=pe[1],ve=Object(o.useRef)(),ge=null===(t=ve.current)||void 0===t?void 0:t.editor,ye=function(e,t){ve.current=e,t.languages.registerCompletionItemProvider("sql",{provideCompletionItems:function(e,n){var r=n.lineNumber,i=n.column,o=e.getLineContent(r)[i-2],a=e.getWordUntilPosition(n),s={startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:a.startColumn,endColumn:a.endColumn},u=[];if("$"===o);else{var c=["SELECT","FROM","DISTINCT","WHERE","AND","OR","LEFT JOIN","RIGHT JOIN","FULL JOIN","BETWEEN","UNION","HAVING","NOT","LIMIT","ORDER BY","GROUP BY","DESC","ASC"];for(var l in c)u.push({label:c[l],kind:t.languages.CompletionItemKind.Enum,insertText:c[l],detail:"",range:s});for(var f in G.docs){var h=G.docs[f].title;u.push({label:h,kind:t.languages.CompletionItemKind.Function,insertText:h,detail:G.docs[f].text.split(" - ")[0],range:s})}}return{suggestions:u}},triggerCharacters:["$",""]})},be=function(){var t;ge&&(null===(t=e.onSelected)||void 0===t||t.call(e,ge.getModel().getValueInRange(ge.getSelection())))};return e.hideTools?Object(V.jsx)(c.a,{onMouseUp:be,width:1,height:1,position:"relative",sx:Object(r.a)(Object(r.a)({},e.sx),{},{"& .monaco-scrollable-element":{borderRadius:n.shape.borderRadius+"px"},"& .monaco-editor":{borderRadius:n.shape.borderRadius+"px",".margin":{borderRadius:n.shape.borderRadius+"px"}}}),children:Object(V.jsx)(s.a,{ref:ve,language:e.language||"sql",theme:R,value:e.value,options:{readOnly:e.readonly,scrollbar:{vertical:"hidden"},selectOnLineNumbers:!0,lineNumbers:me,minimap:{enabled:j},rulers:se,wordWrap:"on"},editorDidMount:ye,onChange:e.onChange})}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(c.a,{onMouseUp:be,position:"relative",sx:e.sx,children:[Object(V.jsx)(s.a,{ref:ve,language:e.language||"sql",theme:R,value:e.value,options:{readOnly:e.readonly,scrollbar:{vertical:"hidden"},selectOnLineNumbers:!0,lineNumbers:me,minimap:{enabled:j},rulers:se,wordWrap:"on"},editorDidMount:ye,onChange:e.onChange}),Object(V.jsxs)(c.a,{sx:{boxShadow:"rgb(221 221 221) 0rem 0.0625rem 0.3125rem 0.0625rem",display:"flex",flexDirection:"column",position:"absolute",right:24,top:24},children:[Object(V.jsx)(l.a,{placement:"left",title:"\u5de5\u5177\u680f",children:Object(V.jsx)(f.a,{onClick:function(e){return Y(!W)},children:Object(V.jsx)(N.a,{color:W?"primary":"inherit"})})}),Object(V.jsx)(h.a,{orientation:"vertical",in:W,children:Object(V.jsxs)(d.a,{spacing:1,children:[Object(V.jsx)(l.a,{placement:"left",title:"\u641c\u7d22",children:Object(V.jsx)(f.a,{onClick:function(e){return ie(e.currentTarget)},children:Object(V.jsx)(O.a,{color:"inherit"})})}),Object(V.jsx)(l.a,{placement:"left",title:"\u6587\u6863",children:Object(V.jsx)(f.a,{children:Object(V.jsx)(T.a,{color:"inherit"})})}),Object(V.jsx)(l.a,{placement:"left",title:"\u683c\u5f0f\u5316",children:Object(V.jsx)(f.a,{onClick:function(){var t;"sql"!==e.language&&e.language||(null===(t=e.onChange)||void 0===t||t.call(e,Object(B.format)(e.value)))},children:Object(V.jsx)(F.a,{})})}),Object(V.jsx)(l.a,{placement:"left",title:"\u5206\u5272\u7ebf",children:Object(V.jsx)(f.a,{onClick:function(e){return Q(e.currentTarget)},children:Object(V.jsx)(w.a,{})})}),Object(V.jsx)(l.a,{placement:"left",title:"\u884c\u53f7",children:Object(V.jsx)(f.a,{onClick:function(e){return ee(e.currentTarget)},children:Object(V.jsx)(P.a,{})})}),Object(V.jsx)(l.a,{placement:"left",title:j?"\u9690\u85cf\u7f29\u7565\u56fe":"\u5c55\u793a\u7f29\u7565\u56fe",children:Object(V.jsx)(f.a,{onClick:function(){return k(!j)},children:Object(V.jsx)(L.a,{color:j?"primary":"inherit"})})}),Object(V.jsx)(l.a,{placement:"left",title:"vs-dark"===R?"\u5207\u6362\u4e3a\u4eae\u8272\u4e3b\u9898":"\u5207\u6362\u4e3a\u6697\u8272\u4e3b\u9898",children:Object(V.jsx)(f.a,{onClick:function(){_("vs"===R?"vs-dark":"vs")},children:Object(V.jsx)(A.a,{color:"vs-dark"===R?"primary":"inherit"})})})]})})]})]}),Object(V.jsxs)(p.a,{open:Boolean(K),anchorEl:K,onClose:function(){return Q(null)},anchorOrigin:{vertical:"top",horizontal:"right"},children:[Object(V.jsxs)(d.a,{p:1,direction:"row",alignItems:"center",spacing:1,children:[Object(V.jsx)(m.a,{variant:"standard",label:"\u5217\u6570",placeholder:"\u8bf7\u8f93\u5165\u5206\u5272\u7ebf\u5217\u6570",value:fe,onChange:function(e){return he(e.target.value)}}),Object(V.jsx)(E.a,{onClick:function(){ue(fe?fe.split(",").map((function(e){return parseInt(e)})):[])},variant:"contained",children:"\u786e\u5b9a"})]}),Object(V.jsxs)(d.a,{width:256,direction:"row",spacing:1,p:1,children:[Object(V.jsx)(M.a,{htmlColor:n.palette.text.secondary}),Object(V.jsx)(v.a,{variant:"body2",color:"text.secondary",children:'\u8bf7\u6307\u5b9a\u5206\u5272\u7ebf\u5217\u6570\uff0c\u591a\u6761\u5206\u5272\u7ebf\u8bf7\u4f7f\u7528 "," \u5206\u5272\uff0c\u4e3a\u7a7a\u65f6\u5219\u4e0d\u663e\u793a\u5206\u5272\u7ebf\uff0c\u9ed8\u8ba4\u4e3a80\u3002'})]})]}),Object(V.jsx)(p.a,{open:Boolean($),anchorEl:$,onClose:function(){return ee(null)},anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(g.a,{sx:{p:1,width:256},children:H.map((function(e){return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(y.a,{button:!0,selected:me===e.value,onClick:function(){return Ee(e.value)},secondaryAction:me===e.value?Object(V.jsx)(D.a,{color:"success"}):null,children:Object(V.jsx)(b.a,{children:e.label})},e.value)})}))})}),Object(V.jsx)(p.a,{open:Boolean(re),anchorEl:re,onClose:function(){return ie(null)},anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(c.a,{p:1,width:256,children:Object(V.jsx)(m.a,{variant:"standard",placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",fullWidth:!0})})})]})}},829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var r=0;t.id=function(){return r++}},837:function(e,t,n){"use strict";var r=n(11),i=n(3),o=n(13),a=n(2),s=n(1),u=(n(10),n(14)),c=n(37),l=n(316),f=n(134),h=n(8),d=n(15);var p=s.createContext(),m=n(69),E=n(78);function v(e){return Object(m.a)("MuiGrid",e)}var g=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],y=Object(E.a)("MuiGrid",["root","container","item","zeroMinWidth"].concat(Object(r.a)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),Object(r.a)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),Object(r.a)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),Object(r.a)(g.map((function(e){return"grid-xs-".concat(e)}))),Object(r.a)(g.map((function(e){return"grid-sm-".concat(e)}))),Object(r.a)(g.map((function(e){return"grid-md-".concat(e)}))),Object(r.a)(g.map((function(e){return"grid-lg-".concat(e)}))),Object(r.a)(g.map((function(e){return"grid-xl-".concat(e)}))))),b=n(0),S=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function T(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];var r=e.xs,i=e.sm,o=e.md,a=e.lg,s=e.xl;return[Number(r)>0&&(n["spacing-xs-".concat(String(r))]||"spacing-xs-".concat(String(r))),Number(i)>0&&(n["spacing-sm-".concat(String(i))]||"spacing-sm-".concat(String(i))),Number(o)>0&&(n["spacing-md-".concat(String(o))]||"spacing-md-".concat(String(o))),Number(a)>0&&(n["spacing-lg-".concat(String(a))]||"spacing-lg-".concat(String(a))),Number(s)>0&&(n["spacing-xl-".concat(String(s))]||"spacing-xl-".concat(String(s)))]}var O=Object(h.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,i=n.container,o=n.direction,a=n.item,s=n.lg,u=n.md,c=n.sm,l=n.spacing,f=n.wrap,h=n.xl,d=n.xs,p=n.zeroMinWidth;return[t.root,i&&t.container,a&&t.item,p&&t.zeroMinWidth].concat(Object(r.a)(x(l,i,t)),["row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==f&&t["wrap-xs-".concat(String(f))],!1!==d&&t["grid-xs-".concat(String(d))],!1!==c&&t["grid-sm-".concat(String(c))],!1!==u&&t["grid-md-".concat(String(u))],!1!==s&&t["grid-lg-".concat(String(s))],!1!==h&&t["grid-xl-".concat(String(h))]])}})((function(e){var t=e.ownerState;return Object(a.a)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme,n=e.ownerState,r=Object(c.d)({values:n.direction,breakpoints:t.breakpoints.values});return Object(c.b)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(y.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,o=n.rowSpacing,a={};if(r&&0!==o){var s=Object(c.d)({values:o,breakpoints:t.breakpoints.values});a=Object(c.b)({theme:t},s,(function(e){var n=t.spacing(e);return"0px"!==n?Object(i.a)({marginTop:"-".concat(T(n))},"& > .".concat(y.item),{paddingTop:T(n)}):{}}))}return a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,o=n.columnSpacing,a={};if(r&&0!==o){var s=Object(c.d)({values:o,breakpoints:t.breakpoints.values});a=Object(c.b)({theme:t},s,(function(e){var n=t.spacing(e);return"0px"!==n?Object(i.a)({width:"calc(100% + ".concat(T(n),")"),marginLeft:"-".concat(T(n))},"& > .".concat(y.item),{paddingLeft:T(n)}):{}}))}return a}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var s=Object(c.d)({values:r.columns,breakpoints:n.breakpoints.values}),u="object"===typeof s?s[i]:s;if(void 0===u||null===u)return e;var l="".concat(Math.round(t/u*1e8)/1e6,"%"),f={};if(r.container&&r.item&&0!==r.columnSpacing){var h=n.spacing(r.columnSpacing);if("0px"!==h){var d="calc(".concat(l," + ").concat(T(h),")");f={flexBasis:d,maxWidth:d}}}o=Object(a.a)({flexBasis:l,flexGrow:0,maxWidth:l},f)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})})),R=s.forwardRef((function(e,t){var n,i=Object(d.a)({props:e,name:"MuiGrid"}),c=Object(l.a)(i),h=c.className,m=c.columns,E=c.columnSpacing,g=c.component,y=void 0===g?"div":g,T=c.container,R=void 0!==T&&T,A=c.direction,_=void 0===A?"row":A,N=c.item,C=void 0!==N&&N,L=c.lg,I=void 0!==L&&L,w=c.md,M=void 0!==w&&w,j=c.rowSpacing,P=c.sm,k=void 0!==P&&P,D=c.spacing,U=void 0===D?0:D,F=c.wrap,B=void 0===F?"wrap":F,G=c.xl,V=void 0!==G&&G,H=c.xs,z=void 0!==H&&H,W=c.zeroMinWidth,Y=void 0!==W&&W,X=Object(o.a)(c,S),q=j||U,K=E||U,Q=s.useContext(p),J=m||Q||12,Z=Object(a.a)({},c,{columns:J,container:R,direction:_,item:C,lg:I,md:M,sm:k,rowSpacing:q,columnSpacing:K,wrap:B,xl:V,xs:z,zeroMinWidth:Y}),$=function(e){var t=e.classes,n=e.container,i=e.direction,o=e.item,a=e.lg,s=e.md,u=e.sm,c=e.spacing,l=e.wrap,h=e.xl,d=e.xs,p={root:["root",n&&"container",o&&"item",e.zeroMinWidth&&"zeroMinWidth"].concat(Object(r.a)(x(c,n)),["row"!==i&&"direction-xs-".concat(String(i)),"wrap"!==l&&"wrap-xs-".concat(String(l)),!1!==d&&"grid-xs-".concat(String(d)),!1!==u&&"grid-sm-".concat(String(u)),!1!==s&&"grid-md-".concat(String(s)),!1!==a&&"grid-lg-".concat(String(a)),!1!==h&&"grid-xl-".concat(String(h))])};return Object(f.a)(p,v,t)}(Z);return n=Object(b.jsx)(O,Object(a.a)({ownerState:Z,className:Object(u.default)($.root,h),as:y,ref:t},X)),12!==J?Object(b.jsx)(p.Provider,{value:J,children:n}):n}));t.a=R},840:function(e,t,n){"use strict";var r=n(149);t.a=function(e){return!e||!Object(r.a)(e)}},860:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return o})),n.d(t,"length",(function(){return a})),n.d(t,"fromValues",(function(){return s})),n.d(t,"copy",(function(){return u})),n.d(t,"set",(function(){return c})),n.d(t,"add",(function(){return l})),n.d(t,"subtract",(function(){return f})),n.d(t,"multiply",(function(){return h})),n.d(t,"divide",(function(){return d})),n.d(t,"ceil",(function(){return p})),n.d(t,"floor",(function(){return m})),n.d(t,"min",(function(){return E})),n.d(t,"max",(function(){return v})),n.d(t,"round",(function(){return g})),n.d(t,"scale",(function(){return y})),n.d(t,"scaleAndAdd",(function(){return b})),n.d(t,"distance",(function(){return S})),n.d(t,"squaredDistance",(function(){return T})),n.d(t,"squaredLength",(function(){return x})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return R})),n.d(t,"normalize",(function(){return A})),n.d(t,"dot",(function(){return _})),n.d(t,"cross",(function(){return N})),n.d(t,"lerp",(function(){return C})),n.d(t,"hermite",(function(){return L})),n.d(t,"bezier",(function(){return I})),n.d(t,"random",(function(){return w})),n.d(t,"transformMat4",(function(){return M})),n.d(t,"transformMat3",(function(){return j})),n.d(t,"transformQuat",(function(){return P})),n.d(t,"rotateX",(function(){return k})),n.d(t,"rotateY",(function(){return D})),n.d(t,"rotateZ",(function(){return U})),n.d(t,"angle",(function(){return F})),n.d(t,"zero",(function(){return B})),n.d(t,"str",(function(){return G})),n.d(t,"exactEquals",(function(){return V})),n.d(t,"equals",(function(){return H})),n.d(t,"sub",(function(){return z})),n.d(t,"mul",(function(){return W})),n.d(t,"div",(function(){return Y})),n.d(t,"dist",(function(){return X})),n.d(t,"sqrDist",(function(){return q})),n.d(t,"len",(function(){return K})),n.d(t,"sqrLen",(function(){return Q})),n.d(t,"forEach",(function(){return J}));var r=n(644);function i(){var e=new r.a(3);return r.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=new r.a(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r.a(3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function h(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function d(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function p(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function E(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function v(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function g(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function y(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function b(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function S(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function T(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function x(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function O(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function R(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function A(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function _(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function N(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function C(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function L(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return e[0]=t[0]*s+n[0]*u+r[0]*c+i[0]*l,e[1]=t[1]*s+n[1]*u+r[1]*c+i[1]*l,e[2]=t[2]*s+n[2]*u+r[2]*c+i[2]*l,e}function I(e,t,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,f=3*u*a,h=u*o;return e[0]=t[0]*c+n[0]*l+r[0]*f+i[0]*h,e[1]=t[1]*c+n[1]*l+r[1]*f+i[1]*h,e[2]=t[2]*c+n[2]*l+r[2]*f+i[2]*h,e}function w(e,t){t=t||1;var n=2*r.c()*Math.PI,i=2*r.c()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=i*t,e}function M(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function j(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function P(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],c=t[2],l=i*c-o*u,f=o*s-r*c,h=r*u-i*s,d=i*h-o*f,p=o*l-r*h,m=r*f-i*l,E=2*a;return l*=E,f*=E,h*=E,d*=2,p*=2,m*=2,e[0]=s+l+d,e[1]=u+f+p,e[2]=c+h+m,e}function k(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function D(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function U(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function F(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&_(e,t)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function B(e){return e[0]=0,e[1]=0,e[2]=0,e}function G(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function H(e,t){var n=e[0],i=e[1],o=e[2],a=t[0],s=t[1],u=t[2];return Math.abs(n-a)<=r.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.b*Math.max(1,Math.abs(o),Math.abs(u))}var z=f,W=h,Y=d,X=S,q=T,K=a,Q=x,J=function(){var e=i();return function(t,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}()},876:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=a},877:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"}),"Map");t.default=a},878:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}(r||(r={}))},891:function(e,t,n){"use strict";var r=n(18),i=n(3),o=n(13),a=n(2),s=n(1),u=(n(10),n(14)),c=n(134),l=n(20),f=n(242),h=n(17),d=n(8),p=n(15),m=n(138),E=n(29),v=n(227),g=n(69),y=n(78);function b(e){return Object(g.a)("MuiLink",e)}var S=Object(y.a)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),T=n(0),x=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],O={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},R=Object(d.a)(v.a,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat(Object(h.a)(n.underline))],"button"===n.component&&t.button]}})((function(e){var t=e.theme,n=e.ownerState,r=Object(l.b)(t,"palette.".concat(function(e){return O[e]||e}(n.color)))||n.color;return Object(a.a)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==r?Object(f.a)(r,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===n.component&&Object(i.a)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(S.focusVisible),{outline:"auto"}))})),A=s.forwardRef((function(e,t){var n=Object(p.a)({props:e,name:"MuiLink"}),i=n.className,l=n.color,f=void 0===l?"primary":l,d=n.component,v=void 0===d?"a":d,g=n.onBlur,y=n.onFocus,S=n.TypographyClasses,O=n.underline,A=void 0===O?"always":O,_=n.variant,N=void 0===_?"inherit":_,C=Object(o.a)(n,x),L=Object(m.a)(),I=L.isFocusVisibleRef,w=L.onBlur,M=L.onFocus,j=L.ref,P=s.useState(!1),k=Object(r.a)(P,2),D=k[0],U=k[1],F=Object(E.a)(t,j),B=Object(a.a)({},n,{color:f,component:v,focusVisible:D,underline:A,variant:N}),G=function(e){var t=e.classes,n=e.component,r=e.focusVisible,i=e.underline,o={root:["root","underline".concat(Object(h.a)(i)),"button"===n&&"button",r&&"focusVisible"]};return Object(c.a)(o,b,t)}(B);return Object(T.jsx)(R,Object(a.a)({className:Object(u.default)(G.root,i),classes:S,color:f,component:v,onBlur:function(e){w(e),!1===I.current&&U(!1),g&&g(e)},onFocus:function(e){M(e),!0===I.current&&U(!0),y&&y(e)},ref:F,ownerState:B,variant:N},C))}));t.a=A},899:function(e,t,n){"use strict";var r=n(566),i=Date.now(),o="fnValues"+i,a="fnStyle"+ ++i;t.a=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var i=Object(r.d)(e,{},n);return i[a]=t,i},onProcessStyle:function(e,t){if(o in t||a in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[o]=n,e},onUpdate:function(e,t,n,r){var i=t,s=i[a];s&&(i.style=s(e)||{});var u=i[o];if(u)for(var c in u)i.prop(c,u[c](e),r)}}}},900:function(e,t,n){"use strict";var r=n(36),i=n(566),o="@global",a="@global ",s=function(){function e(e,t,n){for(var a in this.type="global",this.at=o,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new i.a(Object(r.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),u=function(){function e(e,t,n){this.type="global",this.at=o,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(a.length);this.rule=n.jss.createRule(i,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),c=/\s*,\s*/g;function l(e,t){for(var n=e.split(c),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}t.a=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===o)return new s(e,t,n);if("@"===e[0]&&e.substr(0,a.length)===a)return new u(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,a=i?i[o]:null;if(a){for(var s in a)t.addRule(s,a[s],Object(r.a)({},n,{selector:l(s,e.selector)}));delete i[o]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var a in i)if("@"===a[0]&&a.substr(0,o.length)===o){var s=l(a.substr(o.length),e.selector);t.addRule(s,i[a],Object(r.a)({},n,{selector:s})),delete i[a]}}(e,t))}}}},901:function(e,t,n){"use strict";var r=n(36),i=/\s*,\s*/g,o=/&/g,a=/\$([\w-]+)/g;t.a=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(i),r=e.split(i),a="",s=0;s<n.length;s++)for(var u=n[s],c=0;c<r.length;c++){var l=r[c];a&&(a+=", "),a+=-1!==l.indexOf("&")?l.replace(o,u):u+" "+l}return a}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=Object(r.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,s){if("style"!==o.type)return i;var u,c,l=o,f=l.options.parent;for(var h in i){var d=-1!==h.indexOf("&"),p="@"===h[0];if(d||p){if(u=n(l,f,u),d){var m=t(h,l.selector);c||(c=e(f,s)),m=m.replace(a,c);var E=l.key+"-"+h;"replaceRule"in f?f.replaceRule(E,i[h],Object(r.a)({},u,{selector:m})):f.addRule(E,i[h],Object(r.a)({},u,{selector:m}))}else p&&f.addRule(h,{},u).addRule(l.key,i[h],{selector:l.selector});delete i[h]}}return i}}}},902:function(e,t,n){"use strict";var r=n(566),i=r.f&&CSS?CSS.px:"px",o=r.f&&CSS?CSS.ms:"ms",a=r.f&&CSS?CSS.percent:"%";function s(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var u=s({"animation-delay":o,"animation-duration":o,"background-position":i,"background-position-x":i,"background-position-y":i,"background-size":i,border:i,"border-bottom":i,"border-bottom-left-radius":i,"border-bottom-right-radius":i,"border-bottom-width":i,"border-left":i,"border-left-width":i,"border-radius":i,"border-right":i,"border-right-width":i,"border-top":i,"border-top-left-radius":i,"border-top-right-radius":i,"border-top-width":i,"border-width":i,"border-block":i,"border-block-end":i,"border-block-end-width":i,"border-block-start":i,"border-block-start-width":i,"border-block-width":i,"border-inline":i,"border-inline-end":i,"border-inline-end-width":i,"border-inline-start":i,"border-inline-start-width":i,"border-inline-width":i,"border-start-start-radius":i,"border-start-end-radius":i,"border-end-start-radius":i,"border-end-end-radius":i,margin:i,"margin-bottom":i,"margin-left":i,"margin-right":i,"margin-top":i,"margin-block":i,"margin-block-end":i,"margin-block-start":i,"margin-inline":i,"margin-inline-end":i,"margin-inline-start":i,padding:i,"padding-bottom":i,"padding-left":i,"padding-right":i,"padding-top":i,"padding-block":i,"padding-block-end":i,"padding-block-start":i,"padding-inline":i,"padding-inline-end":i,"padding-inline-start":i,"mask-position-x":i,"mask-position-y":i,"mask-size":i,height:i,width:i,"min-height":i,"max-height":i,"min-width":i,"max-width":i,bottom:i,left:i,top:i,right:i,inset:i,"inset-block":i,"inset-block-end":i,"inset-block-start":i,"inset-inline":i,"inset-inline-end":i,"inset-inline-start":i,"box-shadow":i,"text-shadow":i,"column-gap":i,"column-rule":i,"column-rule-width":i,"column-width":i,"font-size":i,"font-size-delta":i,"letter-spacing":i,"text-decoration-thickness":i,"text-indent":i,"text-stroke":i,"text-stroke-width":i,"word-spacing":i,motion:i,"motion-offset":i,outline:i,"outline-offset":i,"outline-width":i,perspective:i,"perspective-origin-x":a,"perspective-origin-y":a,"transform-origin":a,"transform-origin-x":a,"transform-origin-y":a,"transform-origin-z":a,"transition-delay":o,"transition-duration":o,"vertical-align":i,"flex-basis":i,"shape-margin":i,size:i,gap:i,grid:i,"grid-gap":i,"row-gap":i,"grid-row-gap":i,"grid-column-gap":i,"grid-template-rows":i,"grid-template-columns":i,"grid-auto-rows":i,"grid-auto-columns":i,"box-shadow-x":i,"box-shadow-y":i,"box-shadow-blur":i,"box-shadow-spread":i,"font-line-height":i,"text-shadow-x":i,"text-shadow-y":i,"text-shadow-blur":i});function c(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=c(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var o in t)t[o]=c(o,t[o],n);else for(var a in t)t[a]=c(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var s=n[e]||u[e];return!s||0===t&&s===i?t.toString():"function"===typeof s?s(t).toString():""+t+s}return t}t.a=function(e){void 0===e&&(e={});var t=s(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=c(r,e[r],t);return e},onChangeValue:function(e,n){return c(n,e,t)}}}},903:function(e,t,n){"use strict";t.a=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}}},926:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedDialects=t.format=void 0;var r=d(n(966)),i=d(n(971)),o=d(n(972)),a=d(n(973)),s=d(n(974)),u=d(n(975)),c=d(n(976)),l=d(n(977)),f=d(n(978)),h=d(n(979));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var m={db2:r.default,mariadb:i.default,mysql:o.default,n1ql:a.default,plsql:s.default,postgresql:u.default,redshift:c.default,spark:l.default,sql:f.default,tsql:h.default};t.format=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)throw new Error("Invalid query argument. Extected string, instead got "+p(e));var n=f.default;if(void 0!==t.language&&(n=m[t.language]),void 0===n)throw Error("Unsupported SQL dialect: ".concat(t.language));return new n(t).format(e)};var E=Object.keys(m);t.supportedDialects=E},932:function(e,t,n){"use strict";var r=n(735);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a="",s="",u="",c="",l=r.a&&"ontouchstart"in document.documentElement;if(r.a){var f={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},h=document.createElement("p").style;for(var d in f)if(d+"Transform"in h){a=d,s=f[d];break}"Webkit"===a&&"msHyphens"in h&&(a="ms",s=f.ms,c="edge"),"Webkit"===a&&"-apple-trailing-word"in h&&(u="apple")}var p=a,m=s,E=u,v=c,g=l;var y={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===p?"-webkit-"+e:m+e)}},b={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===p?m+"print-"+e:e)}},S=/[-\s]+(.)?/g;function T(e,t){return t?t.toUpperCase():""}function x(e){return e.replace(S,T)}function O(e){return x("-"+e)}var R,A={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===p){var n="mask-image";if(x(n)in t)return e;if(p+O(n)in t)return m+e}return e}},_={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==E||g?e:m+e)}},N={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:m+e)}},C={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:m+e)}},L={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===p||"ms"===p&&"edge"!==v?m+e:e)}},I={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===p||"ms"===p||"apple"===E?m+e:e)}},w={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===p?"WebkitColumn"+O(e)in t&&m+"column-"+e:"Moz"===p&&("page"+O(e)in t&&"page-"+e))}},M={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===p)return e;var n=e.replace("-inline","");return p+O(n)in t&&m+n}},j={supportedProperty:function(e,t){return x(e)in t&&e}},P={supportedProperty:function(e,t){var n=O(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:p+n in t?m+e:"Webkit"!==p&&"Webkit"+n in t&&"-webkit-"+e}},k={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===p?""+m+e:e)}},D={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===p?m+"scroll-chaining":e)}},U={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},F={supportedProperty:function(e,t){var n=U[e];return!!n&&(p+O(n)in t&&m+n)}},B={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},G=Object.keys(B),V=function(e){return m+e},H=[y,b,A,_,N,C,L,I,w,M,j,P,k,D,F,{supportedProperty:function(e,t,n){var r=n.multiple;if(G.indexOf(e)>-1){var i=B[e];if(!Array.isArray(i))return p+O(i)in t&&m+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(p+O(i[0])in t))return!1;return i.map(V)}return!1}}],z=H.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),W=H.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,o(t.noPrefill)),e}),[]),Y={};if(r.a){R=document.createElement("p");var X=window.getComputedStyle(document.documentElement,"");for(var q in X)isNaN(q)||(Y[X[q]]=X[q]);W.forEach((function(e){return delete Y[e]}))}function K(e,t){if(void 0===t&&(t={}),!R)return e;if(null!=Y[e])return Y[e];"transition"!==e&&"transform"!==e||(t[e]=e in R.style);for(var n=0;n<z.length&&(Y[e]=z[n](e,R.style,t),!Y[e]);n++);try{R.style[e]=""}catch(r){return!1}return Y[e]}var Q,J={},Z={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function ee(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?K(t):", "+K(n);return r||(t||n)}function te(e,t){var n=t;if(!Q||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=J[r])return J[r];try{Q.style[e]=n}catch(i){return J[r]=!1,!1}if(Z[e])n=n.replace($,ee);else if(""===Q.style[e]&&("-ms-flex"===(n=m+n)&&(Q.style[e]="-ms-flexbox"),Q.style[e]=n,""===Q.style[e]))return J[r]=!1,!1;return Q.style[e]="",J[r]=n,J[r]}r.a&&(Q=document.createElement("p"));var ne=n(566);t.a=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=K(n);o&&o!==n&&(i=!0);var a=!1,s=te(o,Object(ne.g)(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===p?e:"@"+m+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return te(t,Object(ne.g)(e))||e}}}},937:function(e,t,n){"use strict";var r=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}var s=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,a);return o[e]=i.test(t)?"-"+t:t};function u(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:s(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(u):t.fallbacks=u(e.fallbacks)),t}t.a=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e}return u(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=s(t);return t===r?e:(n.prop(r,e),null)}}}},948:function(e,t,n){var r=n(1586),i=n(1587),o=n(1401),a=n(1588);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},955:function(e,t,n){"use strict";var r=n(3),i=n(13),o=n(2),a=n(1),s=(n(10),n(14)),u=n(134),c=n(56),l=n(227),f=n(17),h=n(8),d=n(15),p=n(69),m=n(78);function E(e){return Object(p.a)("MuiFormControlLabel",e)}var v=Object(m.a)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),g=n(71),y=n(0),b=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],S=Object(h.a)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(v.label),t.label),t.root,t["labelPlacement".concat(Object(f.a)(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)(Object(r.a)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(v.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},Object(r.a)({},"& .".concat(v.label),Object(r.a)({},"&.".concat(v.disabled),{color:t.palette.text.disabled})))})),T=a.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiFormControlLabel"}),r=n.className,h=n.componentsProps,p=void 0===h?{}:h,m=n.control,v=n.disabled,T=n.disableTypography,x=n.label,O=n.labelPlacement,R=void 0===O?"end":O,A=Object(i.a)(n,b),_=Object(c.a)(),N=v;"undefined"===typeof N&&"undefined"!==typeof m.props.disabled&&(N=m.props.disabled),"undefined"===typeof N&&_&&(N=_.disabled);var C={disabled:N};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof m.props[e]&&"undefined"!==typeof n[e]&&(C[e]=n[e])}));var L=Object(g.a)({props:n,muiFormControl:_,states:["error"]}),I=Object(o.a)({},n,{disabled:N,label:x,labelPlacement:R,error:L.error}),w=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,i=e.error,o={root:["root",n&&"disabled","labelPlacement".concat(Object(f.a)(r)),i&&"error"],label:["label",n&&"disabled"]};return Object(u.a)(o,E,t)}(I);return Object(y.jsxs)(S,Object(o.a)({className:Object(s.default)(w.root,r),ownerState:I,ref:t},A,{children:[a.cloneElement(m,C),x.type===l.a||T?x:Object(y.jsx)(l.a,Object(o.a)({component:"span",className:w.label},p.typography,{children:x}))]}))}));t.a=T},959:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},961:function(e,t,n){var r=n(1537),i=n(823),o=n(1334),a=n(2001),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},964:function(e,t,n){var r=n(1017),i=n(723);e.exports=function(e,t){return e&&r(e,t,i)}},966:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],p=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],m=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],E=["AND","OR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"],operators:["**","!=","!>","!>","||"]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(642);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o="top-level",a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indent=t||"  ",this.indentTypes=[]}var t,n,a;return t=e,(n=[{key:"getIndent",value:function(){return this.indent.repeat(this.indentTypes.length)}},{key:"increaseTopLevel",value:function(){this.indentTypes.push(o)}},{key:"increaseBlockLevel",value:function(){this.indentTypes.push("block-level")}},{key:"decreaseTopLevel",value:function(){this.indentTypes.length>0&&(0,r.last)(this.indentTypes)===o&&this.indentTypes.pop()}},{key:"decreaseBlockLevel",value:function(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===o;);}},{key:"resetIndentation",value:function(){this.indentTypes=[]}}])&&i(t.prototype,n),a&&i(t,a),e}();t.default=a,e.exports=t.default},968:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(586))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.level=0}var t,n,r;return t=e,(n=[{key:"beginIfPossible",value:function(e,t){0===this.level&&this.isInlineBlock(e,t)?this.level=1:this.level>0?this.level++:this.level=0}},{key:"end",value:function(){this.level--}},{key:"isActive",value:function(){return this.level>0}},{key:"isInlineBlock",value:function(e,t){for(var n=0,r=0,o=t;o<e.length;o++){var a=e[o];if((n+=a.value.length)>50)return!1;if(a.type===i.default.OPEN_PAREN)r++;else if(a.type===i.default.CLOSE_PAREN&&0===--r)return!0;if(this.isForbiddenToken(a))return!1}return!1}},{key:"isForbiddenToken",value:function(e){var t=e.type,n=e.value;return t===i.default.RESERVED_TOP_LEVEL||t===i.default.RESERVED_NEWLINE||t===i.default.COMMENT||t===i.default.BLOCK_COMMENT||";"===n}}])&&o(t.prototype,n),r&&o(t,r),e}();t.default=a,e.exports=t.default},969:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=t,this.index=0}var t,n,i;return t=e,(n=[{key:"get",value:function(e){var t=e.key,n=e.value;return this.params?t?this.params[t]:this.params[this.index++]:n}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i,e.exports=t.default},970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOperatorRegex=function(e){return new RegExp("^(".concat((0,r.sortByLengthDesc)(e).map(r.escapeRegExp).join("|"),"|.)"),"u")},t.createLineCommentRegex=function(e){return new RegExp("^((?:".concat(e.map((function(e){return(0,r.escapeRegExp)(e)})).join("|"),").*?)(?:\r\n|\r|\n|$)"),"u")},t.createReservedWordRegex=function(e){if(0===e.length)return new RegExp("^\b$","u");var t=(0,r.sortByLengthDesc)(e).join("|").replace(/ /g,"\\s+");return new RegExp("^(".concat(t,")\\b"),"iu")},t.createWordRegex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new RegExp("^([\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}".concat(e.join(""),"]+)"),"u")},t.createStringRegex=function(e){return new RegExp("^("+i(e)+")","u")},t.createStringPattern=i,t.createParenRegex=function(e){return new RegExp("^("+e.map(o).join("|")+")","iu")},t.createPlaceholderRegex=function(e,t){if((0,r.isEmpty)(e))return!1;var n=e.map(r.escapeRegExp).join("|");return new RegExp("^((?:".concat(n,")(?:").concat(t,"))"),"u")};var r=n(642);function i(e){var t={"``":"((`[^`]*($|`))+)","{}":"((\\{[^\\}]*($|\\}))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","U&''":"((U&'[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)",'U&""':'((U&"[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',$$:"((?<tag>\\$\\w*\\$)[\\s\\S]*?(?:\\k<tag>|$))"};return e.map((function(e){return t[e]})).join("|")}function o(e){return 1===e.length?(0,r.escapeRegExp)(e):"\\b"+e+"\\b"}},971:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","NUMERIC","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","REAL","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],p=["ADD","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET","UPDATE","VALUES","WHERE"],m=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],E=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","CROSS JOIN","NATURAL JOIN","STRAIGHT_JOIN","NATURAL LEFT JOIN","NATURAL LEFT OUTER JOIN","NATURAL RIGHT JOIN","NATURAL RIGHT OUTER JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:["``","''",'""'],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--","#"],specialWordChars:["@"],operators:[":=","<<",">>","!=","<>","<=>","&&","||"]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},972:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NUMERIC","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","REAL","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],p=["ADD","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET","UPDATE","VALUES","WHERE"],m=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],E=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","CROSS JOIN","NATURAL JOIN","STRAIGHT_JOIN","NATURAL LEFT JOIN","NATURAL LEFT OUTER JOIN","NATURAL RIGHT JOIN","NATURAL RIGHT OUTER JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:["``","''",'""'],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--","#"],specialWordChars:["@"],operators:[":=","<<",">>","!=","<>","<=>","&&","||","->","->>"]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},973:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],p=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],m=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],E=["AND","OR","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"],operators:["==","!="]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},974:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(537)),o=n(688),a=u(n(538)),s=u(n(586));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var m=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BREADTH","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DEPTH","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","END","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SEARCH","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],E=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UPDATE","VALUES","WHERE"],v=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],g=["AND","CROSS APPLY","ELSE","END","OR","OUTER APPLY","WHEN","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,i=h(u);function u(){return c(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"tokenizer",value:function(){return new a.default({reservedWords:m,reservedTopLevelWords:E,reservedNewlineWords:g,reservedTopLevelWordsNoIndent:v,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"],operators:["||","**","!=",":="]})}},{key:"tokenOverride",value:function(e){return(0,o.isSet)(e)&&(0,o.isBy)(this.previousReservedToken)?{type:s.default.RESERVED,value:e.value}:e}}])&&l(t.prototype,n),r&&l(t,r),u}(i.default);t.default=y,e.exports=t.default},975:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["ABORT","ABSOLUTE","ACCESS","ACTION","ADD","ADMIN","AFTER","AGGREGATE","ALL","ALSO","ALTER","ALWAYS","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASSERTION","ASSIGNMENT","ASYMMETRIC","AT","ATTACH","ATTRIBUTE","AUTHORIZATION","BACKWARD","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BIT","BOOLEAN","BOTH","BY","CACHE","CALL","CALLED","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAIN","CHAR","CHARACTER","CHARACTERISTICS","CHECK","CHECKPOINT","CLASS","CLOSE","CLUSTER","COALESCE","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMENTS","COMMIT","COMMITTED","CONCURRENTLY","CONFIGURATION","CONFLICT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTENT","CONTINUE","CONVERSION","COPY","COST","CREATE","CROSS","CSV","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFERRABLE","DEFERRED","DEFINER","DELETE","DELIMITER","DELIMITERS","DEPENDS","DESC","DETACH","DICTIONARY","DISABLE","DISCARD","DISTINCT","DO","DOCUMENT","DOMAIN","DOUBLE","DROP","EACH","ELSE","ENABLE","ENCODING","ENCRYPTED","END","ENUM","ESCAPE","EVENT","EXCEPT","EXCLUDE","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXPLAIN","EXPRESSION","EXTENSION","EXTERNAL","EXTRACT","FALSE","FAMILY","FETCH","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FORCE","FOREIGN","FORWARD","FREEZE","FROM","FULL","FUNCTION","FUNCTIONS","GENERATED","GLOBAL","GRANT","GRANTED","GREATEST","GROUP","GROUPING","GROUPS","HANDLER","HAVING","HEADER","HOLD","HOUR","IDENTITY","IF","ILIKE","IMMEDIATE","IMMUTABLE","IMPLICIT","IMPORT","IN","INCLUDE","INCLUDING","INCREMENT","INDEX","INDEXES","INHERIT","INHERITS","INITIALLY","INLINE","INNER","INOUT","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","INVOKER","IS","ISNULL","ISOLATION","JOIN","KEY","LABEL","LANGUAGE","LARGE","LAST","LATERAL","LEADING","LEAKPROOF","LEAST","LEFT","LEVEL","LIKE","LIMIT","LISTEN","LOAD","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCK","LOCKED","LOGGED","MAPPING","MATCH","MATERIALIZED","MAXVALUE","METHOD","MINUTE","MINVALUE","MODE","MONTH","MOVE","NAME","NAMES","NATIONAL","NATURAL","NCHAR","NEW","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NORMALIZE","NORMALIZED","NOT","NOTHING","NOTIFY","NOTNULL","NOWAIT","NULL","NULLIF","NULLS","NUMERIC","OBJECT","OF","OFF","OFFSET","OIDS","OLD","ON","ONLY","OPERATOR","OPTION","OPTIONS","OR","ORDER","ORDINALITY","OTHERS","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","OWNED","OWNER","PARALLEL","PARSER","PARTIAL","PARTITION","PASSING","PASSWORD","PLACING","PLANS","POLICY","POSITION","PRECEDING","PRECISION","PREPARE","PREPARED","PRESERVE","PRIMARY","PRIOR","PRIVILEGES","PROCEDURAL","PROCEDURE","PROCEDURES","PROGRAM","PUBLICATION","QUOTE","RANGE","READ","REAL","REASSIGN","RECHECK","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REINDEX","RELATIVE","RELEASE","RENAME","REPEATABLE","REPLACE","REPLICA","RESET","RESTART","RESTRICT","RETURNING","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUTINE","ROUTINES","ROW","ROWS","RULE","SAVEPOINT","SCHEMA","SCHEMAS","SCROLL","SEARCH","SECOND","SECURITY","SELECT","SEQUENCE","SEQUENCES","SERIALIZABLE","SERVER","SESSION","SESSION_USER","SET","SETOF","SETS","SHARE","SHOW","SIMILAR","SIMPLE","SKIP","SMALLINT","SNAPSHOT","SOME","SQL","STABLE","STANDALONE","START","STATEMENT","STATISTICS","STDIN","STDOUT","STORAGE","STORED","STRICT","STRIP","SUBSCRIPTION","SUBSTRING","SUPPORT","SYMMETRIC","SYSID","SYSTEM","TABLE","TABLES","TABLESAMPLE","TABLESPACE","TEMP","TEMPLATE","TEMPORARY","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRANSFORM","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TRUSTED","TYPE","TYPES","UESCAPE","UNBOUNDED","UNCOMMITTED","UNENCRYPTED","UNION","UNIQUE","UNKNOWN","UNLISTEN","UNLOGGED","UNTIL","UPDATE","USER","USING","VACUUM","VALID","VALIDATE","VALIDATOR","VALUE","VALUES","VARCHAR","VARIADIC","VARYING","VERBOSE","VERSION","VIEW","VIEWS","VOLATILE","WHEN","WHERE","WHITESPACE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","XML","XMLATTRIBUTES","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","YEAR","YES","ZONE"],p=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","EXCEPT","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],m=["INTERSECT","INTERSECT ALL","UNION","UNION ALL"],E=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:['""',"''","U&''",'U&""',"$$"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["$"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],operators:["!=","<<",">>","||/","|/","::","->>","->","~~*","~~","!~~*","!~~","~*","!~*","!~","!!"]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},976:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["AES128","AES256","ALLOWOVERWRITE","ANALYSE","ARRAY","AS","ASC","AUTHORIZATION","BACKUP","BINARY","BLANKSASNULL","BOTH","BYTEDICT","BZIP2","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","CREDENTIALS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURRENT_USER_ID","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DELTA","DELTA32K","DESC","DISABLE","DISTINCT","DO","ELSE","EMPTYASNULL","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","END","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FULL","GLOBALDICT256","GLOBALDICT64K","GRANT","GZIP","IDENTITY","IGNORE","ILIKE","INITIALLY","INTO","LEADING","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","LZO","LZOP","MINUS","MOSTLY13","MOSTLY32","MOSTLY8","NATURAL","NEW","NULLS","OFF","OFFLINE","OFFSET","OLD","ON","ONLY","OPEN","ORDER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RAW","READRATIO","RECOVER","REFERENCES","REJECTLOG","RESORT","RESTORE","SESSION_USER","SIMILAR","SYSDATE","SYSTEM","TABLE","TAG","TDES","TEXT255","TEXT32K","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","TRUNCATECOLUMNS","UNIQUE","USER","USING","VERBOSE","WALLET","WHEN","WITH","WITHOUT","PREDICATE","COLUMNS","COMPROWS","COMPRESSION","COPY","FORMAT","DELIMITER","FIXEDWIDTH","AVRO","JSON","ENCRYPTED","BZIP2","GZIP","LZOP","PARQUET","ORC","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","NULL AS","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","MANIFEST","REGION","IAM_ROLE","MASTER_SYMMETRIC_KEY","SSH","ACCEPTANYDATE","ACCEPTINVCHARS","ACCESS_KEY_ID","SECRET_ACCESS_KEY","AVRO","BLANKSASNULL","BZIP2","COMPROWS","COMPUPDATE","CREDENTIALS","DATEFORMAT","DELIMITER","EMPTYASNULL","ENCODING","ENCRYPTED","ESCAPE","EXPLICIT_IDS","FILLRECORD","FIXEDWIDTH","FORMAT","IAM_ROLE","GZIP","IGNOREBLANKLINES","IGNOREHEADER","JSON","LZOP","MANIFEST","MASTER_SYMMETRIC_KEY","MAXERROR","NOLOAD","NULL AS","READRATIO","REGION","REMOVEQUOTES","ROUNDEC","SSH","STATUPDATE","TIMEFORMAT","SESSION_TOKEN","TRIMBLANKS","TRUNCATECOLUMNS","EXTERNAL","DATA CATALOG","HIVE METASTORE","CATALOG_ROLE","VACUUM","COPY","UNLOAD","EVEN","ALL"],p=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","INTERSECT","TOP","LIMIT","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UNION","UPDATE","VALUES","WHERE","VACUUM","COPY","UNLOAD","ANALYZE","ANALYSE","DISTKEY","SORTKEY","COMPOUND","INTERLEAVED","FORMAT","DELIMITER","FIXEDWIDTH","AVRO","JSON","ENCRYPTED","BZIP2","GZIP","LZOP","PARQUET","ORC","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","NULL AS","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","MANIFEST","REGION","IAM_ROLE","MASTER_SYMMETRIC_KEY","SSH","ACCEPTANYDATE","ACCEPTINVCHARS","ACCESS_KEY_ID","SECRET_ACCESS_KEY","AVRO","BLANKSASNULL","BZIP2","COMPROWS","COMPUPDATE","CREDENTIALS","DATEFORMAT","DELIMITER","EMPTYASNULL","ENCODING","ENCRYPTED","ESCAPE","EXPLICIT_IDS","FILLRECORD","FIXEDWIDTH","FORMAT","IAM_ROLE","GZIP","IGNOREBLANKLINES","IGNOREHEADER","JSON","LZOP","MANIFEST","MASTER_SYMMETRIC_KEY","MAXERROR","NOLOAD","NULL AS","READRATIO","REGION","REMOVEQUOTES","ROUNDEC","SSH","STATUPDATE","TIMEFORMAT","SESSION_TOKEN","TRIMBLANKS","TRUNCATECOLUMNS","EXTERNAL","DATA CATALOG","HIVE METASTORE","CATALOG_ROLE"],m=[],E=["AND","ELSE","OR","OUTER APPLY","WHEN","VACUUM","COPY","UNLOAD","ANALYZE","ANALYSE","DISTKEY","SORTKEY","COMPOUND","INTERLEAVED","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:['""',"''","``"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@","#","$"],lineCommentTypes:["--"],operators:["|/","||/","<<",">>","!=","||"]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},977:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(537)),o=n(688),a=u(n(538)),s=u(n(586));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var m=["ALL","ALTER","ANALYSE","ANALYZE","ARRAY_ZIP","ARRAY","AS","ASC","AVG","BETWEEN","CASCADE","CASE","CAST","COALESCE","COLLECT_LIST","COLLECT_SET","COLUMN","COLUMNS","COMMENT","CONSTRAINT","CONTAINS","CONVERT","COUNT","CUME_DIST","CURRENT ROW","CURRENT_DATE","CURRENT_TIMESTAMP","DATABASE","DATABASES","DATE_ADD","DATE_SUB","DATE_TRUNC","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DAY","DAYS","DECODE","DEFAULT","DELETE","DENSE_RANK","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DROP","ELSE","ENCODE","END","EXISTS","EXPLAIN","EXPLODE_OUTER","EXPLODE","FILTER","FIRST_VALUE","FIRST","FIXED","FLATTEN","FOLLOWING","FROM_UNIXTIME","FULL","GREATEST","GROUP_CONCAT","HOUR_MINUTE","HOUR_SECOND","HOUR","HOURS","IF","IFNULL","IN","INSERT","INTERVAL","INTO","IS","LAG","LAST_VALUE","LAST","LEAD","LEADING","LEAST","LEVEL","LIKE","MAX","MERGE","MIN","MINUTE_SECOND","MINUTE","MONTH","NATURAL","NOT","NOW()","NTILE","NULL","NULLIF","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPTIMIZE","OVER","PERCENT_RANK","PRECEDING","RANGE","RANK","REGEXP","RENAME","RLIKE","ROW","ROWS","SECOND","SEPARATOR","SEQUENCE","SIZE","STRING","STRUCT","SUM","TABLE","TABLES","TEMPORARY","THEN","TO_DATE","TO_JSON","TO","TRAILING","TRANSFORM","TRUE","TRUNCATE","TYPE","TYPES","UNBOUNDED","UNIQUE","UNIX_TIMESTAMP","UNLOCK","UNSIGNED","USING","VARIABLES","VIEW","WHEN","WITH","YEAR_MONTH"],E=["ADD","AFTER","ALTER COLUMN","ALTER DATABASE","ALTER SCHEMA","ALTER TABLE","CLUSTER BY","CLUSTERED BY","DELETE FROM","DISTRIBUTE BY","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","OPTIONS","ORDER BY","PARTITION BY","PARTITIONED BY","RANGE","ROWS","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","TBLPROPERTIES","UPDATE","USING","VALUES","WHERE","WINDOW"],v=["EXCEPT ALL","EXCEPT","INTERSECT ALL","INTERSECT","UNION ALL","UNION"],g=["AND","CREATE OR","CREATE","ELSE","LATERAL VIEW","OR","OUTER APPLY","WHEN","XOR","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN","ANTI JOIN","SEMI JOIN","LEFT ANTI JOIN","LEFT SEMI JOIN","RIGHT OUTER JOIN","RIGHT SEMI JOIN","NATURAL ANTI JOIN","NATURAL FULL OUTER JOIN","NATURAL INNER JOIN","NATURAL LEFT ANTI JOIN","NATURAL LEFT OUTER JOIN","NATURAL LEFT SEMI JOIN","NATURAL OUTER JOIN","NATURAL RIGHT OUTER JOIN","NATURAL RIGHT SEMI JOIN","NATURAL SEMI JOIN"],y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,i=h(u);function u(){return c(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"tokenizer",value:function(){return new a.default({reservedWords:m,reservedTopLevelWords:E,reservedNewlineWords:g,reservedTopLevelWordsNoIndent:v,stringTypes:['""',"''","``","{}"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["$"],lineCommentTypes:["--"],operators:["!=","<=>","&&","||","=="]})}},{key:"tokenOverride",value:function(e){if((0,o.isWindow)(e)){var t=this.tokenLookAhead();if(t&&t.type===s.default.OPEN_PAREN)return{type:s.default.RESERVED,value:e.value}}if((0,o.isEnd)(e)){var n=this.tokenLookBehind();if(n&&n.type===s.default.OPERATOR&&"."===n.value)return{type:s.default.WORD,value:e.value}}return e}}])&&l(t.prototype,n),r&&l(t,r),u}(i.default);t.default=y,e.exports=t.default},978:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["ABS","ALL","ALLOCATE","ALTER","AND","ANY","ARE","ARRAY","AS","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","AVG","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BY","CALL","CALLED","CARDINALITY","CASCADED","CASE","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER","CHARACTER_LENGTH","CHECK","CLOB","CLOSE","COALESCE","COLLATE","COLLECT","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CONVERT","CORR","CORRESPONDING","COUNT","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_CATALOG","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATE","DAY","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DELETE","DENSE_RANK","DEREF","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DOUBLE","DROP","DYNAMIC","EACH","ELEMENT","ELSE","END","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXP","EXTERNAL","EXTRACT","FALSE","FETCH","FILTER","FLOAT","FLOOR","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","FUSION","GET","GLOBAL","GRANT","GROUP","GROUPING","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTERSECT","INTERSECTION","INTERVAL","INTO","IS","JOIN","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LN","LOCAL","LOCALTIME","LOCALTIMESTAMP","LOWER","MATCH","MAX","MEMBER","MERGE","METHOD","MIN","MINUTE","MOD","MODIFIES","MODULE","MONTH","MULTISET","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NO","NONE","NORMALIZE","NOT","NULL","NULLIF","NUMERIC","OCTET_LENGTH","OCCURRENCES_REGEX","OF","OLD","ON","ONLY","OPEN","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","PARAMETER","PARTITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","POSITION","POSITION_REGEX","POWER","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","RANK","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROW_NUMBER","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SMALLINT","SOME","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQRT","START","STATIC","STDDEV_POP","STDDEV_SAMP","SUBMULTISET","SUBSTRING","SUBSTRING_REGEX","SUM","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATE","TRANSLATE_REGEX","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","UPPER","USER","USING","VALUE","VALUES","VAR_POP","VAR_SAMP","VARBINARY","VARCHAR","VARYING","WHEN","WHENEVER","WHERE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],p=["ADD","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","FETCH FIRST","FETCH NEXT","FETCH PRIOR","FETCH LAST","FETCH ABSOLUTE","FETCH RELATIVE","FROM","GROUP BY","HAVING","INSERT INTO","LIMIT","ORDER BY","SELECT","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],m=["INTERSECT","INTERSECT ALL","INTERSECT DISTINCT","UNION","UNION ALL","UNION DISTINCT","EXCEPT","EXCEPT ALL","EXCEPT DISTINCT"],E=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN","NATURAL JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:['""',"''"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[],lineCommentTypes:["--"]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},979:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(537)),o=a(n(538));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=["ADD","EXTERNAL","PROCEDURE","ALL","FETCH","PUBLIC","ALTER","FILE","RAISERROR","AND","FILLFACTOR","READ","ANY","FOR","READTEXT","AS","FOREIGN","RECONFIGURE","ASC","FREETEXT","REFERENCES","AUTHORIZATION","FREETEXTTABLE","REPLICATION","BACKUP","FROM","RESTORE","BEGIN","FULL","RESTRICT","BETWEEN","FUNCTION","RETURN","BREAK","GOTO","REVERT","BROWSE","GRANT","REVOKE","BULK","GROUP","RIGHT","BY","HAVING","ROLLBACK","CASCADE","HOLDLOCK","ROWCOUNT","CASE","IDENTITY","ROWGUIDCOL","CHECK","IDENTITY_INSERT","RULE","CHECKPOINT","IDENTITYCOL","SAVE","CLOSE","IF","SCHEMA","CLUSTERED","IN","SECURITYAUDIT","COALESCE","INDEX","SELECT","COLLATE","INNER","SEMANTICKEYPHRASETABLE","COLUMN","INSERT","SEMANTICSIMILARITYDETAILSTABLE","COMMIT","INTERSECT","SEMANTICSIMILARITYTABLE","COMPUTE","INTO","SESSION_USER","CONSTRAINT","IS","SET","CONTAINS","JOIN","SETUSER","CONTAINSTABLE","KEY","SHUTDOWN","CONTINUE","KILL","SOME","CONVERT","LEFT","STATISTICS","CREATE","LIKE","SYSTEM_USER","CROSS","LINENO","TABLE","CURRENT","LOAD","TABLESAMPLE","CURRENT_DATE","MERGE","TEXTSIZE","CURRENT_TIME","NATIONAL","THEN","CURRENT_TIMESTAMP","NOCHECK","TO","CURRENT_USER","NONCLUSTERED","TOP","CURSOR","NOT","TRAN","DATABASE","NULL","TRANSACTION","DBCC","NULLIF","TRIGGER","DEALLOCATE","OF","TRUNCATE","DECLARE","OFF","TRY_CONVERT","DEFAULT","OFFSETS","TSEQUAL","DELETE","ON","UNION","DENY","OPEN","UNIQUE","DESC","OPENDATASOURCE","UNPIVOT","DISK","OPENQUERY","UPDATE","DISTINCT","OPENROWSET","UPDATETEXT","DISTRIBUTED","OPENXML","USE","DOUBLE","OPTION","USER","DROP","OR","VALUES","DUMP","ORDER","VARYING","ELSE","OUTER","VIEW","END","OVER","WAITFOR","ERRLVL","PERCENT","WHEN","ESCAPE","PIVOT","WHERE","EXCEPT","PLAN","WHILE","EXEC","PRECISION","WITH","EXECUTE","PRIMARY","WITHIN GROUP","EXISTS","PRINT","WRITETEXT","EXIT","PROC"],p=["ADD","ALTER COLUMN","ALTER TABLE","CASE","DELETE FROM","END","EXCEPT","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],m=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],E=["AND","ELSE","OR","WHEN","JOIN","INNER JOIN","LEFT JOIN","LEFT OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","FULL JOIN","FULL OUTER JOIN","CROSS JOIN"],v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r,i=l(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"tokenizer",value:function(){return new o.default({reservedWords:d,reservedTopLevelWords:p,reservedNewlineWords:E,reservedTopLevelWordsNoIndent:m,stringTypes:['""',"N''","''","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:[],namedPlaceholderTypes:["@"],lineCommentTypes:["--"],specialWordChars:["#","@"],operators:[">=","<=","<>","!=","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::"]})}}])&&u(t.prototype,n),r&&u(t,r),a}(i.default);t.default=v,e.exports=t.default},980:function(e){e.exports=JSON.parse('{"docs":[{"location":"#_1","text":"! expr - Logical not. Examples: > SELECT ! true; false > SELECT ! false; true > SELECT ! NULL; NULL Since: 1.0.0","title":"!"},{"location":"#_2","text":"expr1 != expr2 - Returns true if expr1 is not equal to expr2 , or false otherwise. Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be used in equality comparison. Map type is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 1 != 2; true > SELECT 1 != \'2\'; true > SELECT true != NULL; NULL > SELECT NULL != NULL; NULL Since: 1.0.0","title":"!="},{"location":"#_3","text":"expr1 % expr2 - Returns the remainder after expr1 / expr2 . Examples: > SELECT 2 % 1.8; 0.2 > SELECT MOD(2, 1.8); 0.2 Since: 1.0.0","title":"%"},{"location":"#_4","text":"expr1 & expr2 - Returns the result of bitwise AND of expr1 and expr2 . Examples: > SELECT 3 & 5; 1 Since: 1.4.0","title":"&amp;"},{"location":"#_5","text":"expr1 * expr2 - Returns expr1 * expr2 . Examples: > SELECT 2 * 3; 6 Since: 1.0.0","title":"*"},{"location":"#_6","text":"expr1 + expr2 - Returns expr1 + expr2 . Examples: > SELECT 1 + 2; 3 Since: 1.0.0","title":"+"},{"location":"#-","text":"expr1 - expr2 - Returns expr1 - expr2 . Examples: > SELECT 2 - 1; 1 Since: 1.0.0","title":"-"},{"location":"#_7","text":"expr1 / expr2 - Returns expr1 / expr2 . It always performs floating point division. Examples: > SELECT 3 / 2; 1.5 > SELECT 2L / 2L; 1.0 Since: 1.0.0","title":"/"},{"location":"#_8","text":"expr1 < expr2 - Returns true if expr1 is less than expr2 . Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be ordered. For example, map type is not orderable, so it is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 1 < 2; true > SELECT 1.1 < \'1\'; false > SELECT to_date(\'2009-07-30 04:17:52\') < to_date(\'2009-07-30 04:17:52\'); false > SELECT to_date(\'2009-07-30 04:17:52\') < to_date(\'2009-08-01 04:17:52\'); true > SELECT 1 < NULL; NULL Since: 1.0.0","title":"&lt;"},{"location":"#_9","text":"expr1 <= expr2 - Returns true if expr1 is less than or equal to expr2 . Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be ordered. For example, map type is not orderable, so it is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 2 <= 2; true > SELECT 1.0 <= \'1\'; true > SELECT to_date(\'2009-07-30 04:17:52\') <= to_date(\'2009-07-30 04:17:52\'); true > SELECT to_date(\'2009-07-30 04:17:52\') <= to_date(\'2009-08-01 04:17:52\'); true > SELECT 1 <= NULL; NULL Since: 1.0.0","title":"&lt;="},{"location":"#_10","text":"expr1 <=> expr2 - Returns same result as the EQUAL(=) operator for non-null operands, but returns true if both are null, false if one of the them is null. Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be used in equality comparison. Map type is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 2 <=> 2; true > SELECT 1 <=> \'1\'; true > SELECT true <=> NULL; false > SELECT NULL <=> NULL; true Since: 1.1.0","title":"&lt;=&gt;"},{"location":"#_11","text":"expr1 != expr2 - Returns true if expr1 is not equal to expr2 , or false otherwise. Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be used in equality comparison. Map type is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 1 != 2; true > SELECT 1 != \'2\'; true > SELECT true != NULL; NULL > SELECT NULL != NULL; NULL Since: 1.0.0","title":"&lt;&gt;"},{"location":"#_12","text":"expr1 = expr2 - Returns true if expr1 equals expr2 , or false otherwise. Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be used in equality comparison. Map type is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 2 = 2; true > SELECT 1 = \'1\'; true > SELECT true = NULL; NULL > SELECT NULL = NULL; NULL Since: 1.0.0","title":"="},{"location":"#_13","text":"expr1 == expr2 - Returns true if expr1 equals expr2 , or false otherwise. Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be used in equality comparison. Map type is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 2 == 2; true > SELECT 1 == \'1\'; true > SELECT true == NULL; NULL > SELECT NULL == NULL; NULL Since: 1.0.0","title":"=="},{"location":"#_14","text":"expr1 > expr2 - Returns true if expr1 is greater than expr2 . Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be ordered. For example, map type is not orderable, so it is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 2 > 1; true > SELECT 2 > \'1.1\'; true > SELECT to_date(\'2009-07-30 04:17:52\') > to_date(\'2009-07-30 04:17:52\'); false > SELECT to_date(\'2009-07-30 04:17:52\') > to_date(\'2009-08-01 04:17:52\'); false > SELECT 1 > NULL; NULL Since: 1.0.0","title":"&gt;"},{"location":"#_15","text":"expr1 >= expr2 - Returns true if expr1 is greater than or equal to expr2 . Arguments: expr1, expr2 - the two expressions must be same type or can be casted to a common type, and must be a type that can be ordered. For example, map type is not orderable, so it is not supported. For complex types such array/struct, the data types of fields must be orderable. Examples: > SELECT 2 >= 1; true > SELECT 2.0 >= \'2.1\'; false > SELECT to_date(\'2009-07-30 04:17:52\') >= to_date(\'2009-07-30 04:17:52\'); true > SELECT to_date(\'2009-07-30 04:17:52\') >= to_date(\'2009-08-01 04:17:52\'); false > SELECT 1 >= NULL; NULL Since: 1.0.0","title":"&gt;="},{"location":"#_16","text":"expr1 ^ expr2 - Returns the result of bitwise exclusive OR of expr1 and expr2 . Examples: > SELECT 3 ^ 5; 6 Since: 1.4.0","title":"^"},{"location":"#abs","text":"abs(expr) - Returns the absolute value of the numeric value. Examples: > SELECT abs(-1); 1 Since: 1.2.0","title":"abs"},{"location":"#acos","text":"acos(expr) - Returns the inverse cosine (a.k.a. arc cosine) of expr , as if computed by java.lang.Math.acos . Examples: > SELECT acos(1); 0.0 > SELECT acos(2); NaN Since: 1.4.0","title":"acos"},{"location":"#acosh","text":"acosh(expr) - Returns inverse hyperbolic cosine of expr . Examples: > SELECT acosh(1); 0.0 > SELECT acosh(0); NaN Since: 3.0.0","title":"acosh"},{"location":"#add_months","text":"add_months(start_date, num_months) - Returns the date that is num_months after start_date . Examples: > SELECT add_months(\'2016-08-31\', 1); 2016-09-30 Since: 1.5.0","title":"add_months"},{"location":"#aggregate","text":"aggregate(expr, start, merge, finish) - Applies a binary operator to an initial state and all elements in the array, and reduces this to a single state. The final state is converted into the final result by applying a finish function. Examples: > SELECT aggregate(array(1, 2, 3), 0, (acc, x) -> acc + x); 6 > SELECT aggregate(array(1, 2, 3), 0, (acc, x) -> acc + x, acc -> acc * 10); 60 Since: 2.4.0","title":"aggregate"},{"location":"#and","text":"expr1 and expr2 - Logical AND. Examples: > SELECT true and true; true > SELECT true and false; false > SELECT true and NULL; NULL > SELECT false and NULL; false Since: 1.0.0","title":"and"},{"location":"#any","text":"any(expr) - Returns true if at least one value of expr is true. Examples: > SELECT any(col) FROM VALUES (true), (false), (false) AS tab(col); true > SELECT any(col) FROM VALUES (NULL), (true), (false) AS tab(col); true > SELECT any(col) FROM VALUES (false), (false), (NULL) AS tab(col); false Since: 3.0.0","title":"any"},{"location":"#approx_count_distinct","text":"approx_count_distinct(expr[, relativeSD]) - Returns the estimated cardinality by HyperLogLog++. relativeSD defines the maximum relative standard deviation allowed. Examples: > SELECT approx_count_distinct(col1) FROM VALUES (1), (1), (2), (2), (3) tab(col1); 3 Since: 1.6.0","title":"approx_count_distinct"},{"location":"#approx_percentile","text":"approx_percentile(col, percentage [, accuracy]) - Returns the approximate percentile of the numeric column col which is the smallest value in the ordered col values (sorted from least to greatest) such that no more than percentage of col values is less than the value or equal to that value. The value of percentage must be between 0.0 and 1.0. The accuracy parameter (default: 10000) is a positive numeric literal which controls approximation accuracy at the cost of memory. Higher value of accuracy yields better accuracy, 1.0/accuracy is the relative error of the approximation. When percentage is an array, each value of the percentage array must be between 0.0 and 1.0. In this case, returns the approximate percentile array of column col at the given percentage array. Examples: > SELECT approx_percentile(col, array(0.5, 0.4, 0.1), 100) FROM VALUES (0), (1), (2), (10) AS tab(col); [1,1,0] > SELECT approx_percentile(col, 0.5, 100) FROM VALUES (0), (6), (7), (9), (10) AS tab(col); 7 Since: 2.1.0","title":"approx_percentile"},{"location":"#array","text":"array(expr, ...) - Returns an array with the given elements. Examples: > SELECT array(1, 2, 3); [1,2,3] Since: 1.1.0","title":"array"},{"location":"#array_contains","text":"array_contains(array, value) - Returns true if the array contains the value. Examples: > SELECT array_contains(array(1, 2, 3), 2); true Since: 1.5.0","title":"array_contains"},{"location":"#array_distinct","text":"array_distinct(array) - Removes duplicate values from the array. Examples: > SELECT array_distinct(array(1, 2, 3, null, 3)); [1,2,3,null] Since: 2.4.0","title":"array_distinct"},{"location":"#array_except","text":"array_except(array1, array2) - Returns an array of the elements in array1 but not in array2, without duplicates. Examples: > SELECT array_except(array(1, 2, 3), array(1, 3, 5)); [2] Since: 2.4.0","title":"array_except"},{"location":"#array_intersect","text":"array_intersect(array1, array2) - Returns an array of the elements in the intersection of array1 and array2, without duplicates. Examples: > SELECT array_intersect(array(1, 2, 3), array(1, 3, 5)); [1,3] Since: 2.4.0","title":"array_intersect"},{"location":"#array_join","text":"array_join(array, delimiter[, nullReplacement]) - Concatenates the elements of the given array using the delimiter and an optional string to replace nulls. If no value is set for nullReplacement, any null value is filtered. Examples: > SELECT array_join(array(\'hello\', \'world\'), \' \'); hello world > SELECT array_join(array(\'hello\', null ,\'world\'), \' \'); hello world > SELECT array_join(array(\'hello\', null ,\'world\'), \' \', \',\'); hello , world Since: 2.4.0","title":"array_join"},{"location":"#array_max","text":"array_max(array) - Returns the maximum value in the array. NaN is greater than any non-NaN elements for double/float type. NULL elements are skipped. Examples: > SELECT array_max(array(1, 20, null, 3)); 20 Since: 2.4.0","title":"array_max"},{"location":"#array_min","text":"array_min(array) - Returns the minimum value in the array. NaN is greater than any non-NaN elements for double/float type. NULL elements are skipped. Examples: > SELECT array_min(array(1, 20, null, 3)); 1 Since: 2.4.0","title":"array_min"},{"location":"#array_position","text":"array_position(array, element) - Returns the (1-based) index of the first element of the array as long. Examples: > SELECT array_position(array(3, 2, 1), 1); 3 Since: 2.4.0","title":"array_position"},{"location":"#array_remove","text":"array_remove(array, element) - Remove all elements that equal to element from array. Examples: > SELECT array_remove(array(1, 2, 3, null, 3), 3); [1,2,null] Since: 2.4.0","title":"array_remove"},{"location":"#array_repeat","text":"array_repeat(element, count) - Returns the array containing element count times. Examples: > SELECT array_repeat(\'123\', 2); [\\"123\\",\\"123\\"] Since: 2.4.0","title":"array_repeat"},{"location":"#array_sort","text":"array_sort(expr, func) - Sorts the input array. If func is omitted, sort in ascending order. The elements of the input array must be orderable. NaN is greater than any non-NaN elements for double/float type. Null elements will be placed at the end of the returned array. Since 3.0.0 this function also sorts and returns the array based on the given comparator function. The comparator will take two arguments representing two elements of the array. It returns -1, 0, or 1 as the first element is less than, equal to, or greater than the second element. If the comparator function returns other values (including null), the function will fail and raise an error. Examples: > SELECT array_sort(array(5, 6, 1), (left, right) -> case when left < right then -1 when left > right then 1 else 0 end); [1,5,6] > SELECT array_sort(array(\'bc\', \'ab\', \'dc\'), (left, right) -> case when left is null and right is null then 0 when left is null then -1 when right is null then 1 when left < right then 1 when left > right then -1 else 0 end); [\\"dc\\",\\"bc\\",\\"ab\\"] > SELECT array_sort(array(\'b\', \'d\', null, \'c\', \'a\')); [\\"a\\",\\"b\\",\\"c\\",\\"d\\",null] Since: 2.4.0","title":"array_sort"},{"location":"#array_union","text":"array_union(array1, array2) - Returns an array of the elements in the union of array1 and array2, without duplicates. Examples: > SELECT array_union(array(1, 2, 3), array(1, 3, 5)); [1,2,3,5] Since: 2.4.0","title":"array_union"},{"location":"#arrays_overlap","text":"arrays_overlap(a1, a2) - Returns true if a1 contains at least a non-null element present also in a2. If the arrays have no common element and they are both non-empty and either of them contains a null element null is returned, false otherwise. Examples: > SELECT arrays_overlap(array(1, 2, 3), array(3, 4, 5)); true Since: 2.4.0","title":"arrays_overlap"},{"location":"#arrays_zip","text":"arrays_zip(a1, a2, ...) - Returns a merged array of structs in which the N-th struct contains all N-th values of input arrays. Examples: > SELECT arrays_zip(array(1, 2, 3), array(2, 3, 4)); [{\\"0\\":1,\\"1\\":2},{\\"0\\":2,\\"1\\":3},{\\"0\\":3,\\"1\\":4}] > SELECT arrays_zip(array(1, 2), array(2, 3), array(3, 4)); [{\\"0\\":1,\\"1\\":2,\\"2\\":3},{\\"0\\":2,\\"1\\":3,\\"2\\":4}] Since: 2.4.0","title":"arrays_zip"},{"location":"#ascii","text":"ascii(str) - Returns the numeric value of the first character of str . Examples: > SELECT ascii(\'222\'); 50 > SELECT ascii(2); 50 Since: 1.5.0","title":"ascii"},{"location":"#asin","text":"asin(expr) - Returns the inverse sine (a.k.a. arc sine) the arc sin of expr , as if computed by java.lang.Math.asin . Examples: > SELECT asin(0); 0.0 > SELECT asin(2); NaN Since: 1.4.0","title":"asin"},{"location":"#asinh","text":"asinh(expr) - Returns inverse hyperbolic sine of expr . Examples: > SELECT asinh(0); 0.0 Since: 3.0.0","title":"asinh"},{"location":"#assert_true","text":"assert_true(expr) - Throws an exception if expr is not true. Examples: > SELECT assert_true(0 < 1); NULL Since: 2.0.0","title":"assert_true"},{"location":"#atan","text":"atan(expr) - Returns the inverse tangent (a.k.a. arc tangent) of expr , as if computed by java.lang.Math.atan Examples: > SELECT atan(0); 0.0 Since: 1.4.0","title":"atan"},{"location":"#atan2","text":"atan2(exprY, exprX) - Returns the angle in radians between the positive x-axis of a plane and the point given by the coordinates ( exprX , exprY ), as if computed by java.lang.Math.atan2 . Arguments: exprY - coordinate on y-axis exprX - coordinate on x-axis Examples: > SELECT atan2(0, 0); 0.0 Since: 1.4.0","title":"atan2"},{"location":"#atanh","text":"atanh(expr) - Returns inverse hyperbolic tangent of expr . Examples: > SELECT atanh(0); 0.0 > SELECT atanh(2); NaN Since: 3.0.0","title":"atanh"},{"location":"#avg","text":"avg(expr) - Returns the mean calculated from values of a group. Examples: > SELECT avg(col) FROM VALUES (1), (2), (3) AS tab(col); 2.0 > SELECT avg(col) FROM VALUES (1), (2), (NULL) AS tab(col); 1.5 Since: 1.0.0","title":"avg"},{"location":"#base64","text":"base64(bin) - Converts the argument from a binary bin to a base 64 string. Examples: > SELECT base64(\'Spark SQL\'); U3BhcmsgU1FM Since: 1.5.0","title":"base64"},{"location":"#between","text":"expr1 [NOT] BETWEEN expr2 AND expr3 - evaluate if expr1 is [not] in between expr2 and expr3 . Examples: > SELECT col1 FROM VALUES 1, 3, 5, 7 WHERE col1 BETWEEN 2 AND 5; 3 5 Since: 1.0.0","title":"between"},{"location":"#bigint","text":"bigint(expr) - Casts the value expr to the target data type bigint . Since: 2.0.1","title":"bigint"},{"location":"#bin","text":"bin(expr) - Returns the string representation of the long value expr represented in binary. Examples: > SELECT bin(13); 1101 > SELECT bin(-13); 1111111111111111111111111111111111111111111111111111111111110011 > SELECT bin(13.3); 1101 Since: 1.5.0","title":"bin"},{"location":"#binary","text":"binary(expr) - Casts the value expr to the target data type binary . Since: 2.0.1","title":"binary"},{"location":"#bit_and","text":"bit_and(expr) - Returns the bitwise AND of all non-null input values, or null if none. Examples: > SELECT bit_and(col) FROM VALUES (3), (5) AS tab(col); 1 Since: 3.0.0","title":"bit_and"},{"location":"#bit_count","text":"bit_count(expr) - Returns the number of bits that are set in the argument expr as an unsigned 64-bit integer, or NULL if the argument is NULL. Examples: > SELECT bit_count(0); 0 Since: 3.0.0","title":"bit_count"},{"location":"#bit_get","text":"bit_get(expr, pos) - Returns the value of the bit (0 or 1) at the specified position. The positions are numbered from right to left, starting at zero. The position argument cannot be negative. Examples: > SELECT bit_get(11, 0); 1 > SELECT bit_get(11, 2); 0 Since: 3.2.0","title":"bit_get"},{"location":"#bit_length","text":"bit_length(expr) - Returns the bit length of string data or number of bits of binary data. Examples: > SELECT bit_length(\'Spark SQL\'); 72 Since: 2.3.0","title":"bit_length"},{"location":"#bit_or","text":"bit_or(expr) - Returns the bitwise OR of all non-null input values, or null if none. Examples: > SELECT bit_or(col) FROM VALUES (3), (5) AS tab(col); 7 Since: 3.0.0","title":"bit_or"},{"location":"#bit_xor","text":"bit_xor(expr) - Returns the bitwise XOR of all non-null input values, or null if none. Examples: > SELECT bit_xor(col) FROM VALUES (3), (5) AS tab(col); 6 Since: 3.0.0","title":"bit_xor"},{"location":"#bool_and","text":"bool_and(expr) - Returns true if all values of expr are true. Examples: > SELECT bool_and(col) FROM VALUES (true), (true), (true) AS tab(col); true > SELECT bool_and(col) FROM VALUES (NULL), (true), (true) AS tab(col); true > SELECT bool_and(col) FROM VALUES (true), (false), (true) AS tab(col); false Since: 3.0.0","title":"bool_and"},{"location":"#bool_or","text":"bool_or(expr) - Returns true if at least one value of expr is true. Examples: > SELECT bool_or(col) FROM VALUES (true), (false), (false) AS tab(col); true > SELECT bool_or(col) FROM VALUES (NULL), (true), (false) AS tab(col); true > SELECT bool_or(col) FROM VALUES (false), (false), (NULL) AS tab(col); false Since: 3.0.0","title":"bool_or"},{"location":"#boolean","text":"boolean(expr) - Casts the value expr to the target data type boolean . Since: 2.0.1","title":"boolean"},{"location":"#bround","text":"bround(expr, d) - Returns expr rounded to d decimal places using HALF_EVEN rounding mode. Examples: > SELECT bround(2.5, 0); 2 Since: 2.0.0","title":"bround"},{"location":"#btrim","text":"btrim(str) - Removes the leading and trailing space characters from str . btrim(str, trimStr) - Remove the leading and trailing trimStr characters from str . Arguments: str - a string expression trimStr - the trim string characters to trim, the default value is a single space Examples: > SELECT btrim(\' SparkSQL \'); SparkSQL > SELECT btrim(encode(\' SparkSQL \', \'utf-8\')); SparkSQL > SELECT btrim(\'SSparkSQLS\', \'SL\'); parkSQ > SELECT btrim(encode(\'SSparkSQLS\', \'utf-8\'), encode(\'SL\', \'utf-8\')); parkSQ Since: 3.2.0","title":"btrim"},{"location":"#cardinality","text":"cardinality(expr) - Returns the size of an array or a map. The function returns null for null input if spark.sql.legacy.sizeOfNull is set to false or spark.sql.ansi.enabled is set to true. Otherwise, the function returns -1 for null input. With the default settings, the function returns -1 for null input. Examples: > SELECT cardinality(array(\'b\', \'d\', \'c\', \'a\')); 4 > SELECT cardinality(map(\'a\', 1, \'b\', 2)); 2 > SELECT cardinality(NULL); -1 Since: 1.5.0","title":"cardinality"},{"location":"#case","text":"CASE expr1 WHEN expr2 THEN expr3 [WHEN expr4 THEN expr5]* [ELSE expr6] END - When expr1 = expr2 , returns expr3 ; when expr1 = expr4 , return expr5 ; else return expr6 . Arguments: expr1 - the expression which is one operand of comparison. expr2, expr4 - the expressions each of which is the other operand of comparison. expr3, expr5, expr6 - the branch value expressions and else value expression should all be same type or coercible to a common type. Examples: > SELECT CASE col1 WHEN 1 THEN \'one\' WHEN 2 THEN \'two\' ELSE \'?\' END FROM VALUES 1, 2, 3; one two ? > SELECT CASE col1 WHEN 1 THEN \'one\' WHEN 2 THEN \'two\' END FROM VALUES 1, 2, 3; one two NULL Since: 1.0.1","title":"case"},{"location":"#cast","text":"cast(expr AS type) - Casts the value expr to the target data type type . Examples: > SELECT cast(\'10\' as int); 10 Since: 1.0.0","title":"cast"},{"location":"#cbrt","text":"cbrt(expr) - Returns the cube root of expr . Examples: > SELECT cbrt(27.0); 3.0 Since: 1.4.0","title":"cbrt"},{"location":"#ceil","text":"ceil(expr) - Returns the smallest integer not smaller than expr . Examples: > SELECT ceil(-0.1); 0 > SELECT ceil(5); 5 Since: 1.4.0","title":"ceil"},{"location":"#ceiling","text":"ceiling(expr) - Returns the smallest integer not smaller than expr . Examples: > SELECT ceiling(-0.1); 0 > SELECT ceiling(5); 5 Since: 1.4.0","title":"ceiling"},{"location":"#char","text":"char(expr) - Returns the ASCII character having the binary equivalent to expr . If n is larger than 256 the result is equivalent to chr(n % 256) Examples: > SELECT char(65); A Since: 2.3.0","title":"char"},{"location":"#char_length","text":"char_length(expr) - Returns the character length of string data or number of bytes of binary data. The length of string data includes the trailing spaces. The length of binary data includes binary zeros. Examples: > SELECT char_length(\'Spark SQL \'); 10 > SELECT CHAR_LENGTH(\'Spark SQL \'); 10 > SELECT CHARACTER_LENGTH(\'Spark SQL \'); 10 Since: 1.5.0","title":"char_length"},{"location":"#character_length","text":"character_length(expr) - Returns the character length of string data or number of bytes of binary data. The length of string data includes the trailing spaces. The length of binary data includes binary zeros. Examples: > SELECT character_length(\'Spark SQL \'); 10 > SELECT CHAR_LENGTH(\'Spark SQL \'); 10 > SELECT CHARACTER_LENGTH(\'Spark SQL \'); 10 Since: 1.5.0","title":"character_length"},{"location":"#chr","text":"chr(expr) - Returns the ASCII character having the binary equivalent to expr . If n is larger than 256 the result is equivalent to chr(n % 256) Examples: > SELECT chr(65); A Since: 2.3.0","title":"chr"},{"location":"#coalesce","text":"coalesce(expr1, expr2, ...) - Returns the first non-null argument if exists. Otherwise, null. Examples: > SELECT coalesce(NULL, 1, NULL); 1 Since: 1.0.0","title":"coalesce"},{"location":"#collect_list","text":"collect_list(expr) - Collects and returns a list of non-unique elements. Examples: > SELECT collect_list(col) FROM VALUES (1), (2), (1) AS tab(col); [1,2,1] Note: The function is non-deterministic because the order of collected results depends on the order of the rows which may be non-deterministic after a shuffle. Since: 2.0.0","title":"collect_list"},{"location":"#collect_set","text":"collect_set(expr) - Collects and returns a set of unique elements. Examples: > SELECT collect_set(col) FROM VALUES (1), (2), (1) AS tab(col); [1,2] Note: The function is non-deterministic because the order of collected results depends on the order of the rows which may be non-deterministic after a shuffle. Since: 2.0.0","title":"collect_set"},{"location":"#concat","text":"concat(col1, col2, ..., colN) - Returns the concatenation of col1, col2, ..., colN. Examples: > SELECT concat(\'Spark\', \'SQL\'); SparkSQL > SELECT concat(array(1, 2, 3), array(4, 5), array(6)); [1,2,3,4,5,6] Note: Concat logic for arrays is available since 2.4.0. Since: 1.5.0","title":"concat"},{"location":"#concat_ws","text":"concat_ws(sep[, str | array(str)]+) - Returns the concatenation of the strings separated by sep . Examples: > SELECT concat_ws(\' \', \'Spark\', \'SQL\'); Spark SQL > SELECT concat_ws(\'s\'); Since: 1.5.0","title":"concat_ws"},{"location":"#conv","text":"conv(num, from_base, to_base) - Convert num from from_base to to_base . Examples: > SELECT conv(\'100\', 2, 10); 4 > SELECT conv(-10, 16, -10); -16 Since: 1.5.0","title":"conv"},{"location":"#corr","text":"corr(expr1, expr2) - Returns Pearson coefficient of correlation between a set of number pairs. Examples: > SELECT corr(c1, c2) FROM VALUES (3, 2), (3, 3), (6, 4) as tab(c1, c2); 0.8660254037844387 Since: 1.6.0","title":"corr"},{"location":"#cos","text":"cos(expr) - Returns the cosine of expr , as if computed by java.lang.Math.cos . Arguments: expr - angle in radians Examples: > SELECT cos(0); 1.0 Since: 1.4.0","title":"cos"},{"location":"#cosh","text":"cosh(expr) - Returns the hyperbolic cosine of expr , as if computed by java.lang.Math.cosh . Arguments: expr - hyperbolic angle Examples: > SELECT cosh(0); 1.0 Since: 1.4.0","title":"cosh"},{"location":"#cot","text":"cot(expr) - Returns the cotangent of expr , as if computed by 1/java.lang.Math.tan . Arguments: expr - angle in radians Examples: > SELECT cot(1); 0.6420926159343306 Since: 2.3.0","title":"cot"},{"location":"#count","text":"count(*) - Returns the total number of retrieved rows, including rows containing null. count(expr[, expr...]) - Returns the number of rows for which the supplied expression(s) are all non-null. count(DISTINCT expr[, expr...]) - Returns the number of rows for which the supplied expression(s) are unique and non-null. Examples: > SELECT count(*) FROM VALUES (NULL), (5), (5), (20) AS tab(col); 4 > SELECT count(col) FROM VALUES (NULL), (5), (5), (20) AS tab(col); 3 > SELECT count(DISTINCT col) FROM VALUES (NULL), (5), (5), (10) AS tab(col); 2 Since: 1.0.0","title":"count"},{"location":"#count_if","text":"count_if(expr) - Returns the number of TRUE values for the expression. Examples: > SELECT count_if(col % 2 = 0) FROM VALUES (NULL), (0), (1), (2), (3) AS tab(col); 2 > SELECT count_if(col IS NULL) FROM VALUES (NULL), (0), (1), (2), (3) AS tab(col); 1 Since: 3.0.0","title":"count_if"},{"location":"#count_min_sketch","text":"count_min_sketch(col, eps, confidence, seed) - Returns a count-min sketch of a column with the given esp, confidence and seed. The result is an array of bytes, which can be deserialized to a CountMinSketch before usage. Count-min sketch is a probabilistic data structure used for cardinality estimation using sub-linear space. Examples: > SELECT hex(count_min_sketch(col, 0.5d, 0.5d, 1)) FROM VALUES (1), (2), (1) AS tab(col); 0000000100000000000000030000000100000004000000005D8D6AB90000000000000000000000000000000200000000000000010000000000000000 Since: 2.2.0","title":"count_min_sketch"},{"location":"#covar_pop","text":"covar_pop(expr1, expr2) - Returns the population covariance of a set of number pairs. Examples: > SELECT covar_pop(c1, c2) FROM VALUES (1,1), (2,2), (3,3) AS tab(c1, c2); 0.6666666666666666 Since: 2.0.0","title":"covar_pop"},{"location":"#covar_samp","text":"covar_samp(expr1, expr2) - Returns the sample covariance of a set of number pairs. Examples: > SELECT covar_samp(c1, c2) FROM VALUES (1,1), (2,2), (3,3) AS tab(c1, c2); 1.0 Since: 2.0.0","title":"covar_samp"},{"location":"#crc32","text":"crc32(expr) - Returns a cyclic redundancy check value of the expr as a bigint. Examples: > SELECT crc32(\'Spark\'); 1557323817 Since: 1.5.0","title":"crc32"},{"location":"#cume_dist","text":"cume_dist() - Computes the position of a value relative to all values in the partition. Examples: > SELECT a, b, cume_dist() OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 0.6666666666666666 A1 1 0.6666666666666666 A1 2 1.0 A2 3 1.0 Since: 2.0.0","title":"cume_dist"},{"location":"#current_catalog","text":"current_catalog() - Returns the current catalog. Examples: > SELECT current_catalog(); spark_catalog Since: 3.1.0","title":"current_catalog"},{"location":"#current_database","text":"current_database() - Returns the current database. Examples: > SELECT current_database(); default Since: 1.6.0","title":"current_database"},{"location":"#current_date","text":"current_date() - Returns the current date at the start of query evaluation. All calls of current_date within the same query return the same value. current_date - Returns the current date at the start of query evaluation. Examples: > SELECT current_date(); 2020-04-25 > SELECT current_date; 2020-04-25 Note: The syntax without braces has been supported since 2.0.1. Since: 1.5.0","title":"current_date"},{"location":"#current_timestamp","text":"current_timestamp() - Returns the current timestamp at the start of query evaluation. All calls of current_timestamp within the same query return the same value. current_timestamp - Returns the current timestamp at the start of query evaluation. Examples: > SELECT current_timestamp(); 2020-04-25 15:49:11.914 > SELECT current_timestamp; 2020-04-25 15:49:11.914 Note: The syntax without braces has been supported since 2.0.1. Since: 1.5.0","title":"current_timestamp"},{"location":"#current_timezone","text":"current_timezone() - Returns the current session local timezone. Examples: > SELECT current_timezone(); Asia/Shanghai Since: 3.1.0","title":"current_timezone"},{"location":"#current_user","text":"current_user() - user name of current execution context. Examples: > SELECT current_user(); mockingjay Since: 3.2.0","title":"current_user"},{"location":"#date","text":"date(expr) - Casts the value expr to the target data type date . Since: 2.0.1","title":"date"},{"location":"#date_add","text":"date_add(start_date, num_days) - Returns the date that is num_days after start_date . Examples: > SELECT date_add(\'2016-07-30\', 1); 2016-07-31 Since: 1.5.0","title":"date_add"},{"location":"#date_format","text":"date_format(timestamp, fmt) - Converts timestamp to a value of string in the format specified by the date format fmt . Arguments: timestamp - A date/timestamp or string to be converted to the given format. fmt - Date/time format pattern to follow. See Datetime Patterns for valid date and time format patterns. Examples: > SELECT date_format(\'2016-04-08\', \'y\'); 2016 Since: 1.5.0","title":"date_format"},{"location":"#date_from_unix_date","text":"date_from_unix_date(days) - Create date from the number of days since 1970-01-01. Examples: > SELECT date_from_unix_date(1); 1970-01-02 Since: 3.1.0","title":"date_from_unix_date"},{"location":"#date_part","text":"date_part(field, source) - Extracts a part of the date/timestamp or interval source. Arguments: field - selects which part of the source should be extracted, and supported string values are as same as the fields of the equivalent function EXTRACT . source - a date/timestamp or interval column from where field should be extracted Examples: > SELECT date_part(\'YEAR\', TIMESTAMP \'2019-08-12 01:00:00.123456\'); 2019 > SELECT date_part(\'week\', timestamp\'2019-08-12 01:00:00.123456\'); 33 > SELECT date_part(\'doy\', DATE\'2019-08-12\'); 224 > SELECT date_part(\'SECONDS\', timestamp\'2019-10-01 00:00:01.000001\'); 1.000001 > SELECT date_part(\'days\', interval 5 days 3 hours 7 minutes); 5 > SELECT date_part(\'seconds\', interval 5 hours 30 seconds 1 milliseconds 1 microseconds); 30.001001 > SELECT date_part(\'MONTH\', INTERVAL \'2021-11\' YEAR TO MONTH); 11 > SELECT date_part(\'MINUTE\', INTERVAL \'123 23:55:59.002001\' DAY TO SECOND); 55 Note: The date_part function is equivalent to the SQL-standard function EXTRACT(field FROM source) Since: 3.0.0","title":"date_part"},{"location":"#date_sub","text":"date_sub(start_date, num_days) - Returns the date that is num_days before start_date . Examples: > SELECT date_sub(\'2016-07-30\', 1); 2016-07-29 Since: 1.5.0","title":"date_sub"},{"location":"#date_trunc","text":"date_trunc(fmt, ts) - Returns timestamp ts truncated to the unit specified by the format model fmt . Arguments: fmt - the format representing the unit to be truncated to \\"YEAR\\", \\"YYYY\\", \\"YY\\" - truncate to the first date of the year that the ts falls in, the time part will be zero out \\"QUARTER\\" - truncate to the first date of the quarter that the ts falls in, the time part will be zero out \\"MONTH\\", \\"MM\\", \\"MON\\" - truncate to the first date of the month that the ts falls in, the time part will be zero out \\"WEEK\\" - truncate to the Monday of the week that the ts falls in, the time part will be zero out \\"DAY\\", \\"DD\\" - zero out the time part \\"HOUR\\" - zero out the minute and second with fraction part \\"MINUTE\\"- zero out the second with fraction part \\"SECOND\\" - zero out the second fraction part \\"MILLISECOND\\" - zero out the microseconds \\"MICROSECOND\\" - everything remains ts - datetime value or valid timestamp string Examples: > SELECT date_trunc(\'YEAR\', \'2015-03-05T09:32:05.359\'); 2015-01-01 00:00:00 > SELECT date_trunc(\'MM\', \'2015-03-05T09:32:05.359\'); 2015-03-01 00:00:00 > SELECT date_trunc(\'DD\', \'2015-03-05T09:32:05.359\'); 2015-03-05 00:00:00 > SELECT date_trunc(\'HOUR\', \'2015-03-05T09:32:05.359\'); 2015-03-05 09:00:00 > SELECT date_trunc(\'MILLISECOND\', \'2015-03-05T09:32:05.123456\'); 2015-03-05 09:32:05.123 Since: 2.3.0","title":"date_trunc"},{"location":"#datediff","text":"datediff(endDate, startDate) - Returns the number of days from startDate to endDate . Examples: > SELECT datediff(\'2009-07-31\', \'2009-07-30\'); 1 > SELECT datediff(\'2009-07-30\', \'2009-07-31\'); -1 Since: 1.5.0","title":"datediff"},{"location":"#day","text":"day(date) - Returns the day of month of the date/timestamp. Examples: > SELECT day(\'2009-07-30\'); 30 Since: 1.5.0","title":"day"},{"location":"#dayofmonth","text":"dayofmonth(date) - Returns the day of month of the date/timestamp. Examples: > SELECT dayofmonth(\'2009-07-30\'); 30 Since: 1.5.0","title":"dayofmonth"},{"location":"#dayofweek","text":"dayofweek(date) - Returns the day of the week for date/timestamp (1 = Sunday, 2 = Monday, ..., 7 = Saturday). Examples: > SELECT dayofweek(\'2009-07-30\'); 5 Since: 2.3.0","title":"dayofweek"},{"location":"#dayofyear","text":"dayofyear(date) - Returns the day of year of the date/timestamp. Examples: > SELECT dayofyear(\'2016-04-09\'); 100 Since: 1.5.0","title":"dayofyear"},{"location":"#decimal","text":"decimal(expr) - Casts the value expr to the target data type decimal . Since: 2.0.1","title":"decimal"},{"location":"#decode","text":"decode(bin, charset) - Decodes the first argument using the second argument character set. decode(expr, search, result [, search, result ] ... [, default]) - Decode compares expr to each search value one by one. If expr is equal to a search, returns the corresponding result. If no match is found, then Oracle returns default. If default is omitted, returns null. Examples: > SELECT decode(encode(\'abc\', \'utf-8\'), \'utf-8\'); abc > SELECT decode(2, 1, \'Southlake\', 2, \'San Francisco\', 3, \'New Jersey\', 4, \'Seattle\', \'Non domestic\'); San Francisco > SELECT decode(6, 1, \'Southlake\', 2, \'San Francisco\', 3, \'New Jersey\', 4, \'Seattle\', \'Non domestic\'); Non domestic > SELECT decode(6, 1, \'Southlake\', 2, \'San Francisco\', 3, \'New Jersey\', 4, \'Seattle\'); NULL Since: 3.2.0","title":"decode"},{"location":"#degrees","text":"degrees(expr) - Converts radians to degrees. Arguments: expr - angle in radians Examples: > SELECT degrees(3.141592653589793); 180.0 Since: 1.4.0","title":"degrees"},{"location":"#dense_rank","text":"dense_rank() - Computes the rank of a value in a group of values. The result is one plus the previously assigned rank value. Unlike the function rank, dense_rank will not produce gaps in the ranking sequence. Arguments: children - this is to base the rank on; a change in the value of one the children will trigger a change in rank. This is an internal parameter and will be assigned by the Analyser. Examples: > SELECT a, b, dense_rank(b) OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 1 A1 1 1 A1 2 2 A2 3 1 Since: 2.0.0","title":"dense_rank"},{"location":"#div","text":"expr1 div expr2 - Divide expr1 by expr2 . It returns NULL if an operand is NULL or expr2 is 0. The result is casted to long. Examples: > SELECT 3 div 2; 1 Since: 3.0.0","title":"div"},{"location":"#double","text":"double(expr) - Casts the value expr to the target data type double . Since: 2.0.1","title":"double"},{"location":"#e","text":"e() - Returns Euler\'s number, e. Examples: > SELECT e(); 2.718281828459045 Since: 1.5.0","title":"e"},{"location":"#element_at","text":"element_at(array, index) - Returns element of array at given (1-based) index. If index < 0, accesses elements from the last to the first. The function returns NULL if the index exceeds the length of the array and spark.sql.ansi.enabled is set to false. If spark.sql.ansi.enabled is set to true, it throws ArrayIndexOutOfBoundsException for invalid indices. element_at(map, key) - Returns value for given key. The function returns NULL if the key is not contained in the map and spark.sql.ansi.enabled is set to false. If spark.sql.ansi.enabled is set to true, it throws NoSuchElementException instead. Examples: > SELECT element_at(array(1, 2, 3), 2); 2 > SELECT element_at(map(1, \'a\', 2, \'b\'), 2); b Since: 2.4.0","title":"element_at"},{"location":"#elt","text":"elt(n, input1, input2, ...) - Returns the n -th input, e.g., returns input2 when n is 2. The function returns NULL if the index exceeds the length of the array and spark.sql.ansi.enabled is set to false. If spark.sql.ansi.enabled is set to true, it throws ArrayIndexOutOfBoundsException for invalid indices. Examples: > SELECT elt(1, \'scala\', \'java\'); scala Since: 2.0.0","title":"elt"},{"location":"#encode","text":"encode(str, charset) - Encodes the first argument using the second argument character set. Examples: > SELECT encode(\'abc\', \'utf-8\'); abc Since: 1.5.0","title":"encode"},{"location":"#every","text":"every(expr) - Returns true if all values of expr are true. Examples: > SELECT every(col) FROM VALUES (true), (true), (true) AS tab(col); true > SELECT every(col) FROM VALUES (NULL), (true), (true) AS tab(col); true > SELECT every(col) FROM VALUES (true), (false), (true) AS tab(col); false Since: 3.0.0","title":"every"},{"location":"#exists","text":"exists(expr, pred) - Tests whether a predicate holds for one or more elements in the array. Examples: > SELECT exists(array(1, 2, 3), x -> x % 2 == 0); true > SELECT exists(array(1, 2, 3), x -> x % 2 == 10); false > SELECT exists(array(1, null, 3), x -> x % 2 == 0); NULL > SELECT exists(array(0, null, 2, 3, null), x -> x IS NULL); true > SELECT exists(array(1, 2, 3), x -> x IS NULL); false Since: 2.4.0","title":"exists"},{"location":"#exp","text":"exp(expr) - Returns e to the power of expr . Examples: > SELECT exp(0); 1.0 Since: 1.4.0","title":"exp"},{"location":"#explode","text":"explode(expr) - Separates the elements of array expr into multiple rows, or the elements of map expr into multiple rows and columns. Unless specified otherwise, uses the default column name col for elements of the array or key and value for the elements of the map. Examples: > SELECT explode(array(10, 20)); 10 20 Since: 1.0.0","title":"explode"},{"location":"#explode_outer","text":"explode_outer(expr) - Separates the elements of array expr into multiple rows, or the elements of map expr into multiple rows and columns. Unless specified otherwise, uses the default column name col for elements of the array or key and value for the elements of the map. Examples: > SELECT explode_outer(array(10, 20)); 10 20 Since: 1.0.0","title":"explode_outer"},{"location":"#expm1","text":"expm1(expr) - Returns exp( expr ) - 1. Examples: > SELECT expm1(0); 0.0 Since: 1.4.0","title":"expm1"},{"location":"#extract","text":"extract(field FROM source) - Extracts a part of the date/timestamp or interval source. Arguments: field - selects which part of the source should be extracted Supported string values of field for dates and timestamps are(case insensitive): \\"YEAR\\", (\\"Y\\", \\"YEARS\\", \\"YR\\", \\"YRS\\") - the year field \\"YEAROFWEEK\\" - the ISO 8601 week-numbering year that the datetime falls in. For example, 2005-01-02 is part of the 53rd week of year 2004, so the result is 2004 \\"QUARTER\\", (\\"QTR\\") - the quarter (1 - 4) of the year that the datetime falls in \\"MONTH\\", (\\"MON\\", \\"MONS\\", \\"MONTHS\\") - the month field (1 - 12) \\"WEEK\\", (\\"W\\", \\"WEEKS\\") - the number of the ISO 8601 week-of-week-based-year. A week is considered to start on a Monday and week 1 is the first week with >3 days. In the ISO week-numbering system, it is possible for early-January dates to be part of the 52nd or 53rd week of the previous year, and for late-December dates to be part of the first week of the next year. For example, 2005-01-02 is part of the 53rd week of year 2004, while 2012-12-31 is part of the first week of 2013 \\"DAY\\", (\\"D\\", \\"DAYS\\") - the day of the month field (1 - 31) \\"DAYOFWEEK\\",(\\"DOW\\") - the day of the week for datetime as Sunday(1) to Saturday(7) \\"DAYOFWEEK_ISO\\",(\\"DOW_ISO\\") - ISO 8601 based day of the week for datetime as Monday(1) to Sunday(7) \\"DOY\\" - the day of the year (1 - 365/366) \\"HOUR\\", (\\"H\\", \\"HOURS\\", \\"HR\\", \\"HRS\\") - The hour field (0 - 23) \\"MINUTE\\", (\\"M\\", \\"MIN\\", \\"MINS\\", \\"MINUTES\\") - the minutes field (0 - 59) \\"SECOND\\", (\\"S\\", \\"SEC\\", \\"SECONDS\\", \\"SECS\\") - the seconds field, including fractional parts Supported string values of field for interval(which consists of months , days , microseconds ) are(case insensitive): \\"YEAR\\", (\\"Y\\", \\"YEARS\\", \\"YR\\", \\"YRS\\") - the total months / 12 \\"MONTH\\", (\\"MON\\", \\"MONS\\", \\"MONTHS\\") - the total months % 12 \\"DAY\\", (\\"D\\", \\"DAYS\\") - the days part of interval \\"HOUR\\", (\\"H\\", \\"HOURS\\", \\"HR\\", \\"HRS\\") - how many hours the microseconds contains \\"MINUTE\\", (\\"M\\", \\"MIN\\", \\"MINS\\", \\"MINUTES\\") - how many minutes left after taking hours from microseconds \\"SECOND\\", (\\"S\\", \\"SEC\\", \\"SECONDS\\", \\"SECS\\") - how many second with fractions left after taking hours and minutes from microseconds source - a date/timestamp or interval column from where field should be extracted Examples: > SELECT extract(YEAR FROM TIMESTAMP \'2019-08-12 01:00:00.123456\'); 2019 > SELECT extract(week FROM timestamp\'2019-08-12 01:00:00.123456\'); 33 > SELECT extract(doy FROM DATE\'2019-08-12\'); 224 > SELECT extract(SECONDS FROM timestamp\'2019-10-01 00:00:01.000001\'); 1.000001 > SELECT extract(days FROM interval 5 days 3 hours 7 minutes); 5 > SELECT extract(seconds FROM interval 5 hours 30 seconds 1 milliseconds 1 microseconds); 30.001001 > SELECT extract(MONTH FROM INTERVAL \'2021-11\' YEAR TO MONTH); 11 > SELECT extract(MINUTE FROM INTERVAL \'123 23:55:59.002001\' DAY TO SECOND); 55 Note: The extract function is equivalent to date_part(field, source) . Since: 3.0.0","title":"extract"},{"location":"#factorial","text":"factorial(expr) - Returns the factorial of expr . expr is [0..20]. Otherwise, null. Examples: > SELECT factorial(5); 120 Since: 1.5.0","title":"factorial"},{"location":"#filter","text":"filter(expr, func) - Filters the input array using the given predicate. Examples: > SELECT filter(array(1, 2, 3), x -> x % 2 == 1); [1,3] > SELECT filter(array(0, 2, 3), (x, i) -> x > i); [2,3] > SELECT filter(array(0, null, 2, 3, null), x -> x IS NOT NULL); [0,2,3] Note: The inner function may use the index argument since 3.0.0. Since: 2.4.0","title":"filter"},{"location":"#find_in_set","text":"find_in_set(str, str_array) - Returns the index (1-based) of the given string ( str ) in the comma-delimited list ( str_array ). Returns 0, if the string was not found or if the given string ( str ) contains a comma. Examples: > SELECT find_in_set(\'ab\',\'abc,b,ab,c,def\'); 3 Since: 1.5.0","title":"find_in_set"},{"location":"#first","text":"first(expr[, isIgnoreNull]) - Returns the first value of expr for a group of rows. If isIgnoreNull is true, returns only non-null values. Examples: > SELECT first(col) FROM VALUES (10), (5), (20) AS tab(col); 10 > SELECT first(col) FROM VALUES (NULL), (5), (20) AS tab(col); NULL > SELECT first(col, true) FROM VALUES (NULL), (5), (20) AS tab(col); 5 Note: The function is non-deterministic because its results depends on the order of the rows which may be non-deterministic after a shuffle. Since: 2.0.0","title":"first"},{"location":"#first_value","text":"first_value(expr[, isIgnoreNull]) - Returns the first value of expr for a group of rows. If isIgnoreNull is true, returns only non-null values. Examples: > SELECT first_value(col) FROM VALUES (10), (5), (20) AS tab(col); 10 > SELECT first_value(col) FROM VALUES (NULL), (5), (20) AS tab(col); NULL > SELECT first_value(col, true) FROM VALUES (NULL), (5), (20) AS tab(col); 5 Note: The function is non-deterministic because its results depends on the order of the rows which may be non-deterministic after a shuffle. Since: 2.0.0","title":"first_value"},{"location":"#flatten","text":"flatten(arrayOfArrays) - Transforms an array of arrays into a single array. Examples: > SELECT flatten(array(array(1, 2), array(3, 4))); [1,2,3,4] Since: 2.4.0","title":"flatten"},{"location":"#float","text":"float(expr) - Casts the value expr to the target data type float . Since: 2.0.1","title":"float"},{"location":"#floor","text":"floor(expr) - Returns the largest integer not greater than expr . Examples: > SELECT floor(-0.1); -1 > SELECT floor(5); 5 Since: 1.4.0","title":"floor"},{"location":"#forall","text":"forall(expr, pred) - Tests whether a predicate holds for all elements in the array. Examples: > SELECT forall(array(1, 2, 3), x -> x % 2 == 0); false > SELECT forall(array(2, 4, 8), x -> x % 2 == 0); true > SELECT forall(array(1, null, 3), x -> x % 2 == 0); false > SELECT forall(array(2, null, 8), x -> x % 2 == 0); NULL Since: 3.0.0","title":"forall"},{"location":"#format_number","text":"format_number(expr1, expr2) - Formats the number expr1 like \'#,###,###.##\', rounded to expr2 decimal places. If expr2 is 0, the result has no decimal point or fractional part. expr2 also accept a user specified format. This is supposed to function like MySQL\'s FORMAT. Examples: > SELECT format_number(12332.123456, 4); 12,332.1235 > SELECT format_number(12332.123456, \'##################.###\'); 12332.123 Since: 1.5.0","title":"format_number"},{"location":"#format_string","text":"format_string(strfmt, obj, ...) - Returns a formatted string from printf-style format strings. Examples: > SELECT format_string(\\"Hello World %d %s\\", 100, \\"days\\"); Hello World 100 days Since: 1.5.0","title":"format_string"},{"location":"#from_csv","text":"from_csv(csvStr, schema[, options]) - Returns a struct value with the given csvStr and schema . Examples: > SELECT from_csv(\'1, 0.8\', \'a INT, b DOUBLE\'); {\\"a\\":1,\\"b\\":0.8} > SELECT from_csv(\'26/08/2015\', \'time Timestamp\', map(\'timestampFormat\', \'dd/MM/yyyy\')); {\\"time\\":2015-08-26 00:00:00} Since: 3.0.0","title":"from_csv"},{"location":"#from_json","text":"from_json(jsonStr, schema[, options]) - Returns a struct value with the given jsonStr and schema . Examples: > SELECT from_json(\'{\\"a\\":1, \\"b\\":0.8}\', \'a INT, b DOUBLE\'); {\\"a\\":1,\\"b\\":0.8} > SELECT from_json(\'{\\"time\\":\\"26/08/2015\\"}\', \'time Timestamp\', map(\'timestampFormat\', \'dd/MM/yyyy\')); {\\"time\\":2015-08-26 00:00:00} Since: 2.2.0","title":"from_json"},{"location":"#from_unixtime","text":"from_unixtime(unix_time[, fmt]) - Returns unix_time in the specified fmt . Arguments: unix_time - UNIX Timestamp to be converted to the provided format. fmt - Date/time format pattern to follow. See Datetime Patterns for valid date and time format patterns. The \'yyyy-MM-dd HH:mm:ss\' pattern is used if omitted. Examples: > SELECT from_unixtime(0, \'yyyy-MM-dd HH:mm:ss\'); 1969-12-31 16:00:00 > SELECT from_unixtime(0); 1969-12-31 16:00:00 Since: 1.5.0","title":"from_unixtime"},{"location":"#from_utc_timestamp","text":"from_utc_timestamp(timestamp, timezone) - Given a timestamp like \'2017-07-14 02:40:00.0\', interprets it as a time in UTC, and renders that time as a timestamp in the given time zone. For example, \'GMT+1\' would yield \'2017-07-14 03:40:00.0\'. Examples: > SELECT from_utc_timestamp(\'2016-08-31\', \'Asia/Seoul\'); 2016-08-31 09:00:00 Since: 1.5.0","title":"from_utc_timestamp"},{"location":"#get_json_object","text":"get_json_object(json_txt, path) - Extracts a json object from path . Examples: > SELECT get_json_object(\'{\\"a\\":\\"b\\"}\', \'$.a\'); b Since: 1.5.0","title":"get_json_object"},{"location":"#getbit","text":"getbit(expr, pos) - Returns the value of the bit (0 or 1) at the specified position. The positions are numbered from right to left, starting at zero. The position argument cannot be negative. Examples: > SELECT getbit(11, 0); 1 > SELECT getbit(11, 2); 0 Since: 3.2.0","title":"getbit"},{"location":"#greatest","text":"greatest(expr, ...) - Returns the greatest value of all parameters, skipping null values. Examples: > SELECT greatest(10, 9, 2, 4, 3); 10 Since: 1.5.0","title":"greatest"},{"location":"#grouping","text":"grouping(col) - indicates whether a specified column in a GROUP BY is aggregated or not, returns 1 for aggregated or 0 for not aggregated in the result set.\\", Examples: > SELECT name, grouping(name), sum(age) FROM VALUES (2, \'Alice\'), (5, \'Bob\') people(age, name) GROUP BY cube(name); Alice 0 2 Bob 0 5 NULL 1 7 Since: 2.0.0","title":"grouping"},{"location":"#grouping_id","text":"grouping_id([col1[, col2 ..]]) - returns the level of grouping, equals to (grouping(c1) << (n-1)) + (grouping(c2) << (n-2)) + ... + grouping(cn) Examples: > SELECT name, grouping_id(), sum(age), avg(height) FROM VALUES (2, \'Alice\', 165), (5, \'Bob\', 180) people(age, name, height) GROUP BY cube(name, height); Alice 0 2 165.0 Bob 0 5 180.0 Alice 1 2 165.0 NULL 3 7 172.5 Bob 1 5 180.0 NULL 2 2 165.0 NULL 2 5 180.0 Note: Input columns should match with grouping columns exactly, or empty (means all the grouping columns). Since: 2.0.0","title":"grouping_id"},{"location":"#hash","text":"hash(expr1, expr2, ...) - Returns a hash value of the arguments. Examples: > SELECT hash(\'Spark\', array(123), 2); -1321691492 Since: 2.0.0","title":"hash"},{"location":"#hex","text":"hex(expr) - Converts expr to hexadecimal. Examples: > SELECT hex(17); 11 > SELECT hex(\'Spark SQL\'); 537061726B2053514C Since: 1.5.0","title":"hex"},{"location":"#hour","text":"hour(timestamp) - Returns the hour component of the string/timestamp. Examples: > SELECT hour(\'2009-07-30 12:58:59\'); 12 Since: 1.5.0","title":"hour"},{"location":"#hypot","text":"hypot(expr1, expr2) - Returns sqrt( expr1 2 + expr2 2). Examples: > SELECT hypot(3, 4); 5.0 Since: 1.4.0","title":"hypot"},{"location":"#if","text":"if(expr1, expr2, expr3) - If expr1 evaluates to true, then returns expr2 ; otherwise returns expr3 . Examples: > SELECT if(1 < 2, \'a\', \'b\'); a Since: 1.0.0","title":"if"},{"location":"#ifnull","text":"ifnull(expr1, expr2) - Returns expr2 if expr1 is null, or expr1 otherwise. Examples: > SELECT ifnull(NULL, array(\'2\')); [\\"2\\"] Since: 2.0.0","title":"ifnull"},{"location":"#in","text":"expr1 in(expr2, expr3, ...) - Returns true if expr equals to any valN. Arguments: expr1, expr2, expr3, ... - the arguments must be same type. Examples: > SELECT 1 in(1, 2, 3); true > SELECT 1 in(2, 3, 4); false > SELECT named_struct(\'a\', 1, \'b\', 2) in(named_struct(\'a\', 1, \'b\', 1), named_struct(\'a\', 1, \'b\', 3)); false > SELECT named_struct(\'a\', 1, \'b\', 2) in(named_struct(\'a\', 1, \'b\', 2), named_struct(\'a\', 1, \'b\', 3)); true Since: 1.0.0","title":"in"},{"location":"#initcap","text":"initcap(str) - Returns str with the first letter of each word in uppercase. All other letters are in lowercase. Words are delimited by white space. Examples: > SELECT initcap(\'sPark sql\'); Spark Sql Since: 1.5.0","title":"initcap"},{"location":"#inline","text":"inline(expr) - Explodes an array of structs into a table. Uses column names col1, col2, etc. by default unless specified otherwise. Examples: > SELECT inline(array(struct(1, \'a\'), struct(2, \'b\'))); 1 a 2 b Since: 2.0.0","title":"inline"},{"location":"#inline_outer","text":"inline_outer(expr) - Explodes an array of structs into a table. Uses column names col1, col2, etc. by default unless specified otherwise. Examples: > SELECT inline_outer(array(struct(1, \'a\'), struct(2, \'b\'))); 1 a 2 b Since: 2.0.0","title":"inline_outer"},{"location":"#input_file_block_length","text":"input_file_block_length() - Returns the length of the block being read, or -1 if not available. Examples: > SELECT input_file_block_length(); -1 Since: 2.2.0","title":"input_file_block_length"},{"location":"#input_file_block_start","text":"input_file_block_start() - Returns the start offset of the block being read, or -1 if not available. Examples: > SELECT input_file_block_start(); -1 Since: 2.2.0","title":"input_file_block_start"},{"location":"#input_file_name","text":"input_file_name() - Returns the name of the file being read, or empty string if not available. Examples: > SELECT input_file_name(); Since: 1.5.0","title":"input_file_name"},{"location":"#instr","text":"instr(str, substr) - Returns the (1-based) index of the first occurrence of substr in str . Examples: > SELECT instr(\'SparkSQL\', \'SQL\'); 6 Since: 1.5.0","title":"instr"},{"location":"#int","text":"int(expr) - Casts the value expr to the target data type int . Since: 2.0.1","title":"int"},{"location":"#isnan","text":"isnan(expr) - Returns true if expr is NaN, or false otherwise. Examples: > SELECT isnan(cast(\'NaN\' as double)); true Since: 1.5.0","title":"isnan"},{"location":"#isnotnull","text":"isnotnull(expr) - Returns true if expr is not null, or false otherwise. Examples: > SELECT isnotnull(1); true Since: 1.0.0","title":"isnotnull"},{"location":"#isnull","text":"isnull(expr) - Returns true if expr is null, or false otherwise. Examples: > SELECT isnull(1); false Since: 1.0.0","title":"isnull"},{"location":"#java_method","text":"java_method(class, method[, arg1[, arg2 ..]]) - Calls a method with reflection. Examples: > SELECT java_method(\'java.util.UUID\', \'randomUUID\'); c33fb387-8500-4bfa-81d2-6e0e3e930df2 > SELECT java_method(\'java.util.UUID\', \'fromString\', \'a5cf6c42-0c85-418f-af6c-3e4e5b1328f2\'); a5cf6c42-0c85-418f-af6c-3e4e5b1328f2 Since: 2.0.0","title":"java_method"},{"location":"#json_array_length","text":"json_array_length(jsonArray) - Returns the number of elements in the outermost JSON array. Arguments: jsonArray - A JSON array. NULL is returned in case of any other valid JSON string, NULL or an invalid JSON. Examples: > SELECT json_array_length(\'[1,2,3,4]\'); 4 > SELECT json_array_length(\'[1,2,3,{\\"f1\\":1,\\"f2\\":[5,6]},4]\'); 5 > SELECT json_array_length(\'[1,2\'); NULL Since: 3.1.0","title":"json_array_length"},{"location":"#json_object_keys","text":"json_object_keys(json_object) - Returns all the keys of the outermost JSON object as an array. Arguments: json_object - A JSON object. If a valid JSON object is given, all the keys of the outermost object will be returned as an array. If it is any other valid JSON string, an invalid JSON string or an empty string, the function returns null. Examples: > SELECT json_object_keys(\'{}\'); [] > SELECT json_object_keys(\'{\\"key\\": \\"value\\"}\'); [\\"key\\"] > SELECT json_object_keys(\'{\\"f1\\":\\"abc\\",\\"f2\\":{\\"f3\\":\\"a\\", \\"f4\\":\\"b\\"}}\'); [\\"f1\\",\\"f2\\"] Since: 3.1.0","title":"json_object_keys"},{"location":"#json_tuple","text":"json_tuple(jsonStr, p1, p2, ..., pn) - Returns a tuple like the function get_json_object, but it takes multiple names. All the input parameters and output column types are string. Examples: > SELECT json_tuple(\'{\\"a\\":1, \\"b\\":2}\', \'a\', \'b\'); 1 2 Since: 1.6.0","title":"json_tuple"},{"location":"#kurtosis","text":"kurtosis(expr) - Returns the kurtosis value calculated from values of a group. Examples: > SELECT kurtosis(col) FROM VALUES (-10), (-20), (100), (1000) AS tab(col); -0.7014368047529627 > SELECT kurtosis(col) FROM VALUES (1), (10), (100), (10), (1) as tab(col); 0.19432323191699075 Since: 1.6.0","title":"kurtosis"},{"location":"#lag","text":"lag(input[, offset[, default]]) - Returns the value of input at the offset th row before the current row in the window. The default value of offset is 1 and the default value of default is null. If the value of input at the offset th row is null, null is returned. If there is no such offset row (e.g., when the offset is 1, the first row of the window does not have any previous row), default is returned. Arguments: input - a string expression to evaluate offset rows before the current row. offset - an int expression which is rows to jump back in the partition. default - a string expression which is to use when the offset row does not exist. Examples: > SELECT a, b, lag(b) OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 NULL A1 1 1 A1 2 1 A2 3 NULL Since: 2.0.0","title":"lag"},{"location":"#last","text":"last(expr[, isIgnoreNull]) - Returns the last value of expr for a group of rows. If isIgnoreNull is true, returns only non-null values Examples: > SELECT last(col) FROM VALUES (10), (5), (20) AS tab(col); 20 > SELECT last(col) FROM VALUES (10), (5), (NULL) AS tab(col); NULL > SELECT last(col, true) FROM VALUES (10), (5), (NULL) AS tab(col); 5 Note: The function is non-deterministic because its results depends on the order of the rows which may be non-deterministic after a shuffle. Since: 2.0.0","title":"last"},{"location":"#last_day","text":"last_day(date) - Returns the last day of the month which the date belongs to. Examples: > SELECT last_day(\'2009-01-12\'); 2009-01-31 Since: 1.5.0","title":"last_day"},{"location":"#last_value","text":"last_value(expr[, isIgnoreNull]) - Returns the last value of expr for a group of rows. If isIgnoreNull is true, returns only non-null values Examples: > SELECT last_value(col) FROM VALUES (10), (5), (20) AS tab(col); 20 > SELECT last_value(col) FROM VALUES (10), (5), (NULL) AS tab(col); NULL > SELECT last_value(col, true) FROM VALUES (10), (5), (NULL) AS tab(col); 5 Note: The function is non-deterministic because its results depends on the order of the rows which may be non-deterministic after a shuffle. Since: 2.0.0","title":"last_value"},{"location":"#lcase","text":"lcase(str) - Returns str with all characters changed to lowercase. Examples: > SELECT lcase(\'SparkSql\'); sparksql Since: 1.0.1","title":"lcase"},{"location":"#lead","text":"lead(input[, offset[, default]]) - Returns the value of input at the offset th row after the current row in the window. The default value of offset is 1 and the default value of default is null. If the value of input at the offset th row is null, null is returned. If there is no such an offset row (e.g., when the offset is 1, the last row of the window does not have any subsequent row), default is returned. Arguments: input - a string expression to evaluate offset rows after the current row. offset - an int expression which is rows to jump ahead in the partition. default - a string expression which is to use when the offset is larger than the window. The default value is null. Examples: > SELECT a, b, lead(b) OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 1 A1 1 2 A1 2 NULL A2 3 NULL Since: 2.0.0","title":"lead"},{"location":"#least","text":"least(expr, ...) - Returns the least value of all parameters, skipping null values. Examples: > SELECT least(10, 9, 2, 4, 3); 2 Since: 1.5.0","title":"least"},{"location":"#left","text":"left(str, len) - Returns the leftmost len ( len can be string type) characters from the string str ,if len is less or equal than 0 the result is an empty string. Examples: > SELECT left(\'Spark SQL\', 3); Spa Since: 2.3.0","title":"left"},{"location":"#length","text":"length(expr) - Returns the character length of string data or number of bytes of binary data. The length of string data includes the trailing spaces. The length of binary data includes binary zeros. Examples: > SELECT length(\'Spark SQL \'); 10 > SELECT CHAR_LENGTH(\'Spark SQL \'); 10 > SELECT CHARACTER_LENGTH(\'Spark SQL \'); 10 Since: 1.5.0","title":"length"},{"location":"#levenshtein","text":"levenshtein(str1, str2) - Returns the Levenshtein distance between the two given strings. Examples: > SELECT levenshtein(\'kitten\', \'sitting\'); 3 Since: 1.5.0","title":"levenshtein"},{"location":"#like","text":"str like pattern[ ESCAPE escape] - Returns true if str matches pattern with escape , null if any arguments are null, false otherwise. Arguments: str - a string expression pattern - a string expression. The pattern is a string which is matched literally, with exception to the following special symbols: _ matches any one character in the input (similar to . in posix regular expressions) % matches zero or more characters in the input (similar to .* in posix regular expressions) Since Spark 2.0, string literals are unescaped in our SQL parser. For example, in order to match \\"\\\\abc\\", the pattern should be \\"\\\\abc\\". When SQL config \'spark.sql.parser.escapedStringLiterals\' is enabled, it falls back to Spark 1.6 behavior regarding string literal parsing. For example, if the config is enabled, the pattern to match \\"\\\\abc\\" should be \\"\\\\abc\\". * escape - an character added since Spark 3.0. The default escape character is the \'\\\\\'. If an escape character precedes a special symbol or another escape character, the following character is matched literally. It is invalid to escape any other character. Examples: > SELECT like(\'Spark\', \'_park\'); true > SET spark.sql.parser.escapedStringLiterals=true; spark.sql.parser.escapedStringLiterals true > SELECT \'%SystemDrive%\\\\Users\\\\John\' like \'\\\\%SystemDrive\\\\%\\\\\\\\Users%\'; true > SET spark.sql.parser.escapedStringLiterals=false; spark.sql.parser.escapedStringLiterals false > SELECT \'%SystemDrive%\\\\\\\\Users\\\\\\\\John\' like \'\\\\%SystemDrive\\\\%\\\\\\\\\\\\\\\\Users%\'; true > SELECT \'%SystemDrive%/Users/John\' like \'/%SystemDrive/%//Users%\' ESCAPE \'/\'; true Note: Use RLIKE to match with standard regular expressions. Since: 1.0.0","title":"like"},{"location":"#ln","text":"ln(expr) - Returns the natural logarithm (base e) of expr . Examples: > SELECT ln(1); 0.0 Since: 1.4.0","title":"ln"},{"location":"#locate","text":"locate(substr, str[, pos]) - Returns the position of the first occurrence of substr in str after position pos . The given pos and return value are 1-based. Examples: > SELECT locate(\'bar\', \'foobarbar\'); 4 > SELECT locate(\'bar\', \'foobarbar\', 5); 7 > SELECT POSITION(\'bar\' IN \'foobarbar\'); 4 Since: 1.5.0","title":"locate"},{"location":"#log","text":"log(base, expr) - Returns the logarithm of expr with base . Examples: > SELECT log(10, 100); 2.0 Since: 1.5.0","title":"log"},{"location":"#log10","text":"log10(expr) - Returns the logarithm of expr with base 10. Examples: > SELECT log10(10); 1.0 Since: 1.4.0","title":"log10"},{"location":"#log1p","text":"log1p(expr) - Returns log(1 + expr ). Examples: > SELECT log1p(0); 0.0 Since: 1.4.0","title":"log1p"},{"location":"#log2","text":"log2(expr) - Returns the logarithm of expr with base 2. Examples: > SELECT log2(2); 1.0 Since: 1.4.0","title":"log2"},{"location":"#lower","text":"lower(str) - Returns str with all characters changed to lowercase. Examples: > SELECT lower(\'SparkSql\'); sparksql Since: 1.0.1","title":"lower"},{"location":"#lpad","text":"lpad(str, len[, pad]) - Returns str , left-padded with pad to a length of len . If str is longer than len , the return value is shortened to len characters. If pad is not specified, str will be padded to the left with space characters. Examples: > SELECT lpad(\'hi\', 5, \'??\'); ???hi > SELECT lpad(\'hi\', 1, \'??\'); h > SELECT lpad(\'hi\', 5); hi Since: 1.5.0","title":"lpad"},{"location":"#ltrim","text":"ltrim(str) - Removes the leading space characters from str . Arguments: str - a string expression trimStr - the trim string characters to trim, the default value is a single space Examples: > SELECT ltrim(\' SparkSQL \'); SparkSQL Since: 1.5.0","title":"ltrim"},{"location":"#make_date","text":"make_date(year, month, day) - Create date from year, month and day fields. Arguments: year - the year to represent, from 1 to 9999 month - the month-of-year to represent, from 1 (January) to 12 (December) day - the day-of-month to represent, from 1 to 31 Examples: > SELECT make_date(2013, 7, 15); 2013-07-15 > SELECT make_date(2019, 13, 1); NULL > SELECT make_date(2019, 7, NULL); NULL > SELECT make_date(2019, 2, 30); NULL Since: 3.0.0","title":"make_date"},{"location":"#make_dt_interval","text":"make_dt_interval([days[, hours[, mins[, secs]]]]) - Make DayTimeIntervalType duration from days, hours, mins and secs. Arguments: days - the number of days, positive or negative hours - the number of hours, positive or negative mins - the number of minutes, positive or negative secs - the number of seconds with the fractional part in microsecond precision. Examples: > SELECT make_dt_interval(1, 12, 30, 01.001001); 1 12:30:01.001001000 > SELECT make_dt_interval(2); 2 00:00:00.000000000 > SELECT make_dt_interval(100, null, 3); NULL Since: 3.2.0","title":"make_dt_interval"},{"location":"#make_interval","text":"make_interval([years[, months[, weeks[, days[, hours[, mins[, secs]]]]]]]) - Make interval from years, months, weeks, days, hours, mins and secs. Arguments: years - the number of years, positive or negative months - the number of months, positive or negative weeks - the number of weeks, positive or negative days - the number of days, positive or negative hours - the number of hours, positive or negative mins - the number of minutes, positive or negative secs - the number of seconds with the fractional part in microsecond precision. Examples: > SELECT make_interval(100, 11, 1, 1, 12, 30, 01.001001); 100 years 11 months 8 days 12 hours 30 minutes 1.001001 seconds > SELECT make_interval(100, null, 3); NULL > SELECT make_interval(0, 1, 0, 1, 0, 0, 100.000001); 1 months 1 days 1 minutes 40.000001 seconds Since: 3.0.0","title":"make_interval"},{"location":"#make_timestamp","text":"make_timestamp(year, month, day, hour, min, sec[, timezone]) - Create timestamp from year, month, day, hour, min, sec and timezone fields. The result data type is consistent with the value of configuration spark.sql.timestampType Arguments: year - the year to represent, from 1 to 9999 month - the month-of-year to represent, from 1 (January) to 12 (December) day - the day-of-month to represent, from 1 to 31 hour - the hour-of-day to represent, from 0 to 23 min - the minute-of-hour to represent, from 0 to 59 sec - the second-of-minute and its micro-fraction to represent, from 0 to 60. The value can be either an integer like 13 , or a fraction like 13.123. If the sec argument equals to 60, the seconds field is set to 0 and 1 minute is added to the final timestamp. timezone - the time zone identifier. For example, CET, UTC and etc. Examples: > SELECT make_timestamp(2014, 12, 28, 6, 30, 45.887); 2014-12-28 06:30:45.887 > SELECT make_timestamp(2014, 12, 28, 6, 30, 45.887, \'CET\'); 2014-12-27 21:30:45.887 > SELECT make_timestamp(2019, 6, 30, 23, 59, 60); 2019-07-01 00:00:00 > SELECT make_timestamp(2019, 6, 30, 23, 59, 1); 2019-06-30 23:59:01 > SELECT make_timestamp(2019, 13, 1, 10, 11, 12, \'PST\'); NULL > SELECT make_timestamp(null, 7, 22, 15, 30, 0); NULL Since: 3.0.0","title":"make_timestamp"},{"location":"#make_ym_interval","text":"make_ym_interval([years[, months]]) - Make year-month interval from years, months. Arguments: years - the number of years, positive or negative months - the number of months, positive or negative Examples: > SELECT make_ym_interval(1, 2); 1-2 > SELECT make_ym_interval(1, 0); 1-0 > SELECT make_ym_interval(-1, 1); -0-11 > SELECT make_ym_interval(2); 2-0 Since: 3.2.0","title":"make_ym_interval"},{"location":"#map","text":"map(key0, value0, key1, value1, ...) - Creates a map with the given key/value pairs. Examples: > SELECT map(1.0, \'2\', 3.0, \'4\'); {1.0:\\"2\\",3.0:\\"4\\"} Since: 2.0.0","title":"map"},{"location":"#map_concat","text":"map_concat(map, ...) - Returns the union of all the given maps Examples: > SELECT map_concat(map(1, \'a\', 2, \'b\'), map(3, \'c\')); {1:\\"a\\",2:\\"b\\",3:\\"c\\"} Since: 2.4.0","title":"map_concat"},{"location":"#map_entries","text":"map_entries(map) - Returns an unordered array of all entries in the given map. Examples: > SELECT map_entries(map(1, \'a\', 2, \'b\')); [{\\"key\\":1,\\"value\\":\\"a\\"},{\\"key\\":2,\\"value\\":\\"b\\"}] Since: 3.0.0","title":"map_entries"},{"location":"#map_filter","text":"map_filter(expr, func) - Filters entries in a map using the function. Examples: > SELECT map_filter(map(1, 0, 2, 2, 3, -1), (k, v) -> k > v); {1:0,3:-1} Since: 3.0.0","title":"map_filter"},{"location":"#map_from_arrays","text":"map_from_arrays(keys, values) - Creates a map with a pair of the given key/value arrays. All elements in keys should not be null Examples: > SELECT map_from_arrays(array(1.0, 3.0), array(\'2\', \'4\')); {1.0:\\"2\\",3.0:\\"4\\"} Since: 2.4.0","title":"map_from_arrays"},{"location":"#map_from_entries","text":"map_from_entries(arrayOfEntries) - Returns a map created from the given array of entries. Examples: > SELECT map_from_entries(array(struct(1, \'a\'), struct(2, \'b\'))); {1:\\"a\\",2:\\"b\\"} Since: 2.4.0","title":"map_from_entries"},{"location":"#map_keys","text":"map_keys(map) - Returns an unordered array containing the keys of the map. Examples: > SELECT map_keys(map(1, \'a\', 2, \'b\')); [1,2] Since: 2.0.0","title":"map_keys"},{"location":"#map_values","text":"map_values(map) - Returns an unordered array containing the values of the map. Examples: > SELECT map_values(map(1, \'a\', 2, \'b\')); [\\"a\\",\\"b\\"] Since: 2.0.0","title":"map_values"},{"location":"#map_zip_with","text":"map_zip_with(map1, map2, function) - Merges two given maps into a single map by applying function to the pair of values with the same key. For keys only presented in one map, NULL will be passed as the value for the missing key. If an input map contains duplicated keys, only the first entry of the duplicated key is passed into the lambda function. Examples: > SELECT map_zip_with(map(1, \'a\', 2, \'b\'), map(1, \'x\', 2, \'y\'), (k, v1, v2) -> concat(v1, v2)); {1:\\"ax\\",2:\\"by\\"} Since: 3.0.0","title":"map_zip_with"},{"location":"#max","text":"max(expr) - Returns the maximum value of expr . Examples: > SELECT max(col) FROM VALUES (10), (50), (20) AS tab(col); 50 Since: 1.0.0","title":"max"},{"location":"#max_by","text":"max_by(x, y) - Returns the value of x associated with the maximum value of y . Examples: > SELECT max_by(x, y) FROM VALUES ((\'a\', 10)), ((\'b\', 50)), ((\'c\', 20)) AS tab(x, y); b Since: 3.0.0","title":"max_by"},{"location":"#md5","text":"md5(expr) - Returns an MD5 128-bit checksum as a hex string of expr . Examples: > SELECT md5(\'Spark\'); 8cde774d6f7333752ed72cacddb05126 Since: 1.5.0","title":"md5"},{"location":"#mean","text":"mean(expr) - Returns the mean calculated from values of a group. Examples: > SELECT mean(col) FROM VALUES (1), (2), (3) AS tab(col); 2.0 > SELECT mean(col) FROM VALUES (1), (2), (NULL) AS tab(col); 1.5 Since: 1.0.0","title":"mean"},{"location":"#min","text":"min(expr) - Returns the minimum value of expr . Examples: > SELECT min(col) FROM VALUES (10), (-1), (20) AS tab(col); -1 Since: 1.0.0","title":"min"},{"location":"#min_by","text":"min_by(x, y) - Returns the value of x associated with the minimum value of y . Examples: > SELECT min_by(x, y) FROM VALUES ((\'a\', 10)), ((\'b\', 50)), ((\'c\', 20)) AS tab(x, y); a Since: 3.0.0","title":"min_by"},{"location":"#minute","text":"minute(timestamp) - Returns the minute component of the string/timestamp. Examples: > SELECT minute(\'2009-07-30 12:58:59\'); 58 Since: 1.5.0","title":"minute"},{"location":"#mod","text":"expr1 mod expr2 - Returns the remainder after expr1 / expr2 . Examples: > SELECT 2 % 1.8; 0.2 > SELECT MOD(2, 1.8); 0.2 Since: 1.0.0","title":"mod"},{"location":"#monotonically_increasing_id","text":"monotonically_increasing_id() - Returns monotonically increasing 64-bit integers. The generated ID is guaranteed to be monotonically increasing and unique, but not consecutive. The current implementation puts the partition ID in the upper 31 bits, and the lower 33 bits represent the record number within each partition. The assumption is that the data frame has less than 1 billion partitions, and each partition has less than 8 billion records. The function is non-deterministic because its result depends on partition IDs. Examples: > SELECT monotonically_increasing_id(); 0 Since: 1.4.0","title":"monotonically_increasing_id"},{"location":"#month","text":"month(date) - Returns the month component of the date/timestamp. Examples: > SELECT month(\'2016-07-30\'); 7 Since: 1.5.0","title":"month"},{"location":"#months_between","text":"months_between(timestamp1, timestamp2[, roundOff]) - If timestamp1 is later than timestamp2 , then the result is positive. If timestamp1 and timestamp2 are on the same day of month, or both are the last day of month, time of day will be ignored. Otherwise, the difference is calculated based on 31 days per month, and rounded to 8 digits unless roundOff=false. Examples: > SELECT months_between(\'1997-02-28 10:30:00\', \'1996-10-30\'); 3.94959677 > SELECT months_between(\'1997-02-28 10:30:00\', \'1996-10-30\', false); 3.9495967741935485 Since: 1.5.0","title":"months_between"},{"location":"#named_struct","text":"named_struct(name1, val1, name2, val2, ...) - Creates a struct with the given field names and values. Examples: > SELECT named_struct(\\"a\\", 1, \\"b\\", 2, \\"c\\", 3); {\\"a\\":1,\\"b\\":2,\\"c\\":3} Since: 1.5.0","title":"named_struct"},{"location":"#nanvl","text":"nanvl(expr1, expr2) - Returns expr1 if it\'s not NaN, or expr2 otherwise. Examples: > SELECT nanvl(cast(\'NaN\' as double), 123); 123.0 Since: 1.5.0","title":"nanvl"},{"location":"#negative","text":"negative(expr) - Returns the negated value of expr . Examples: > SELECT negative(1); -1 Since: 1.0.0","title":"negative"},{"location":"#next_day","text":"next_day(start_date, day_of_week) - Returns the first date which is later than start_date and named as indicated. The function returns NULL if at least one of the input parameters is NULL. When both of the input parameters are not NULL and day_of_week is an invalid input, the function throws IllegalArgumentException if spark.sql.ansi.enabled is set to true, otherwise NULL. Examples: > SELECT next_day(\'2015-01-14\', \'TU\'); 2015-01-20 Since: 1.5.0","title":"next_day"},{"location":"#not","text":"not expr - Logical not. Examples: > SELECT not true; false > SELECT not false; true > SELECT not NULL; NULL Since: 1.0.0","title":"not"},{"location":"#now","text":"now() - Returns the current timestamp at the start of query evaluation. Examples: > SELECT now(); 2020-04-25 15:49:11.914 Since: 1.6.0","title":"now"},{"location":"#nth_value","text":"nth_value(input[, offset]) - Returns the value of input at the row that is the offset th row from beginning of the window frame. Offset starts at 1. If ignoreNulls=true, we will skip nulls when finding the offset th row. Otherwise, every row counts for the offset . If there is no such an offset th row (e.g., when the offset is 10, size of the window frame is less than 10), null is returned. Arguments: input - the target column or expression that the function operates on. offset - a positive int literal to indicate the offset in the window frame. It starts with 1. ignoreNulls - an optional specification that indicates the NthValue should skip null values in the determination of which row to use. Examples: > SELECT a, b, nth_value(b, 2) OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 1 A1 1 1 A1 2 1 A2 3 NULL Since: 3.1.0","title":"nth_value"},{"location":"#ntile","text":"ntile(n) - Divides the rows for each window partition into n buckets ranging from 1 to at most n . Arguments: buckets - an int expression which is number of buckets to divide the rows in. Default value is 1. Examples: > SELECT a, b, ntile(2) OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 1 A1 1 1 A1 2 2 A2 3 1 Since: 2.0.0","title":"ntile"},{"location":"#nullif","text":"nullif(expr1, expr2) - Returns null if expr1 equals to expr2 , or expr1 otherwise. Examples: > SELECT nullif(2, 2); NULL Since: 2.0.0","title":"nullif"},{"location":"#nvl","text":"nvl(expr1, expr2) - Returns expr2 if expr1 is null, or expr1 otherwise. Examples: > SELECT nvl(NULL, array(\'2\')); [\\"2\\"] Since: 2.0.0","title":"nvl"},{"location":"#nvl2","text":"nvl2(expr1, expr2, expr3) - Returns expr2 if expr1 is not null, or expr3 otherwise. Examples: > SELECT nvl2(NULL, 2, 1); 1 Since: 2.0.0","title":"nvl2"},{"location":"#octet_length","text":"octet_length(expr) - Returns the byte length of string data or number of bytes of binary data. Examples: > SELECT octet_length(\'Spark SQL\'); 9 Since: 2.3.0","title":"octet_length"},{"location":"#or","text":"expr1 or expr2 - Logical OR. Examples: > SELECT true or false; true > SELECT false or false; false > SELECT true or NULL; true > SELECT false or NULL; NULL Since: 1.0.0","title":"or"},{"location":"#overlay","text":"overlay(input, replace, pos[, len]) - Replace input with replace that starts at pos and is of length len . Examples: > SELECT overlay(\'Spark SQL\' PLACING \'_\' FROM 6); Spark_SQL > SELECT overlay(\'Spark SQL\' PLACING \'CORE\' FROM 7); Spark CORE > SELECT overlay(\'Spark SQL\' PLACING \'ANSI \' FROM 7 FOR 0); Spark ANSI SQL > SELECT overlay(\'Spark SQL\' PLACING \'tructured\' FROM 2 FOR 4); Structured SQL > SELECT overlay(encode(\'Spark SQL\', \'utf-8\') PLACING encode(\'_\', \'utf-8\') FROM 6); Spark_SQL > SELECT overlay(encode(\'Spark SQL\', \'utf-8\') PLACING encode(\'CORE\', \'utf-8\') FROM 7); Spark CORE > SELECT overlay(encode(\'Spark SQL\', \'utf-8\') PLACING encode(\'ANSI \', \'utf-8\') FROM 7 FOR 0); Spark ANSI SQL > SELECT overlay(encode(\'Spark SQL\', \'utf-8\') PLACING encode(\'tructured\', \'utf-8\') FROM 2 FOR 4); Structured SQL Since: 3.0.0","title":"overlay"},{"location":"#parse_url","text":"parse_url(url, partToExtract[, key]) - Extracts a part from a URL. Examples: > SELECT parse_url(\'http://spark.apache.org/path?query=1\', \'HOST\'); spark.apache.org > SELECT parse_url(\'http://spark.apache.org/path?query=1\', \'QUERY\'); query=1 > SELECT parse_url(\'http://spark.apache.org/path?query=1\', \'QUERY\', \'query\'); 1 Since: 2.0.0","title":"parse_url"},{"location":"#percent_rank","text":"percent_rank() - Computes the percentage ranking of a value in a group of values. Arguments: children - this is to base the rank on; a change in the value of one the children will trigger a change in rank. This is an internal parameter and will be assigned by the Analyser. Examples: > SELECT a, b, percent_rank(b) OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 0.0 A1 1 0.0 A1 2 1.0 A2 3 0.0 Since: 2.0.0","title":"percent_rank"},{"location":"#percentile","text":"percentile(col, percentage [, frequency]) - Returns the exact percentile value of numeric column col at the given percentage. The value of percentage must be between 0.0 and 1.0. The value of frequency should be positive integral percentile(col, array(percentage1 [, percentage2]...) [, frequency]) - Returns the exact percentile value array of numeric column col at the given percentage(s). Each value of the percentage array must be between 0.0 and 1.0. The value of frequency should be positive integral Examples: > SELECT percentile(col, 0.3) FROM VALUES (0), (10) AS tab(col); 3.0 > SELECT percentile(col, array(0.25, 0.75)) FROM VALUES (0), (10) AS tab(col); [2.5,7.5] Since: 2.1.0","title":"percentile"},{"location":"#percentile_approx","text":"percentile_approx(col, percentage [, accuracy]) - Returns the approximate percentile of the numeric column col which is the smallest value in the ordered col values (sorted from least to greatest) such that no more than percentage of col values is less than the value or equal to that value. The value of percentage must be between 0.0 and 1.0. The accuracy parameter (default: 10000) is a positive numeric literal which controls approximation accuracy at the cost of memory. Higher value of accuracy yields better accuracy, 1.0/accuracy is the relative error of the approximation. When percentage is an array, each value of the percentage array must be between 0.0 and 1.0. In this case, returns the approximate percentile array of column col at the given percentage array. Examples: > SELECT percentile_approx(col, array(0.5, 0.4, 0.1), 100) FROM VALUES (0), (1), (2), (10) AS tab(col); [1,1,0] > SELECT percentile_approx(col, 0.5, 100) FROM VALUES (0), (6), (7), (9), (10) AS tab(col); 7 Since: 2.1.0","title":"percentile_approx"},{"location":"#pi","text":"pi() - Returns pi. Examples: > SELECT pi(); 3.141592653589793 Since: 1.5.0","title":"pi"},{"location":"#pmod","text":"pmod(expr1, expr2) - Returns the positive value of expr1 mod expr2 . Examples: > SELECT pmod(10, 3); 1 > SELECT pmod(-10, 3); 2 Since: 1.5.0","title":"pmod"},{"location":"#posexplode","text":"posexplode(expr) - Separates the elements of array expr into multiple rows with positions, or the elements of map expr into multiple rows and columns with positions. Unless specified otherwise, uses the column name pos for position, col for elements of the array or key and value for elements of the map. Examples: > SELECT posexplode(array(10,20)); 0 10 1 20 Since: 2.0.0","title":"posexplode"},{"location":"#posexplode_outer","text":"posexplode_outer(expr) - Separates the elements of array expr into multiple rows with positions, or the elements of map expr into multiple rows and columns with positions. Unless specified otherwise, uses the column name pos for position, col for elements of the array or key and value for elements of the map. Examples: > SELECT posexplode_outer(array(10,20)); 0 10 1 20 Since: 2.0.0","title":"posexplode_outer"},{"location":"#position","text":"position(substr, str[, pos]) - Returns the position of the first occurrence of substr in str after position pos . The given pos and return value are 1-based. Examples: > SELECT position(\'bar\', \'foobarbar\'); 4 > SELECT position(\'bar\', \'foobarbar\', 5); 7 > SELECT POSITION(\'bar\' IN \'foobarbar\'); 4 Since: 1.5.0","title":"position"},{"location":"#positive","text":"positive(expr) - Returns the value of expr . Examples: > SELECT positive(1); 1 Since: 1.5.0","title":"positive"},{"location":"#pow","text":"pow(expr1, expr2) - Raises expr1 to the power of expr2 . Examples: > SELECT pow(2, 3); 8.0 Since: 1.4.0","title":"pow"},{"location":"#power","text":"power(expr1, expr2) - Raises expr1 to the power of expr2 . Examples: > SELECT power(2, 3); 8.0 Since: 1.4.0","title":"power"},{"location":"#printf","text":"printf(strfmt, obj, ...) - Returns a formatted string from printf-style format strings. Examples: > SELECT printf(\\"Hello World %d %s\\", 100, \\"days\\"); Hello World 100 days Since: 1.5.0","title":"printf"},{"location":"#quarter","text":"quarter(date) - Returns the quarter of the year for date, in the range 1 to 4. Examples: > SELECT quarter(\'2016-08-31\'); 3 Since: 1.5.0","title":"quarter"},{"location":"#radians","text":"radians(expr) - Converts degrees to radians. Arguments: expr - angle in degrees Examples: > SELECT radians(180); 3.141592653589793 Since: 1.4.0","title":"radians"},{"location":"#raise_error","text":"raise_error(expr) - Throws an exception with expr . Examples: > SELECT raise_error(\'custom error message\'); java.lang.RuntimeException custom error message Since: 3.1.0","title":"raise_error"},{"location":"#rand","text":"rand([seed]) - Returns a random value with independent and identically distributed (i.i.d.) uniformly distributed values in [0, 1). Examples: > SELECT rand(); 0.9629742951434543 > SELECT rand(0); 0.7604953758285915 > SELECT rand(null); 0.7604953758285915 Note: The function is non-deterministic in general case. Since: 1.5.0","title":"rand"},{"location":"#randn","text":"randn([seed]) - Returns a random value with independent and identically distributed (i.i.d.) values drawn from the standard normal distribution. Examples: > SELECT randn(); -0.3254147983080288 > SELECT randn(0); 1.6034991609278433 > SELECT randn(null); 1.6034991609278433 Note: The function is non-deterministic in general case. Since: 1.5.0","title":"randn"},{"location":"#random","text":"random([seed]) - Returns a random value with independent and identically distributed (i.i.d.) uniformly distributed values in [0, 1). Examples: > SELECT random(); 0.9629742951434543 > SELECT random(0); 0.7604953758285915 > SELECT random(null); 0.7604953758285915 Note: The function is non-deterministic in general case. Since: 1.5.0","title":"random"},{"location":"#rank","text":"rank() - Computes the rank of a value in a group of values. The result is one plus the number of rows preceding or equal to the current row in the ordering of the partition. The values will produce gaps in the sequence. Arguments: children - this is to base the rank on; a change in the value of one the children will trigger a change in rank. This is an internal parameter and will be assigned by the Analyser. Examples: > SELECT a, b, rank(b) OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 1 A1 1 1 A1 2 3 A2 3 1 Since: 2.0.0","title":"rank"},{"location":"#reflect","text":"reflect(class, method[, arg1[, arg2 ..]]) - Calls a method with reflection. Examples: > SELECT reflect(\'java.util.UUID\', \'randomUUID\'); c33fb387-8500-4bfa-81d2-6e0e3e930df2 > SELECT reflect(\'java.util.UUID\', \'fromString\', \'a5cf6c42-0c85-418f-af6c-3e4e5b1328f2\'); a5cf6c42-0c85-418f-af6c-3e4e5b1328f2 Since: 2.0.0","title":"reflect"},{"location":"#regexp","text":"regexp(str, regexp) - Returns true if str matches regexp , or false otherwise. Arguments: str - a string expression regexp - a string expression. The regex string should be a Java regular expression. Since Spark 2.0, string literals (including regex patterns) are unescaped in our SQL parser. For example, to match \\"\\\\abc\\", a regular expression for regexp can be \\"^\\\\abc$\\". There is a SQL config \'spark.sql.parser.escapedStringLiterals\' that can be used to fallback to the Spark 1.6 behavior regarding string literal parsing. For example, if the config is enabled, the regexp that can match \\"\\\\abc\\" is \\"^\\\\abc$\\". Examples: > SET spark.sql.parser.escapedStringLiterals=true; spark.sql.parser.escapedStringLiterals true > SELECT regexp(\'%SystemDrive%\\\\Users\\\\John\', \'%SystemDrive%\\\\\\\\Users.*\'); true > SET spark.sql.parser.escapedStringLiterals=false; spark.sql.parser.escapedStringLiterals false > SELECT regexp(\'%SystemDrive%\\\\\\\\Users\\\\\\\\John\', \'%SystemDrive%\\\\\\\\\\\\\\\\Users.*\'); true Note: Use LIKE to match with simple string pattern. Since: 3.2.0","title":"regexp"},{"location":"#regexp_extract","text":"regexp_extract(str, regexp[, idx]) - Extract the first string in the str that match the regexp expression and corresponding to the regex group index. Arguments: str - a string expression. regexp - a string representing a regular expression. The regex string should be a Java regular expression. Since Spark 2.0, string literals (including regex patterns) are unescaped in our SQL parser. For example, to match \\"\\\\abc\\", a regular expression for regexp can be \\"^\\\\abc$\\". There is a SQL config \'spark.sql.parser.escapedStringLiterals\' that can be used to fallback to the Spark 1.6 behavior regarding string literal parsing. For example, if the config is enabled, the regexp that can match \\"\\\\abc\\" is \\"^\\\\abc$\\". * idx - an integer expression that representing the group index. The regex maybe contains multiple groups. idx indicates which regex group to extract. The group index should be non-negative. The minimum value of idx is 0, which means matching the entire regular expression. If idx is not specified, the default group index value is 1. The idx parameter is the Java regex Matcher group() method index. Examples: > SELECT regexp_extract(\'100-200\', \'(\\\\\\\\d+)-(\\\\\\\\d+)\', 1); 100 Since: 1.5.0","title":"regexp_extract"},{"location":"#regexp_extract_all","text":"regexp_extract_all(str, regexp[, idx]) - Extract all strings in the str that match the regexp expression and corresponding to the regex group index. Arguments: str - a string expression. regexp - a string representing a regular expression. The regex string should be a Java regular expression. Since Spark 2.0, string literals (including regex patterns) are unescaped in our SQL parser. For example, to match \\"\\\\abc\\", a regular expression for regexp can be \\"^\\\\abc$\\". There is a SQL config \'spark.sql.parser.escapedStringLiterals\' that can be used to fallback to the Spark 1.6 behavior regarding string literal parsing. For example, if the config is enabled, the regexp that can match \\"\\\\abc\\" is \\"^\\\\abc$\\". * idx - an integer expression that representing the group index. The regex may contains multiple groups. idx indicates which regex group to extract. The group index should be non-negative. The minimum value of idx is 0, which means matching the entire regular expression. If idx is not specified, the default group index value is 1. The idx parameter is the Java regex Matcher group() method index. Examples: > SELECT regexp_extract_all(\'100-200, 300-400\', \'(\\\\\\\\d+)-(\\\\\\\\d+)\', 1); [\\"100\\",\\"300\\"] Since: 3.1.0","title":"regexp_extract_all"},{"location":"#regexp_like","text":"regexp_like(str, regexp) - Returns true if str matches regexp , or false otherwise. Arguments: str - a string expression regexp - a string expression. The regex string should be a Java regular expression. Since Spark 2.0, string literals (including regex patterns) are unescaped in our SQL parser. For example, to match \\"\\\\abc\\", a regular expression for regexp can be \\"^\\\\abc$\\". There is a SQL config \'spark.sql.parser.escapedStringLiterals\' that can be used to fallback to the Spark 1.6 behavior regarding string literal parsing. For example, if the config is enabled, the regexp that can match \\"\\\\abc\\" is \\"^\\\\abc$\\". Examples: > SET spark.sql.parser.escapedStringLiterals=true; spark.sql.parser.escapedStringLiterals true > SELECT regexp_like(\'%SystemDrive%\\\\Users\\\\John\', \'%SystemDrive%\\\\\\\\Users.*\'); true > SET spark.sql.parser.escapedStringLiterals=false; spark.sql.parser.escapedStringLiterals false > SELECT regexp_like(\'%SystemDrive%\\\\\\\\Users\\\\\\\\John\', \'%SystemDrive%\\\\\\\\\\\\\\\\Users.*\'); true Note: Use LIKE to match with simple string pattern. Since: 3.2.0","title":"regexp_like"},{"location":"#regexp_replace","text":"regexp_replace(str, regexp, rep[, position]) - Replaces all substrings of str that match regexp with rep . Arguments: str - a string expression to search for a regular expression pattern match. regexp - a string representing a regular expression. The regex string should be a Java regular expression. Since Spark 2.0, string literals (including regex patterns) are unescaped in our SQL parser. For example, to match \\"\\\\abc\\", a regular expression for regexp can be \\"^\\\\abc$\\". There is a SQL config \'spark.sql.parser.escapedStringLiterals\' that can be used to fallback to the Spark 1.6 behavior regarding string literal parsing. For example, if the config is enabled, the regexp that can match \\"\\\\abc\\" is \\"^\\\\abc$\\". * rep - a string expression to replace matched substrings. * position - a positive integer literal that indicates the position within str to begin searching. The default is 1. If position is greater than the number of characters in str , the result is str . Examples: > SELECT regexp_replace(\'100-200\', \'(\\\\\\\\d+)\', \'num\'); num-num Since: 1.5.0","title":"regexp_replace"},{"location":"#repeat","text":"repeat(str, n) - Returns the string which repeats the given string value n times. Examples: > SELECT repeat(\'123\', 2); 123123 Since: 1.5.0","title":"repeat"},{"location":"#replace","text":"replace(str, search[, replace]) - Replaces all occurrences of search with replace . Arguments: str - a string expression search - a string expression. If search is not found in str , str is returned unchanged. replace - a string expression. If replace is not specified or is an empty string, nothing replaces the string that is removed from str . Examples: > SELECT replace(\'ABCabc\', \'abc\', \'DEF\'); ABCDEF Since: 2.3.0","title":"replace"},{"location":"#reverse","text":"reverse(array) - Returns a reversed string or an array with reverse order of elements. Examples: > SELECT reverse(\'Spark SQL\'); LQS krapS > SELECT reverse(array(2, 1, 4, 3)); [3,4,1,2] Note: Reverse logic for arrays is available since 2.4.0. Since: 1.5.0","title":"reverse"},{"location":"#right","text":"right(str, len) - Returns the rightmost len ( len can be string type) characters from the string str ,if len is less or equal than 0 the result is an empty string. Examples: > SELECT right(\'Spark SQL\', 3); SQL Since: 2.3.0","title":"right"},{"location":"#rint","text":"rint(expr) - Returns the double value that is closest in value to the argument and is equal to a mathematical integer. Examples: > SELECT rint(12.3456); 12.0 Since: 1.4.0","title":"rint"},{"location":"#rlike","text":"rlike(str, regexp) - Returns true if str matches regexp , or false otherwise. Arguments: str - a string expression regexp - a string expression. The regex string should be a Java regular expression. Since Spark 2.0, string literals (including regex patterns) are unescaped in our SQL parser. For example, to match \\"\\\\abc\\", a regular expression for regexp can be \\"^\\\\abc$\\". There is a SQL config \'spark.sql.parser.escapedStringLiterals\' that can be used to fallback to the Spark 1.6 behavior regarding string literal parsing. For example, if the config is enabled, the regexp that can match \\"\\\\abc\\" is \\"^\\\\abc$\\". Examples: > SET spark.sql.parser.escapedStringLiterals=true; spark.sql.parser.escapedStringLiterals true > SELECT rlike(\'%SystemDrive%\\\\Users\\\\John\', \'%SystemDrive%\\\\\\\\Users.*\'); true > SET spark.sql.parser.escapedStringLiterals=false; spark.sql.parser.escapedStringLiterals false > SELECT rlike(\'%SystemDrive%\\\\\\\\Users\\\\\\\\John\', \'%SystemDrive%\\\\\\\\\\\\\\\\Users.*\'); true Note: Use LIKE to match with simple string pattern. Since: 1.0.0","title":"rlike"},{"location":"#round","text":"round(expr, d) - Returns expr rounded to d decimal places using HALF_UP rounding mode. Examples: > SELECT round(2.5, 0); 3 Since: 1.5.0","title":"round"},{"location":"#row_number","text":"row_number() - Assigns a unique, sequential number to each row, starting with one, according to the ordering of rows within the window partition. Examples: > SELECT a, b, row_number() OVER (PARTITION BY a ORDER BY b) FROM VALUES (\'A1\', 2), (\'A1\', 1), (\'A2\', 3), (\'A1\', 1) tab(a, b); A1 1 1 A1 1 2 A1 2 3 A2 3 1 Since: 2.0.0","title":"row_number"},{"location":"#rpad","text":"rpad(str, len[, pad]) - Returns str , right-padded with pad to a length of len . If str is longer than len , the return value is shortened to len characters. If pad is not specified, str will be padded to the right with space characters. Examples: > SELECT rpad(\'hi\', 5, \'??\'); hi??? > SELECT rpad(\'hi\', 1, \'??\'); h > SELECT rpad(\'hi\', 5); hi Since: 1.5.0","title":"rpad"},{"location":"#rtrim","text":"rtrim(str) - Removes the trailing space characters from str . Arguments: str - a string expression trimStr - the trim string characters to trim, the default value is a single space Examples: > SELECT rtrim(\' SparkSQL \'); SparkSQL Since: 1.5.0","title":"rtrim"},{"location":"#schema_of_csv","text":"schema_of_csv(csv[, options]) - Returns schema in the DDL format of CSV string. Examples: > SELECT schema_of_csv(\'1,abc\'); STRUCT<`_c0`: INT, `_c1`: STRING> Since: 3.0.0","title":"schema_of_csv"},{"location":"#schema_of_json","text":"schema_of_json(json[, options]) - Returns schema in the DDL format of JSON string. Examples: > SELECT schema_of_json(\'[{\\"col\\":0}]\'); ARRAY<STRUCT<`col`: BIGINT>> > SELECT schema_of_json(\'[{\\"col\\":01}]\', map(\'allowNumericLeadingZeros\', \'true\')); ARRAY<STRUCT<`col`: BIGINT>> Since: 2.4.0","title":"schema_of_json"},{"location":"#second","text":"second(timestamp) - Returns the second component of the string/timestamp. Examples: > SELECT second(\'2009-07-30 12:58:59\'); 59 Since: 1.5.0","title":"second"},{"location":"#sentences","text":"sentences(str[, lang, country]) - Splits str into an array of array of words. Examples: > SELECT sentences(\'Hi there! Good morning.\'); [[\\"Hi\\",\\"there\\"],[\\"Good\\",\\"morning\\"]] Since: 2.0.0","title":"sentences"},{"location":"#sequence","text":"sequence(start, stop, step) - Generates an array of elements from start to stop (inclusive), incrementing by step. The type of the returned elements is the same as the type of argument expressions. Supported types are: byte, short, integer, long, date, timestamp. The start and stop expressions must resolve to the same type. If start and stop expressions resolve to the \'date\' or \'timestamp\' type then the step expression must resolve to the \'interval\' or \'year-month interval\' or \'day-time interval\' type, otherwise to the same type as the start and stop expressions. Arguments: start - an expression. The start of the range. stop - an expression. The end the range (inclusive). step - an optional expression. The step of the range. By default step is 1 if start is less than or equal to stop, otherwise -1. For the temporal sequences it\'s 1 day and -1 day respectively. If start is greater than stop then the step must be negative, and vice versa. Examples: > SELECT sequence(1, 5); [1,2,3,4,5] > SELECT sequence(5, 1); [5,4,3,2,1] > SELECT sequence(to_date(\'2018-01-01\'), to_date(\'2018-03-01\'), interval 1 month); [2018-01-01,2018-02-01,2018-03-01] > SELECT sequence(to_date(\'2018-01-01\'), to_date(\'2018-03-01\'), interval \'0-1\' year to month); [2018-01-01,2018-02-01,2018-03-01] Since: 2.4.0","title":"sequence"},{"location":"#session_window","text":"session_window(time_column, gap_duration) - Generates session window given a timestamp specifying column and gap duration. See \'Types of time windows\' in Structured Streaming guide doc for detailed explanation and examples. Arguments: time_column - The column or the expression to use as the timestamp for windowing by time. The time column must be of TimestampType. gap_duration - A string specifying the timeout of the session represented as \\"interval value\\" (See Interval Literal for more details.) for the fixed gap duration, or an expression which is applied for each input and evaluated to the \\"interval value\\" for the dynamic gap duration. Examples: > SELECT a, session_window.start, session_window.end, count(*) as cnt FROM VALUES (\'A1\', \'2021-01-01 00:00:00\'), (\'A1\', \'2021-01-01 00:04:30\'), (\'A1\', \'2021-01-01 00:10:00\'), (\'A2\', \'2021-01-01 00:01:00\') AS tab(a, b) GROUP by a, session_window(b, \'5 minutes\') ORDER BY a, start; A1 2021-01-01 00:00:00 2021-01-01 00:09:30 2 A1 2021-01-01 00:10:00 2021-01-01 00:15:00 1 A2 2021-01-01 00:01:00 2021-01-01 00:06:00 1 > SELECT a, session_window.start, session_window.end, count(*) as cnt FROM VALUES (\'A1\', \'2021-01-01 00:00:00\'), (\'A1\', \'2021-01-01 00:04:30\'), (\'A1\', \'2021-01-01 00:10:00\'), (\'A2\', \'2021-01-01 00:01:00\'), (\'A2\', \'2021-01-01 00:04:30\') AS tab(a, b) GROUP by a, session_window(b, CASE WHEN a = \'A1\' THEN \'5 minutes\' WHEN a = \'A2\' THEN \'1 minute\' ELSE \'10 minutes\' END) ORDER BY a, start; A1 2021-01-01 00:00:00 2021-01-01 00:09:30 2 A1 2021-01-01 00:10:00 2021-01-01 00:15:00 1 A2 2021-01-01 00:01:00 2021-01-01 00:02:00 1 A2 2021-01-01 00:04:30 2021-01-01 00:05:30 1 Since: 3.2.0","title":"session_window"},{"location":"#sha","text":"sha(expr) - Returns a sha1 hash value as a hex string of the expr . Examples: > SELECT sha(\'Spark\'); 85f5955f4b27a9a4c2aab6ffe5d7189fc298b92c Since: 1.5.0","title":"sha"},{"location":"#sha1","text":"sha1(expr) - Returns a sha1 hash value as a hex string of the expr . Examples: > SELECT sha1(\'Spark\'); 85f5955f4b27a9a4c2aab6ffe5d7189fc298b92c Since: 1.5.0","title":"sha1"},{"location":"#sha2","text":"sha2(expr, bitLength) - Returns a checksum of SHA-2 family as a hex string of expr . SHA-224, SHA-256, SHA-384, and SHA-512 are supported. Bit length of 0 is equivalent to 256. Examples: > SELECT sha2(\'Spark\', 256); 529bc3b07127ecb7e53a4dcf1991d9152c24537d919178022b2c42657f79a26b Since: 1.5.0","title":"sha2"},{"location":"#shiftleft","text":"shiftleft(base, expr) - Bitwise left shift. Examples: > SELECT shiftleft(2, 1); 4 Since: 1.5.0","title":"shiftleft"},{"location":"#shiftright","text":"shiftright(base, expr) - Bitwise (signed) right shift. Examples: > SELECT shiftright(4, 1); 2 Since: 1.5.0","title":"shiftright"},{"location":"#shiftrightunsigned","text":"shiftrightunsigned(base, expr) - Bitwise unsigned right shift. Examples: > SELECT shiftrightunsigned(4, 1); 2 Since: 1.5.0","title":"shiftrightunsigned"},{"location":"#shuffle","text":"shuffle(array) - Returns a random permutation of the given array. Examples: > SELECT shuffle(array(1, 20, 3, 5)); [3,1,5,20] > SELECT shuffle(array(1, 20, null, 3)); [20,null,3,1] Note: The function is non-deterministic. Since: 2.4.0","title":"shuffle"},{"location":"#sign","text":"sign(expr) - Returns -1.0, 0.0 or 1.0 as expr is negative, 0 or positive. Examples: > SELECT sign(40); 1.0 Since: 1.4.0","title":"sign"},{"location":"#signum","text":"signum(expr) - Returns -1.0, 0.0 or 1.0 as expr is negative, 0 or positive. Examples: > SELECT signum(40); 1.0 Since: 1.4.0","title":"signum"},{"location":"#sin","text":"sin(expr) - Returns the sine of expr , as if computed by java.lang.Math.sin . Arguments: expr - angle in radians Examples: > SELECT sin(0); 0.0 Since: 1.4.0","title":"sin"},{"location":"#sinh","text":"sinh(expr) - Returns hyperbolic sine of expr , as if computed by java.lang.Math.sinh . Arguments: expr - hyperbolic angle Examples: > SELECT sinh(0); 0.0 Since: 1.4.0","title":"sinh"},{"location":"#size","text":"size(expr) - Returns the size of an array or a map. The function returns null for null input if spark.sql.legacy.sizeOfNull is set to false or spark.sql.ansi.enabled is set to true. Otherwise, the function returns -1 for null input. With the default settings, the function returns -1 for null input. Examples: > SELECT size(array(\'b\', \'d\', \'c\', \'a\')); 4 > SELECT size(map(\'a\', 1, \'b\', 2)); 2 > SELECT size(NULL); -1 Since: 1.5.0","title":"size"},{"location":"#skewness","text":"skewness(expr) - Returns the skewness value calculated from values of a group. Examples: > SELECT skewness(col) FROM VALUES (-10), (-20), (100), (1000) AS tab(col); 1.1135657469022011 > SELECT skewness(col) FROM VALUES (-1000), (-100), (10), (20) AS tab(col); -1.1135657469022011 Since: 1.6.0","title":"skewness"},{"location":"#slice","text":"slice(x, start, length) - Subsets array x starting from index start (array indices start at 1, or starting from the end if start is negative) with the specified length. Examples: > SELECT slice(array(1, 2, 3, 4), 2, 2); [2,3] > SELECT slice(array(1, 2, 3, 4), -2, 2); [3,4] Since: 2.4.0","title":"slice"},{"location":"#smallint","text":"smallint(expr) - Casts the value expr to the target data type smallint . Since: 2.0.1","title":"smallint"},{"location":"#some","text":"some(expr) - Returns true if at least one value of expr is true. Examples: > SELECT some(col) FROM VALUES (true), (false), (false) AS tab(col); true > SELECT some(col) FROM VALUES (NULL), (true), (false) AS tab(col); true > SELECT some(col) FROM VALUES (false), (false), (NULL) AS tab(col); false Since: 3.0.0","title":"some"},{"location":"#sort_array","text":"sort_array(array[, ascendingOrder]) - Sorts the input array in ascending or descending order according to the natural ordering of the array elements. NaN is greater than any non-NaN elements for double/float type. Null elements will be placed at the beginning of the returned array in ascending order or at the end of the returned array in descending order. Examples: > SELECT sort_array(array(\'b\', \'d\', null, \'c\', \'a\'), true); [null,\\"a\\",\\"b\\",\\"c\\",\\"d\\"] Since: 1.5.0","title":"sort_array"},{"location":"#soundex","text":"soundex(str) - Returns Soundex code of the string. Examples: > SELECT soundex(\'Miller\'); M460 Since: 1.5.0","title":"soundex"},{"location":"#space","text":"space(n) - Returns a string consisting of n spaces. Examples: > SELECT concat(space(2), \'1\'); 1 Since: 1.5.0","title":"space"},{"location":"#spark_partition_id","text":"spark_partition_id() - Returns the current partition id. Examples: > SELECT spark_partition_id(); 0 Since: 1.4.0","title":"spark_partition_id"},{"location":"#split","text":"split(str, regex, limit) - Splits str around occurrences that match regex and returns an array with a length of at most limit Arguments: str - a string expression to split. regex - a string representing a regular expression. The regex string should be a Java regular expression. limit - an integer expression which controls the number of times the regex is applied. limit > 0: The resulting array\'s length will not be more than limit , and the resulting array\'s last entry will contain all input beyond the last matched regex. limit <= 0: regex will be applied as many times as possible, and the resulting array can be of any size. Examples: > SELECT split(\'oneAtwoBthreeC\', \'[ABC]\'); [\\"one\\",\\"two\\",\\"three\\",\\"\\"] > SELECT split(\'oneAtwoBthreeC\', \'[ABC]\', -1); [\\"one\\",\\"two\\",\\"three\\",\\"\\"] > SELECT split(\'oneAtwoBthreeC\', \'[ABC]\', 2); [\\"one\\",\\"twoBthreeC\\"] Since: 1.5.0","title":"split"},{"location":"#sqrt","text":"sqrt(expr) - Returns the square root of expr . Examples: > SELECT sqrt(4); 2.0 Since: 1.1.1","title":"sqrt"},{"location":"#stack","text":"stack(n, expr1, ..., exprk) - Separates expr1 , ..., exprk into n rows. Uses column names col0, col1, etc. by default unless specified otherwise. Examples: > SELECT stack(2, 1, 2, 3); 1 2 3 NULL Since: 2.0.0","title":"stack"},{"location":"#std","text":"std(expr) - Returns the sample standard deviation calculated from values of a group. Examples: > SELECT std(col) FROM VALUES (1), (2), (3) AS tab(col); 1.0 Since: 1.6.0","title":"std"},{"location":"#stddev","text":"stddev(expr) - Returns the sample standard deviation calculated from values of a group. Examples: > SELECT stddev(col) FROM VALUES (1), (2), (3) AS tab(col); 1.0 Since: 1.6.0","title":"stddev"},{"location":"#stddev_pop","text":"stddev_pop(expr) - Returns the population standard deviation calculated from values of a group. Examples: > SELECT stddev_pop(col) FROM VALUES (1), (2), (3) AS tab(col); 0.816496580927726 Since: 1.6.0","title":"stddev_pop"},{"location":"#stddev_samp","text":"stddev_samp(expr) - Returns the sample standard deviation calculated from values of a group. Examples: > SELECT stddev_samp(col) FROM VALUES (1), (2), (3) AS tab(col); 1.0 Since: 1.6.0","title":"stddev_samp"},{"location":"#str_to_map","text":"str_to_map(text[, pairDelim[, keyValueDelim]]) - Creates a map after splitting the text into key/value pairs using delimiters. Default delimiters are \',\' for pairDelim and \':\' for keyValueDelim . Both pairDelim and keyValueDelim are treated as regular expressions. Examples: > SELECT str_to_map(\'a:1,b:2,c:3\', \',\', \':\'); {\\"a\\":\\"1\\",\\"b\\":\\"2\\",\\"c\\":\\"3\\"} > SELECT str_to_map(\'a\'); {\\"a\\":null} Since: 2.0.1","title":"str_to_map"},{"location":"#string","text":"string(expr) - Casts the value expr to the target data type string . Since: 2.0.1","title":"string"},{"location":"#struct","text":"struct(col1, col2, col3, ...) - Creates a struct with the given field values. Examples: > SELECT struct(1, 2, 3); {\\"col1\\":1,\\"col2\\":2,\\"col3\\":3} Since: 1.4.0","title":"struct"},{"location":"#substr","text":"substr(str, pos[, len]) - Returns the substring of str that starts at pos and is of length len , or the slice of byte array that starts at pos and is of length len . substr(str FROM pos[ FOR len]]) - Returns the substring of str that starts at pos and is of length len , or the slice of byte array that starts at pos and is of length len . Examples: > SELECT substr(\'Spark SQL\', 5); k SQL > SELECT substr(\'Spark SQL\', -3); SQL > SELECT substr(\'Spark SQL\', 5, 1); k > SELECT substr(\'Spark SQL\' FROM 5); k SQL > SELECT substr(\'Spark SQL\' FROM -3); SQL > SELECT substr(\'Spark SQL\' FROM 5 FOR 1); k Since: 1.5.0","title":"substr"},{"location":"#substring","text":"substring(str, pos[, len]) - Returns the substring of str that starts at pos and is of length len , or the slice of byte array that starts at pos and is of length len . substring(str FROM pos[ FOR len]]) - Returns the substring of str that starts at pos and is of length len , or the slice of byte array that starts at pos and is of length len . Examples: > SELECT substring(\'Spark SQL\', 5); k SQL > SELECT substring(\'Spark SQL\', -3); SQL > SELECT substring(\'Spark SQL\', 5, 1); k > SELECT substring(\'Spark SQL\' FROM 5); k SQL > SELECT substring(\'Spark SQL\' FROM -3); SQL > SELECT substring(\'Spark SQL\' FROM 5 FOR 1); k Since: 1.5.0","title":"substring"},{"location":"#substring_index","text":"substring_index(str, delim, count) - Returns the substring from str before count occurrences of the delimiter delim . If count is positive, everything to the left of the final delimiter (counting from the left) is returned. If count is negative, everything to the right of the final delimiter (counting from the right) is returned. The function substring_index performs a case-sensitive match when searching for delim . Examples: > SELECT substring_index(\'www.apache.org\', \'.\', 2); www.apache Since: 1.5.0","title":"substring_index"},{"location":"#sum","text":"sum(expr) - Returns the sum calculated from values of a group. Examples: > SELECT sum(col) FROM VALUES (5), (10), (15) AS tab(col); 30 > SELECT sum(col) FROM VALUES (NULL), (10), (15) AS tab(col); 25 > SELECT sum(col) FROM VALUES (NULL), (NULL) AS tab(col); NULL Since: 1.0.0","title":"sum"},{"location":"#tan","text":"tan(expr) - Returns the tangent of expr , as if computed by java.lang.Math.tan . Arguments: expr - angle in radians Examples: > SELECT tan(0); 0.0 Since: 1.4.0","title":"tan"},{"location":"#tanh","text":"tanh(expr) - Returns the hyperbolic tangent of expr , as if computed by java.lang.Math.tanh . Arguments: expr - hyperbolic angle Examples: > SELECT tanh(0); 0.0 Since: 1.4.0","title":"tanh"},{"location":"#timestamp","text":"timestamp(expr) - Casts the value expr to the target data type timestamp . Since: 2.0.1","title":"timestamp"},{"location":"#timestamp_micros","text":"timestamp_micros(microseconds) - Creates timestamp from the number of microseconds since UTC epoch. Examples: > SELECT timestamp_micros(1230219000123123); 2008-12-25 07:30:00.123123 Since: 3.1.0","title":"timestamp_micros"},{"location":"#timestamp_millis","text":"timestamp_millis(milliseconds) - Creates timestamp from the number of milliseconds since UTC epoch. Examples: > SELECT timestamp_millis(1230219000123); 2008-12-25 07:30:00.123 Since: 3.1.0","title":"timestamp_millis"},{"location":"#timestamp_seconds","text":"timestamp_seconds(seconds) - Creates timestamp from the number of seconds (can be fractional) since UTC epoch. Examples: > SELECT timestamp_seconds(1230219000); 2008-12-25 07:30:00 > SELECT timestamp_seconds(1230219000.123); 2008-12-25 07:30:00.123 Since: 3.1.0","title":"timestamp_seconds"},{"location":"#tinyint","text":"tinyint(expr) - Casts the value expr to the target data type tinyint . Since: 2.0.1","title":"tinyint"},{"location":"#to_csv","text":"to_csv(expr[, options]) - Returns a CSV string with a given struct value Examples: > SELECT to_csv(named_struct(\'a\', 1, \'b\', 2)); 1,2 > SELECT to_csv(named_struct(\'time\', to_timestamp(\'2015-08-26\', \'yyyy-MM-dd\')), map(\'timestampFormat\', \'dd/MM/yyyy\')); 26/08/2015 Since: 3.0.0","title":"to_csv"},{"location":"#to_date","text":"to_date(date_str[, fmt]) - Parses the date_str expression with the fmt expression to a date. Returns null with invalid input. By default, it follows casting rules to a date if the fmt is omitted. Arguments: date_str - A string to be parsed to date. fmt - Date format pattern to follow. See Datetime Patterns for valid date and time format patterns. Examples: > SELECT to_date(\'2009-07-30 04:17:52\'); 2009-07-30 > SELECT to_date(\'2016-12-31\', \'yyyy-MM-dd\'); 2016-12-31 Since: 1.5.0","title":"to_date"},{"location":"#to_json","text":"to_json(expr[, options]) - Returns a JSON string with a given struct value Examples: > SELECT to_json(named_struct(\'a\', 1, \'b\', 2)); {\\"a\\":1,\\"b\\":2} > SELECT to_json(named_struct(\'time\', to_timestamp(\'2015-08-26\', \'yyyy-MM-dd\')), map(\'timestampFormat\', \'dd/MM/yyyy\')); {\\"time\\":\\"26/08/2015\\"} > SELECT to_json(array(named_struct(\'a\', 1, \'b\', 2))); [{\\"a\\":1,\\"b\\":2}] > SELECT to_json(map(\'a\', named_struct(\'b\', 1))); {\\"a\\":{\\"b\\":1}} > SELECT to_json(map(named_struct(\'a\', 1),named_struct(\'b\', 2))); {\\"[1]\\":{\\"b\\":2}} > SELECT to_json(map(\'a\', 1)); {\\"a\\":1} > SELECT to_json(array((map(\'a\', 1)))); [{\\"a\\":1}] Since: 2.2.0","title":"to_json"},{"location":"#to_timestamp","text":"to_timestamp(timestamp_str[, fmt]) - Parses the timestamp_str expression with the fmt expression to a timestamp. Returns null with invalid input. By default, it follows casting rules to a timestamp if the fmt is omitted. The result data type is consistent with the value of configuration spark.sql.timestampType . Arguments: timestamp_str - A string to be parsed to timestamp. fmt - Timestamp format pattern to follow. See Datetime Patterns for valid date and time format patterns. Examples: > SELECT to_timestamp(\'2016-12-31 00:12:00\'); 2016-12-31 00:12:00 > SELECT to_timestamp(\'2016-12-31\', \'yyyy-MM-dd\'); 2016-12-31 00:00:00 Since: 2.2.0","title":"to_timestamp"},{"location":"#to_unix_timestamp","text":"to_unix_timestamp(timeExp[, fmt]) - Returns the UNIX timestamp of the given time. Arguments: timeExp - A date/timestamp or string which is returned as a UNIX timestamp. fmt - Date/time format pattern to follow. Ignored if timeExp is not a string. Default value is \\"yyyy-MM-dd HH:mm:ss\\". See Datetime Patterns for valid date and time format patterns. Examples: > SELECT to_unix_timestamp(\'2016-04-08\', \'yyyy-MM-dd\'); 1460098800 Since: 1.6.0","title":"to_unix_timestamp"},{"location":"#to_utc_timestamp","text":"to_utc_timestamp(timestamp, timezone) - Given a timestamp like \'2017-07-14 02:40:00.0\', interprets it as a time in the given time zone, and renders that time as a timestamp in UTC. For example, \'GMT+1\' would yield \'2017-07-14 01:40:00.0\'. Examples: > SELECT to_utc_timestamp(\'2016-08-31\', \'Asia/Seoul\'); 2016-08-30 15:00:00 Since: 1.5.0","title":"to_utc_timestamp"},{"location":"#transform","text":"transform(expr, func) - Transforms elements in an array using the function. Examples: > SELECT transform(array(1, 2, 3), x -> x + 1); [2,3,4] > SELECT transform(array(1, 2, 3), (x, i) -> x + i); [1,3,5] Since: 2.4.0","title":"transform"},{"location":"#transform_keys","text":"transform_keys(expr, func) - Transforms elements in a map using the function. Examples: > SELECT transform_keys(map_from_arrays(array(1, 2, 3), array(1, 2, 3)), (k, v) -> k + 1); {2:1,3:2,4:3} > SELECT transform_keys(map_from_arrays(array(1, 2, 3), array(1, 2, 3)), (k, v) -> k + v); {2:1,4:2,6:3} Since: 3.0.0","title":"transform_keys"},{"location":"#transform_values","text":"transform_values(expr, func) - Transforms values in the map using the function. Examples: > SELECT transform_values(map_from_arrays(array(1, 2, 3), array(1, 2, 3)), (k, v) -> v + 1); {1:2,2:3,3:4} > SELECT transform_values(map_from_arrays(array(1, 2, 3), array(1, 2, 3)), (k, v) -> k + v); {1:2,2:4,3:6} Since: 3.0.0","title":"transform_values"},{"location":"#translate","text":"translate(input, from, to) - Translates the input string by replacing the characters present in the from string with the corresponding characters in the to string. Examples: > SELECT translate(\'AaBbCc\', \'abc\', \'123\'); A1B2C3 Since: 1.5.0","title":"translate"},{"location":"#trim","text":"trim(str) - Removes the leading and trailing space characters from str . trim(BOTH FROM str) - Removes the leading and trailing space characters from str . trim(LEADING FROM str) - Removes the leading space characters from str . trim(TRAILING FROM str) - Removes the trailing space characters from str . trim(trimStr FROM str) - Remove the leading and trailing trimStr characters from str . trim(BOTH trimStr FROM str) - Remove the leading and trailing trimStr characters from str . trim(LEADING trimStr FROM str) - Remove the leading trimStr characters from str . trim(TRAILING trimStr FROM str) - Remove the trailing trimStr characters from str . Arguments: str - a string expression trimStr - the trim string characters to trim, the default value is a single space BOTH, FROM - these are keywords to specify trimming string characters from both ends of the string LEADING, FROM - these are keywords to specify trimming string characters from the left end of the string TRAILING, FROM - these are keywords to specify trimming string characters from the right end of the string Examples: > SELECT trim(\' SparkSQL \'); SparkSQL > SELECT trim(BOTH FROM \' SparkSQL \'); SparkSQL > SELECT trim(LEADING FROM \' SparkSQL \'); SparkSQL > SELECT trim(TRAILING FROM \' SparkSQL \'); SparkSQL > SELECT trim(\'SL\' FROM \'SSparkSQLS\'); parkSQ > SELECT trim(BOTH \'SL\' FROM \'SSparkSQLS\'); parkSQ > SELECT trim(LEADING \'SL\' FROM \'SSparkSQLS\'); parkSQLS > SELECT trim(TRAILING \'SL\' FROM \'SSparkSQLS\'); SSparkSQ Since: 1.5.0","title":"trim"},{"location":"#trunc","text":"trunc(date, fmt) - Returns date with the time portion of the day truncated to the unit specified by the format model fmt . Arguments: date - date value or valid date string fmt - the format representing the unit to be truncated to \\"YEAR\\", \\"YYYY\\", \\"YY\\" - truncate to the first date of the year that the date falls in \\"QUARTER\\" - truncate to the first date of the quarter that the date falls in \\"MONTH\\", \\"MM\\", \\"MON\\" - truncate to the first date of the month that the date falls in \\"WEEK\\" - truncate to the Monday of the week that the date falls in Examples: > SELECT trunc(\'2019-08-04\', \'week\'); 2019-07-29 > SELECT trunc(\'2019-08-04\', \'quarter\'); 2019-07-01 > SELECT trunc(\'2009-02-12\', \'MM\'); 2009-02-01 > SELECT trunc(\'2015-10-27\', \'YEAR\'); 2015-01-01 Since: 1.5.0","title":"trunc"},{"location":"#try_add","text":"try_add(expr1, expr2) - Returns the sum of expr1 and expr2 and the result is null on overflow. The acceptable input types are the same with the + operator. Examples: > SELECT try_add(1, 2); 3 > SELECT try_add(2147483647, 1); NULL > SELECT try_add(date\'2021-01-01\', 1); 2021-01-02 > SELECT try_add(date\'2021-01-01\', interval 1 year); 2022-01-01 > SELECT try_add(timestamp\'2021-01-01 00:00:00\', interval 1 day); 2021-01-02 00:00:00 > SELECT try_add(interval 1 year, interval 2 year); 3-0 Since: 3.2.0","title":"try_add"},{"location":"#try_divide","text":"try_divide(dividend, divisor) - Returns dividend / divisor . It always performs floating point division. Its result is always null if expr2 is 0. dividend must be a numeric or an interval. divisor must be a numeric. Examples: > SELECT try_divide(3, 2); 1.5 > SELECT try_divide(2L, 2L); 1.0 > SELECT try_divide(1, 0); NULL > SELECT try_divide(interval 2 month, 2); 0-1 > SELECT try_divide(interval 2 month, 0); NULL Since: 3.2.0","title":"try_divide"},{"location":"#typeof","text":"typeof(expr) - Return DDL-formatted type string for the data type of the input. Examples: > SELECT typeof(1); int > SELECT typeof(array(1)); array<int> Since: 3.0.0","title":"typeof"},{"location":"#ucase","text":"ucase(str) - Returns str with all characters changed to uppercase. Examples: > SELECT ucase(\'SparkSql\'); SPARKSQL Since: 1.0.1","title":"ucase"},{"location":"#unbase64","text":"unbase64(str) - Converts the argument from a base 64 string str to a binary. Examples: > SELECT unbase64(\'U3BhcmsgU1FM\'); Spark SQL Since: 1.5.0","title":"unbase64"},{"location":"#unhex","text":"unhex(expr) - Converts hexadecimal expr to binary. Examples: > SELECT decode(unhex(\'537061726B2053514C\'), \'UTF-8\'); Spark SQL Since: 1.5.0","title":"unhex"},{"location":"#unix_date","text":"unix_date(date) - Returns the number of days since 1970-01-01. Examples: > SELECT unix_date(DATE(\\"1970-01-02\\")); 1 Since: 3.1.0","title":"unix_date"},{"location":"#unix_micros","text":"unix_micros(timestamp) - Returns the number of microseconds since 1970-01-01 00:00:00 UTC. Examples: > SELECT unix_micros(TIMESTAMP(\'1970-01-01 00:00:01Z\')); 1000000 Since: 3.1.0","title":"unix_micros"},{"location":"#unix_millis","text":"unix_millis(timestamp) - Returns the number of milliseconds since 1970-01-01 00:00:00 UTC. Truncates higher levels of precision. Examples: > SELECT unix_millis(TIMESTAMP(\'1970-01-01 00:00:01Z\')); 1000 Since: 3.1.0","title":"unix_millis"},{"location":"#unix_seconds","text":"unix_seconds(timestamp) - Returns the number of seconds since 1970-01-01 00:00:00 UTC. Truncates higher levels of precision. Examples: > SELECT unix_seconds(TIMESTAMP(\'1970-01-01 00:00:01Z\')); 1 Since: 3.1.0","title":"unix_seconds"},{"location":"#unix_timestamp","text":"unix_timestamp([timeExp[, fmt]]) - Returns the UNIX timestamp of current or specified time. Arguments: timeExp - A date/timestamp or string. If not provided, this defaults to current time. fmt - Date/time format pattern to follow. Ignored if timeExp is not a string. Default value is \\"yyyy-MM-dd HH:mm:ss\\". See Datetime Patterns for valid date and time format patterns. Examples: > SELECT unix_timestamp(); 1476884637 > SELECT unix_timestamp(\'2016-04-08\', \'yyyy-MM-dd\'); 1460041200 Since: 1.5.0","title":"unix_timestamp"},{"location":"#upper","text":"upper(str) - Returns str with all characters changed to uppercase. Examples: > SELECT upper(\'SparkSql\'); SPARKSQL Since: 1.0.1","title":"upper"},{"location":"#uuid","text":"uuid() - Returns an universally unique identifier (UUID) string. The value is returned as a canonical UUID 36-character string. Examples: > SELECT uuid(); 46707d92-02f4-4817-8116-a4c3b23e6266 Note: The function is non-deterministic. Since: 2.3.0","title":"uuid"},{"location":"#var_pop","text":"var_pop(expr) - Returns the population variance calculated from values of a group. Examples: > SELECT var_pop(col) FROM VALUES (1), (2), (3) AS tab(col); 0.6666666666666666 Since: 1.6.0","title":"var_pop"},{"location":"#var_samp","text":"var_samp(expr) - Returns the sample variance calculated from values of a group. Examples: > SELECT var_samp(col) FROM VALUES (1), (2), (3) AS tab(col); 1.0 Since: 1.6.0","title":"var_samp"},{"location":"#variance","text":"variance(expr) - Returns the sample variance calculated from values of a group. Examples: > SELECT variance(col) FROM VALUES (1), (2), (3) AS tab(col); 1.0 Since: 1.6.0","title":"variance"},{"location":"#version","text":"version() - Returns the Spark version. The string contains 2 fields, the first being a release version and the second being a git revision. Examples: > SELECT version(); 3.1.0 a6d6ea3efedbad14d99c24143834cd4e2e52fb40 Since: 3.0.0","title":"version"},{"location":"#weekday","text":"weekday(date) - Returns the day of the week for date/timestamp (0 = Monday, 1 = Tuesday, ..., 6 = Sunday). Examples: > SELECT weekday(\'2009-07-30\'); 3 Since: 2.4.0","title":"weekday"},{"location":"#weekofyear","text":"weekofyear(date) - Returns the week of the year of the given date. A week is considered to start on a Monday and week 1 is the first week with >3 days. Examples: > SELECT weekofyear(\'2008-02-20\'); 8 Since: 1.5.0","title":"weekofyear"},{"location":"#when","text":"CASE WHEN expr1 THEN expr2 [WHEN expr3 THEN expr4]* [ELSE expr5] END - When expr1 = true, returns expr2 ; else when expr3 = true, returns expr4 ; else returns expr5 . Arguments: expr1, expr3 - the branch condition expressions should all be boolean type. expr2, expr4, expr5 - the branch value expressions and else value expression should all be same type or coercible to a common type. Examples: > SELECT CASE WHEN 1 > 0 THEN 1 WHEN 2 > 0 THEN 2.0 ELSE 1.2 END; 1.0 > SELECT CASE WHEN 1 < 0 THEN 1 WHEN 2 > 0 THEN 2.0 ELSE 1.2 END; 2.0 > SELECT CASE WHEN 1 < 0 THEN 1 WHEN 2 < 0 THEN 2.0 END; NULL Since: 1.0.1","title":"when"},{"location":"#width_bucket","text":"width_bucket(value, min_value, max_value, num_bucket) - Returns the bucket number to which value would be assigned in an equiwidth histogram with num_bucket buckets, in the range min_value to max_value .\\" Examples: > SELECT width_bucket(5.3, 0.2, 10.6, 5); 3 > SELECT width_bucket(-2.1, 1.3, 3.4, 3); 0 > SELECT width_bucket(8.1, 0.0, 5.7, 4); 5 > SELECT width_bucket(-0.9, 5.2, 0.5, 2); 3 Since: 3.1.0","title":"width_bucket"},{"location":"#window","text":"window(time_column, window_duration[, slide_duration[, start_time]]) - Bucketize rows into one or more time windows given a timestamp specifying column. Window starts are inclusive but the window ends are exclusive, e.g. 12:05 will be in the window [12:05,12:10) but not in [12:00,12:05). Windows can support microsecond precision. Windows in the order of months are not supported. See \'Window Operations on Event Time\' in Structured Streaming guide doc for detailed explanation and examples. Arguments: time_column - The column or the expression to use as the timestamp for windowing by time. The time column must be of TimestampType. window_duration - A string specifying the width of the window represented as \\"interval value\\". (See Interval Literal for more details.) Note that the duration is a fixed length of time, and does not vary over time according to a calendar. slide_duration - A string specifying the sliding interval of the window represented as \\"interval value\\". A new window will be generated every slide_duration . Must be less than or equal to the window_duration . This duration is likewise absolute, and does not vary according to a calendar. start_time - The offset with respect to 1970-01-01 00:00:00 UTC with which to start window intervals. For example, in order to have hourly tumbling windows that start 15 minutes past the hour, e.g. 12:15-13:15, 13:15-14:15... provide start_time as 15 minutes . Examples: > SELECT a, window.start, window.end, count(*) as cnt FROM VALUES (\'A1\', \'2021-01-01 00:00:00\'), (\'A1\', \'2021-01-01 00:04:30\'), (\'A1\', \'2021-01-01 00:06:00\'), (\'A2\', \'2021-01-01 00:01:00\') AS tab(a, b) GROUP by a, window(b, \'5 minutes\') ORDER BY a, start; A1 2021-01-01 00:00:00 2021-01-01 00:05:00 2 A1 2021-01-01 00:05:00 2021-01-01 00:10:00 1 A2 2021-01-01 00:00:00 2021-01-01 00:05:00 1 > SELECT a, window.start, window.end, count(*) as cnt FROM VALUES (\'A1\', \'2021-01-01 00:00:00\'), (\'A1\', \'2021-01-01 00:04:30\'), (\'A1\', \'2021-01-01 00:06:00\'), (\'A2\', \'2021-01-01 00:01:00\') AS tab(a, b) GROUP by a, window(b, \'10 minutes\', \'5 minutes\') ORDER BY a, start; A1 2020-12-31 23:55:00 2021-01-01 00:05:00 2 A1 2021-01-01 00:00:00 2021-01-01 00:10:00 3 A1 2021-01-01 00:05:00 2021-01-01 00:15:00 1 A2 2020-12-31 23:55:00 2021-01-01 00:05:00 1 A2 2021-01-01 00:00:00 2021-01-01 00:10:00 1 Since: 2.0.0","title":"window"},{"location":"#xpath","text":"xpath(xml, xpath) - Returns a string array of values within the nodes of xml that match the XPath expression. Examples: > SELECT xpath(\'<a><b>b1</b><b>b2</b><b>b3</b><c>c1</c><c>c2</c></a>\',\'a/b/text()\'); [\\"b1\\",\\"b2\\",\\"b3\\"] Since: 2.0.0","title":"xpath"},{"location":"#xpath_boolean","text":"xpath_boolean(xml, xpath) - Returns true if the XPath expression evaluates to true, or if a matching node is found. Examples: > SELECT xpath_boolean(\'<a><b>1</b></a>\',\'a/b\'); true Since: 2.0.0","title":"xpath_boolean"},{"location":"#xpath_double","text":"xpath_double(xml, xpath) - Returns a double value, the value zero if no match is found, or NaN if a match is found but the value is non-numeric. Examples: > SELECT xpath_double(\'<a><b>1</b><b>2</b></a>\', \'sum(a/b)\'); 3.0 Since: 2.0.0","title":"xpath_double"},{"location":"#xpath_float","text":"xpath_float(xml, xpath) - Returns a float value, the value zero if no match is found, or NaN if a match is found but the value is non-numeric. Examples: > SELECT xpath_float(\'<a><b>1</b><b>2</b></a>\', \'sum(a/b)\'); 3.0 Since: 2.0.0","title":"xpath_float"},{"location":"#xpath_int","text":"xpath_int(xml, xpath) - Returns an integer value, or the value zero if no match is found, or a match is found but the value is non-numeric. Examples: > SELECT xpath_int(\'<a><b>1</b><b>2</b></a>\', \'sum(a/b)\'); 3 Since: 2.0.0","title":"xpath_int"},{"location":"#xpath_long","text":"xpath_long(xml, xpath) - Returns a long integer value, or the value zero if no match is found, or a match is found but the value is non-numeric. Examples: > SELECT xpath_long(\'<a><b>1</b><b>2</b></a>\', \'sum(a/b)\'); 3 Since: 2.0.0","title":"xpath_long"},{"location":"#xpath_number","text":"xpath_number(xml, xpath) - Returns a double value, the value zero if no match is found, or NaN if a match is found but the value is non-numeric. Examples: > SELECT xpath_number(\'<a><b>1</b><b>2</b></a>\', \'sum(a/b)\'); 3.0 Since: 2.0.0","title":"xpath_number"},{"location":"#xpath_short","text":"xpath_short(xml, xpath) - Returns a short integer value, or the value zero if no match is found, or a match is found but the value is non-numeric. Examples: > SELECT xpath_short(\'<a><b>1</b><b>2</b></a>\', \'sum(a/b)\'); 3 Since: 2.0.0","title":"xpath_short"},{"location":"#xpath_string","text":"xpath_string(xml, xpath) - Returns the text contents of the first xml node that matches the XPath expression. Examples: > SELECT xpath_string(\'<a><b>b</b><c>cc</c></a>\',\'a/c\'); cc Since: 2.0.0","title":"xpath_string"},{"location":"#xxhash64","text":"xxhash64(expr1, expr2, ...) - Returns a 64-bit hash value of the arguments. Examples: > SELECT xxhash64(\'Spark\', array(123), 2); 5602566077635097486 Since: 3.0.0","title":"xxhash64"},{"location":"#year","text":"year(date) - Returns the year component of the date/timestamp. Examples: > SELECT year(\'2016-07-30\'); 2016 Since: 1.5.0","title":"year"},{"location":"#zip_with","text":"zip_with(left, right, func) - Merges the two given arrays, element-wise, into a single array using function. If one array is shorter, nulls are appended at the end to match the length of the longer array, before applying function. Examples: > SELECT zip_with(array(1, 2, 3), array(\'a\', \'b\', \'c\'), (x, y) -> (y, x)); [{\\"y\\":\\"a\\",\\"x\\":1},{\\"y\\":\\"b\\",\\"x\\":2},{\\"y\\":\\"c\\",\\"x\\":3}] > SELECT zip_with(array(1, 2), array(3, 4), (x, y) -> x + y); [4,6] > SELECT zip_with(array(\'a\', \'b\', \'c\'), array(\'d\', \'e\', \'f\'), (x, y) -> concat(x, y)); [\\"ad\\",\\"be\\",\\"cf\\"] Since: 2.4.0","title":"zip_with"},{"location":"#_17","text":"expr1 | expr2 - Returns the result of bitwise OR of expr1 and expr2 . Examples: > SELECT 3 | 5; 7 Since: 1.4.0","title":"|"},{"location":"#_18","text":"expr1 || expr2 - Returns the concatenation of expr1 and expr2 . Examples: > SELECT \'Spark\' || \'SQL\'; SparkSQL > SELECT array(1, 2, 3) || array(4, 5) || array(6); [1,2,3,4,5,6] Note: || for arrays is available since 2.4.0. Since: 2.3.0","title":"||"},{"location":"#_19","text":"~ expr - Returns the result of bitwise NOT of expr . Examples: > SELECT ~ 0; -1 Since: 1.4.0","title":"~"},{"title":"st_box2DFromGeoHash","text":" Geometry st_box2DFromGeoHash(String geohash , Int prec)"},{"title":"st_geomFromGeoHash","text":" Geometry st_geomFromGeoHash(String geohash , Int prec)"},{"title":"st_geomFromGeoJSON","text":" Geometry st_geomFromGeoJSON(String geojsonGeometry)"},{"title":"st_geomFromText","text":" Geometry st_geomFromText(String wkt)"},{"title":"st_geomFromWKB","text":" Geometry st_geomFromWKB(Array [ Byte ] wkb)"},{"title":"st_geomFromWKT","text":" Geometry st_geomFromWKT(String wkt)"},{"title":"st_geometryFromText","text":" Geometry st_geometryFromText(String wkt)"},{"title":"st_lineFromText","text":" LineString st_lineFromText(String wkt)"},{"title":"st_mLineFromText","text":" MultiLineString st_mLineFromText(String wkt)"},{"title":"st_mPointFromText","text":" MultiPoint st_mPointFromText(String wkt)"},{"title":"st_mPolyFromText","text":" MultiPolygon st_mPolyFromText(String wkt)"},{"title":"st_makeBBOX","text":" Geometry st_makeBBOX(Double lowerX , Double lowerY , Double upperX , Double upperY)"},{"title":"st_makeBox2D","text":" Geometry st_makeBox2D(Point lowerLeft , Point upperRight)"},{"title":"st_makeLine","text":" LineString st_makeLine(Seq [ Point ] points)"},{"title":"st_makePoint","text":" Point st_makePoint(Double x , Double y)"},{"title":"st_makePointM","text":" Point st_makePointM(Double x , Double y , Double m)"},{"title":"st_makePolygon","text":" Polygon st_makePolygon(LineString shell)"},{"title":"st_point","text":" Point st_point(Double x , Double y)"},{"title":"st_pointFromGeoHash","text":" Point st_pointFromGeoHash(String geohash , Int prec)"},{"title":"st_pointFromText","text":" Point st_pointFromText(String wkt)"},{"title":"st_pointFromWKB","text":" Point st_pointFromWKB(Array [ Byte ] wkb)"},{"title":"st_polygon","text":" Polygon st_polygon(LineString shell)"},{"title":"st_polygonFromText","text":" Polygon st_polygonFromText(String wkt)"},{"title":"st_boundary","text":" Geometry st_boundary(Geometry geom)"},{"title":"st_coordDim","text":" Int st_coordDim(Geometry geom)"},{"title":"st_dimension","text":" Int st_dimension(Geometry geom)"},{"title":"st_envelope","text":" Geometry st_envelope(Geometry geom)"},{"title":"st_exteriorRing","text":" LineString st_exteriorRing(Geometry geom)"},{"title":"st_geometryN","text":" Int st_geometryN(Geometry geom , Int n)"},{"title":"st_interiorRingN","text":" Int st_interiorRingN(Geometry geom , Int n)"},{"title":"st_isClosed","text":" Boolean st_isClosed(Geometry geom)"},{"title":"st_isCollection","text":" Boolean st_isCollection(Geometry geom)"},{"title":"st_isEmpty","text":" Boolean st_isEmpty(Geometry geom)"},{"title":"st_isRing","text":" Boolean st_isRing(Geometry geom)"},{"title":"st_isSimple","text":" Boolean st_isSimple(Geometry geom)"},{"title":"st_isValid","text":" Boolean st_isValid(Geometry geom)"},{"title":"st_numGeometries","text":" Int st_numGeometries(Geometry geom)"},{"title":"st_numPoints","text":" Int st_numPoints(Geometry geom)"},{"title":"st_pointN","text":" Point st_pointN(Geometry geom , Int n)"},{"title":"st_x","text":" Float st_X(Geometry geom)"},{"title":"st_y","text":" Float st_y(Geometry geom)"},{"title":"st_castToLineString","text":" LineString st_castToLineString(Geometry g)"},{"title":"st_castToPoint","text":" Point st_castToPoint(Geometry g)"},{"title":"st_castToPolygon","text":" Polygon st_castToPolygon(Geometry g)"},{"title":"st_castToGeometry","text":" Geometry st_castToGeometry(Geometry g)"},{"title":"st_byteArray","text":" Array [ Byte ] st_byteArray(String s)"},{"title":"st_translate","text":" Geometry st_translate(Geometry geom , Double deltaX , Double deltaY)"},{"title":"st_asBinary","text":" Array [ Byte ] st_asBinary(Geometry geom)"},{"title":"st_asGeoJSON","text":" String st_asGeoJSON(Geometry geom)"},{"title":"st_asLatLonText","text":" String st_asLatLonText(Point p)"},{"title":"st_asText","text":" String st_asText(Geometry geom)"},{"title":"st_geoHash","text":" String st_geoHash(Geometry geom , Int prec)"},{"title":"st_area","text":" Double st_area(Geometry g)"},{"title":"st_centroid","text":" Point st_centroid(Geometry g)"},{"title":"st_closestPoint","text":" Point st_closestPoint(Geometry a , Geometry b)"},{"title":"st_contains","text":" Boolean st_contains(Geometry a , Geometry b)"},{"title":"st_covers","text":" Boolean st_covers(Geometry a , Geometry b)"},{"title":"st_crosses","text":" Boolean st_crosses(Geometry a , Geometry b)"},{"title":"st_difference","text":" Geometry st_difference(Geometry a , Geometry b)"},{"title":"st_disjoint","text":" Boolean st_disjoint(Geometry a , Geometry b)"},{"title":"st_distance","text":" Double st_distance(Geometry a , Geometry b)"},{"title":"st_distanceSphere","text":" Double st_distanceSphere(Geometry a , Geometry b)"},{"title":"st_distanceSpheroid","text":" Double st_distanceSpheroid(Geometry a , Geometry b)"},{"title":"st_equals","text":" Boolean st_equals(Geometry a , Geometry b)"},{"title":"st_intersection","text":" Geometry st_intersection(Geometry a , Geometry b)"},{"title":"st_intersects","text":" Boolean st_intersects(Geometry a , Geometry b)"},{"title":"st_length","text":" Double st_length(Geometry geom)"},{"title":"st_lengthSphere","text":" Double st_lengthSphere(LineString line)"},{"title":"st_lengthSpheroid","text":" Double st_lengthSpheroid(LineString line)"},{"title":"st_overlaps","text":" Boolean st_overlaps(Geometry a , Geometry b)"},{"title":"st_relate","text":" String st_relate(Geometry a , Geometry b)"},{"title":"st_relateBool","text":" Boolean st_relateBool(Geometry a , Geometry b , String mask)"},{"title":"st_touches","text":" Boolean st_touches(Geometry a , Geometry b)"},{"title":"st_transform","text":" Geometry st_transform(Geometry a , String fromCRS , String toCRS)"},{"title":"st_within","text":" Boolean st_within(Geometry a , Geometry b)"},{"title":"st_antimeridianSafeGeom","text":" Geometry st_antimeridianSafeGeom(Geometry geom)"},{"title":"st_bufferPoint","text":" Geometry st_bufferPoint(Point p , Double buffer)"},{"title":"st_convexHull","text":" Geometry st_convexHull(Geometry geom)"}]}')},981:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"}),"FormatPaint");t.default=a},982:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M3 15h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V9H3v2zm0-6v2h8V5H3zm10 0h8v14h-8V5z"}),"VerticalSplit");t.default=a},983:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumbered");t.default=a},985:function(e,t,n){"use strict";var r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=n(0),a=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=a},986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(652);function i(e){return"function"===typeof e?e.name:"symbol"===typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},998:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));n(1911);var r,i,o,a,s,u=n(530),c=n(2674),l=n.n(c),f=n(651),h=n(562),d=n.n(h),p=n(244),m=n.n(p),E=n(245),v=n.n(E),g=n(563),y=n.n(g),b=(n(564),n(653)),S=n(878),T=(r=Object(u.injectable)(),i=Object(u.inject)(b.a.RenderEngine),r((a=function(){function e(){m()(this,e),d()(this,"engine",s,this),this.resourcePool={}}return v()(e,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var t=e.descriptor,n=t.width,r=t.height,i=t.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:S.a.CLAMP_TO_EDGE,wrapT:S.a.CLAMP_TO_EDGE,usage:i})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),s=y()(a.prototype,"engine",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a))||o),x=n(1523),O=n(1532),R=n(1449),A=n(1450),_=n(1451),N=n(1452),C=n(1453),L=n(1454),I=n(1918),w=n(1300),M=n(1301),j=n(1457),P=n(1458),k=n(616),D=n.n(k),U=n(617),F=n.n(U),B=n(618),G=n.n(B);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var i=G()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F()(this,n)}}var H=function(e){D()(n,e);var t=V(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).name=void 0,r.name=e.name||"",r}return n}(f.a),z=n(1459),W=n(1460),Y=n(1461),X=n(1462),q=n(1529),K=new u.Container;l()(K,!1);function Q(){var e=new u.Container;return e.parent=K,e.bind(b.a.Systems).to(z.a).inSingletonScope().whenTargetNamed(b.a.SceneGraphSystem),e.bind(b.a.Systems).to(x.a).inSingletonScope().whenTargetNamed(b.a.FrameGraphSystem),e.bind(b.a.Systems).to(L.a).inSingletonScope().whenTargetNamed(b.a.MeshSystem),e.bind(b.a.Systems).to(R.a).inSingletonScope().whenTargetNamed(b.a.GeometrySystem),e.bind(b.a.Systems).to(_.a).inSingletonScope().whenTargetNamed(b.a.MaterialSystem),e.bind(b.a.Systems).to(j.a).inSingletonScope().whenTargetNamed(b.a.RendererSystem),e.bind(b.a.ResourcePool).to(T).inSingletonScope(),e.bind(b.a.ConfigService).to(Y.a).inSingletonScope(),e.bind(b.a.InteractorService).to(X.a).inSingletonScope(),e.bind(b.a.RenderPass).to(M.a).inSingletonScope().whenTargetNamed(M.a.IDENTIFIER),e.bind(b.a.RenderPass).to(I.a).inSingletonScope().whenTargetNamed(I.a.IDENTIFIER),e.bind(b.a.RenderPass).to(w.a).inSingletonScope().whenTargetNamed(w.a.IDENTIFIER),e.bind(b.a.RenderPassFactory).toFactory((function(e){return function(t){return e.container.getNamed(b.a.RenderPass,t)}})),e}K.bind(b.a.ShaderModuleService).to(q.a).inSingletonScope(),K.bind(b.a.NameComponentManager).toConstantValue(new f.b(H)),K.bind(b.a.HierarchyComponentManager).toConstantValue(new f.b(P.a)),K.bind(b.a.TransformComponentManager).toConstantValue(new f.b(W.a)),K.bind(b.a.MeshComponentManager).toConstantValue(new f.b(C.a)),K.bind(b.a.CullableComponentManager).toConstantValue(new f.b(N.a)),K.bind(b.a.GeometryComponentManager).toConstantValue(new f.b(O.a)),K.bind(b.a.MaterialComponentManager).toConstantValue(new f.b(A.a))}}]);